#!/usr/bin/env bun
// @bun
var OB=Object.create;var{getPrototypeOf:NB,defineProperty:vQ,getOwnPropertyNames:wB}=Object;var MB=Object.prototype.hasOwnProperty;var oY=(Q,X,W)=>{W=Q!=null?OB(NB(Q)):{};let Y=X||!Q||!Q.__esModule?vQ(W,"default",{value:Q,enumerable:!0}):W;for(let $ of wB(Q))if(!MB.call(Y,$))vQ(Y,$,{get:()=>Q[$],enumerable:!0});return Y};var j=(Q,X)=>()=>(X||Q((X={exports:{}}).exports,X),X.exports);var tY=(Q,X)=>{for(var W in X)vQ(Q,W,{get:X[W],enumerable:!0,configurable:!0,set:(Y)=>X[W]=()=>Y})};var F4=j((T7)=>{Object.defineProperty(T7,"__esModule",{value:!0});T7.regexpCode=T7.getEsmExportName=T7.getProperty=T7.safeStringify=T7.stringify=T7.strConcat=T7.addCodeArg=T7.str=T7._=T7.nil=T7._Code=T7.Name=T7.IDENTIFIER=T7._CodeOrName=void 0;class d9{}T7._CodeOrName=d9;T7.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class D6 extends d9{constructor(Q){super();if(!T7.IDENTIFIER.test(Q))throw Error("CodeGen: name must be a valid identifier");this.str=Q}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}T7.Name=D6;class d0 extends d9{constructor(Q){super();this._items=typeof Q==="string"?[Q]:Q}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let Q=this._items[0];return Q===""||Q==='""'}get str(){var Q;return(Q=this._str)!==null&&Q!==void 0?Q:this._str=this._items.reduce((X,W)=>`${X}${W}`,"")}get names(){var Q;return(Q=this._names)!==null&&Q!==void 0?Q:this._names=this._items.reduce((X,W)=>{if(W instanceof D6)X[W.str]=(X[W.str]||0)+1;return X},{})}}T7._Code=d0;T7.nil=new d0("");function P7(Q,...X){let W=[Q[0]],Y=0;while(Y<X.length)xW(W,X[Y]),W.push(Q[++Y]);return new d0(W)}T7._=P7;var _W=new d0("+");function C7(Q,...X){let W=[U4(Q[0])],Y=0;while(Y<X.length)W.push(_W),xW(W,X[Y]),W.push(_W,U4(Q[++Y]));return oD(W),new d0(W)}T7.str=C7;function xW(Q,X){if(X instanceof d0)Q.push(...X._items);else if(X instanceof D6)Q.push(X);else Q.push(sD(X))}T7.addCodeArg=xW;function oD(Q){let X=1;while(X<Q.length-1){if(Q[X]===_W){let W=tD(Q[X-1],Q[X+1]);if(W!==void 0){Q.splice(X-1,3,W);continue}Q[X++]="+"}X++}}function tD(Q,X){if(X==='""')return Q;if(Q==='""')return X;if(typeof Q=="string"){if(X instanceof D6||Q[Q.length-1]!=='"')return;if(typeof X!="string")return`${Q.slice(0,-1)}${X}"`;if(X[0]==='"')return Q.slice(0,-1)+X.slice(1);return}if(typeof X=="string"&&X[0]==='"'&&!(Q instanceof D6))return`"${Q}${X.slice(1)}`;return}function aD(Q,X){return X.emptyStr()?Q:Q.emptyStr()?X:C7`${Q}${X}`}T7.strConcat=aD;function sD(Q){return typeof Q=="number"||typeof Q=="boolean"||Q===null?Q:U4(Array.isArray(Q)?Q.join(","):Q)}function eD(Q){return new d0(U4(Q))}T7.stringify=eD;function U4(Q){return JSON.stringify(Q).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}T7.safeStringify=U4;function QL(Q){return typeof Q=="string"&&T7.IDENTIFIER.test(Q)?new d0(`.${Q}`):P7`[${Q}]`}T7.getProperty=QL;function XL(Q){if(typeof Q=="string"&&T7.IDENTIFIER.test(Q))return new d0(`${Q}`);throw Error(`CodeGen: invalid export name: ${Q}, use explicit $id name mapping`)}T7.getEsmExportName=XL;function WL(Q){return new d0(Q.toString())}T7.regexpCode=WL});var fW=j((_7)=>{Object.defineProperty(_7,"__esModule",{value:!0});_7.ValueScope=_7.ValueScopeName=_7.Scope=_7.varKinds=_7.UsedValueState=void 0;var R0=F4();class v7 extends Error{constructor(Q){super(`CodeGen: "code" for ${Q} not defined`);this.value=Q.value}}var n9;(function(Q){Q[Q.Started=0]="Started",Q[Q.Completed=1]="Completed"})(n9||(_7.UsedValueState=n9={}));_7.varKinds={const:new R0.Name("const"),let:new R0.Name("let"),var:new R0.Name("var")};class yW{constructor({prefixes:Q,parent:X}={}){this._names={},this._prefixes=Q,this._parent=X}toName(Q){return Q instanceof R0.Name?Q:this.name(Q)}name(Q){return new R0.Name(this._newName(Q))}_newName(Q){let X=this._names[Q]||this._nameGroup(Q);return`${Q}${X.index++}`}_nameGroup(Q){var X,W;if(((W=(X=this._parent)===null||X===void 0?void 0:X._prefixes)===null||W===void 0?void 0:W.has(Q))||this._prefixes&&!this._prefixes.has(Q))throw Error(`CodeGen: prefix "${Q}" is not allowed in this scope`);return this._names[Q]={prefix:Q,index:0}}}_7.Scope=yW;class hW extends R0.Name{constructor(Q,X){super(X);this.prefix=Q}setValue(Q,{property:X,itemIndex:W}){this.value=Q,this.scopePath=R0._`.${new R0.Name(X)}[${W}]`}}_7.ValueScopeName=hW;var VL=R0._`\n`;class k7 extends yW{constructor(Q){super(Q);this._values={},this._scope=Q.scope,this.opts={...Q,_n:Q.lines?VL:R0.nil}}get(){return this._scope}name(Q){return new hW(Q,this._newName(Q))}value(Q,X){var W;if(X.ref===void 0)throw Error("CodeGen: ref must be passed in value");let Y=this.toName(Q),{prefix:$}=Y,J=(W=X.key)!==null&&W!==void 0?W:X.ref,G=this._values[$];if(G){let B=G.get(J);if(B)return B}else G=this._values[$]=new Map;G.set(J,Y);let H=this._scope[$]||(this._scope[$]=[]),z=H.length;return H[z]=X.ref,Y.setValue(X,{property:$,itemIndex:z}),Y}getValue(Q,X){let W=this._values[Q];if(!W)return;return W.get(X)}scopeRefs(Q,X=this._values){return this._reduceValues(X,(W)=>{if(W.scopePath===void 0)throw Error(`CodeGen: name "${W}" has no value`);return R0._`${Q}${W.scopePath}`})}scopeCode(Q=this._values,X,W){return this._reduceValues(Q,(Y)=>{if(Y.value===void 0)throw Error(`CodeGen: name "${Y}" has no value`);return Y.value.code},X,W)}_reduceValues(Q,X,W={},Y){let $=R0.nil;for(let J in Q){let G=Q[J];if(!G)continue;let H=W[J]=W[J]||new Map;G.forEach((z)=>{if(H.has(z))return;H.set(z,n9.Started);let B=X(z);if(B){let A=this.opts.es5?_7.varKinds.var:_7.varKinds.const;$=R0._`${$}${A} ${z} = ${B};${this.opts._n}`}else if(B=Y===null||Y===void 0?void 0:Y(z))$=R0._`${$}${B}${this.opts._n}`;else throw new v7(z);H.set(z,n9.Completed)})}return $}}_7.ValueScope=k7});var u=j((P0)=>{Object.defineProperty(P0,"__esModule",{value:!0});P0.or=P0.and=P0.not=P0.CodeGen=P0.operators=P0.varKinds=P0.ValueScopeName=P0.ValueScope=P0.Scope=P0.Name=P0.regexpCode=P0.stringify=P0.getProperty=P0.nil=P0.strConcat=P0.str=P0._=void 0;var n=F4(),i0=fW(),C1=F4();Object.defineProperty(P0,"_",{enumerable:!0,get:function(){return C1._}});Object.defineProperty(P0,"str",{enumerable:!0,get:function(){return C1.str}});Object.defineProperty(P0,"strConcat",{enumerable:!0,get:function(){return C1.strConcat}});Object.defineProperty(P0,"nil",{enumerable:!0,get:function(){return C1.nil}});Object.defineProperty(P0,"getProperty",{enumerable:!0,get:function(){return C1.getProperty}});Object.defineProperty(P0,"stringify",{enumerable:!0,get:function(){return C1.stringify}});Object.defineProperty(P0,"regexpCode",{enumerable:!0,get:function(){return C1.regexpCode}});Object.defineProperty(P0,"Name",{enumerable:!0,get:function(){return C1.Name}});var e9=fW();Object.defineProperty(P0,"Scope",{enumerable:!0,get:function(){return e9.Scope}});Object.defineProperty(P0,"ValueScope",{enumerable:!0,get:function(){return e9.ValueScope}});Object.defineProperty(P0,"ValueScopeName",{enumerable:!0,get:function(){return e9.ValueScopeName}});Object.defineProperty(P0,"varKinds",{enumerable:!0,get:function(){return e9.varKinds}});P0.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class T1{optimizeNodes(){return this}optimizeNames(Q,X){return this}}class g7 extends T1{constructor(Q,X,W){super();this.varKind=Q,this.name=X,this.rhs=W}render({es5:Q,_n:X}){let W=Q?i0.varKinds.var:this.varKind,Y=this.rhs===void 0?"":` = ${this.rhs}`;return`${W} ${this.name}${Y};`+X}optimizeNames(Q,X){if(!Q[this.name.str])return;if(this.rhs)this.rhs=V6(this.rhs,Q,X);return this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class mW extends T1{constructor(Q,X,W){super();this.lhs=Q,this.rhs=X,this.sideEffects=W}render({_n:Q}){return`${this.lhs} = ${this.rhs};`+Q}optimizeNames(Q,X){if(this.lhs instanceof n.Name&&!Q[this.lhs.str]&&!this.sideEffects)return;return this.rhs=V6(this.rhs,Q,X),this}get names(){let Q=this.lhs instanceof n.Name?{}:{...this.lhs.names};return s9(Q,this.rhs)}}class y7 extends mW{constructor(Q,X,W,Y){super(Q,W,Y);this.op=X}render({_n:Q}){return`${this.lhs} ${this.op}= ${this.rhs};`+Q}}class h7 extends T1{constructor(Q){super();this.label=Q,this.names={}}render({_n:Q}){return`${this.label}:`+Q}}class f7 extends T1{constructor(Q){super();this.label=Q,this.names={}}render({_n:Q}){return`break${this.label?` ${this.label}`:""};`+Q}}class u7 extends T1{constructor(Q){super();this.error=Q}render({_n:Q}){return`throw ${this.error};`+Q}get names(){return this.error.names}}class l7 extends T1{constructor(Q){super();this.code=Q}render({_n:Q}){return`${this.code};`+Q}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Q,X){return this.code=V6(this.code,Q,X),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class QQ extends T1{constructor(Q=[]){super();this.nodes=Q}render(Q){return this.nodes.reduce((X,W)=>X+W.render(Q),"")}optimizeNodes(){let{nodes:Q}=this,X=Q.length;while(X--){let W=Q[X].optimizeNodes();if(Array.isArray(W))Q.splice(X,1,...W);else if(W)Q[X]=W;else Q.splice(X,1)}return Q.length>0?this:void 0}optimizeNames(Q,X){let{nodes:W}=this,Y=W.length;while(Y--){let $=W[Y];if($.optimizeNames(Q,X))continue;NL(Q,$.names),W.splice(Y,1)}return W.length>0?this:void 0}get names(){return this.nodes.reduce((Q,X)=>i1(Q,X.names),{})}}class Z1 extends QQ{render(Q){return"{"+Q._n+super.render(Q)+"}"+Q._n}}class m7 extends QQ{}class O4 extends Z1{}O4.kind="else";class D1 extends Z1{constructor(Q,X){super(X);this.condition=Q}render(Q){let X=`if(${this.condition})`+super.render(Q);if(this.else)X+="else "+this.else.render(Q);return X}optimizeNodes(){super.optimizeNodes();let Q=this.condition;if(Q===!0)return this.nodes;let X=this.else;if(X){let W=X.optimizeNodes();X=this.else=Array.isArray(W)?new O4(W):W}if(X){if(Q===!1)return X instanceof D1?X:X.nodes;if(this.nodes.length)return this;return new D1(n7(Q),X instanceof D1?[X]:X.nodes)}if(Q===!1||!this.nodes.length)return;return this}optimizeNames(Q,X){var W;if(this.else=(W=this.else)===null||W===void 0?void 0:W.optimizeNames(Q,X),!(super.optimizeNames(Q,X)||this.else))return;return this.condition=V6(this.condition,Q,X),this}get names(){let Q=super.names;if(s9(Q,this.condition),this.else)i1(Q,this.else.names);return Q}}D1.kind="if";class L6 extends Z1{}L6.kind="for";class c7 extends L6{constructor(Q){super();this.iteration=Q}render(Q){return`for(${this.iteration})`+super.render(Q)}optimizeNames(Q,X){if(!super.optimizeNames(Q,X))return;return this.iteration=V6(this.iteration,Q,X),this}get names(){return i1(super.names,this.iteration.names)}}class p7 extends L6{constructor(Q,X,W,Y){super();this.varKind=Q,this.name=X,this.from=W,this.to=Y}render(Q){let X=Q.es5?i0.varKinds.var:this.varKind,{name:W,from:Y,to:$}=this;return`for(${X} ${W}=${Y}; ${W}<${$}; ${W}++)`+super.render(Q)}get names(){let Q=s9(super.names,this.from);return s9(Q,this.to)}}class uW extends L6{constructor(Q,X,W,Y){super();this.loop=Q,this.varKind=X,this.name=W,this.iterable=Y}render(Q){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Q)}optimizeNames(Q,X){if(!super.optimizeNames(Q,X))return;return this.iterable=V6(this.iterable,Q,X),this}get names(){return i1(super.names,this.iterable.names)}}class r9 extends Z1{constructor(Q,X,W){super();this.name=Q,this.args=X,this.async=W}render(Q){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Q)}}r9.kind="func";class o9 extends QQ{render(Q){return"return "+super.render(Q)}}o9.kind="return";class d7 extends Z1{render(Q){let X="try"+super.render(Q);if(this.catch)X+=this.catch.render(Q);if(this.finally)X+=this.finally.render(Q);return X}optimizeNodes(){var Q,X;return super.optimizeNodes(),(Q=this.catch)===null||Q===void 0||Q.optimizeNodes(),(X=this.finally)===null||X===void 0||X.optimizeNodes(),this}optimizeNames(Q,X){var W,Y;return super.optimizeNames(Q,X),(W=this.catch)===null||W===void 0||W.optimizeNames(Q,X),(Y=this.finally)===null||Y===void 0||Y.optimizeNames(Q,X),this}get names(){let Q=super.names;if(this.catch)i1(Q,this.catch.names);if(this.finally)i1(Q,this.finally.names);return Q}}class t9 extends Z1{constructor(Q){super();this.error=Q}render(Q){return`catch(${this.error})`+super.render(Q)}}t9.kind="catch";class a9 extends Z1{render(Q){return"finally"+super.render(Q)}}a9.kind="finally";class i7{constructor(Q,X={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...X,_n:X.lines?`
`:""},this._extScope=Q,this._scope=new i0.Scope({parent:Q}),this._nodes=[new m7]}toString(){return this._root.render(this.opts)}name(Q){return this._scope.name(Q)}scopeName(Q){return this._extScope.name(Q)}scopeValue(Q,X){let W=this._extScope.value(Q,X);return(this._values[W.prefix]||(this._values[W.prefix]=new Set)).add(W),W}getScopeValue(Q,X){return this._extScope.getValue(Q,X)}scopeRefs(Q){return this._extScope.scopeRefs(Q,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Q,X,W,Y){let $=this._scope.toName(X);if(W!==void 0&&Y)this._constants[$.str]=W;return this._leafNode(new g7(Q,$,W)),$}const(Q,X,W){return this._def(i0.varKinds.const,Q,X,W)}let(Q,X,W){return this._def(i0.varKinds.let,Q,X,W)}var(Q,X,W){return this._def(i0.varKinds.var,Q,X,W)}assign(Q,X,W){return this._leafNode(new mW(Q,X,W))}add(Q,X){return this._leafNode(new y7(Q,P0.operators.ADD,X))}code(Q){if(typeof Q=="function")Q();else if(Q!==n.nil)this._leafNode(new l7(Q));return this}object(...Q){let X=["{"];for(let[W,Y]of Q){if(X.length>1)X.push(",");if(X.push(W),W!==Y||this.opts.es5)X.push(":"),(0,n.addCodeArg)(X,Y)}return X.push("}"),new n._Code(X)}if(Q,X,W){if(this._blockNode(new D1(Q)),X&&W)this.code(X).else().code(W).endIf();else if(X)this.code(X).endIf();else if(W)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(Q){return this._elseNode(new D1(Q))}else(){return this._elseNode(new O4)}endIf(){return this._endBlockNode(D1,O4)}_for(Q,X){if(this._blockNode(Q),X)this.code(X).endFor();return this}for(Q,X){return this._for(new c7(Q),X)}forRange(Q,X,W,Y,$=this.opts.es5?i0.varKinds.var:i0.varKinds.let){let J=this._scope.toName(Q);return this._for(new p7($,J,X,W),()=>Y(J))}forOf(Q,X,W,Y=i0.varKinds.const){let $=this._scope.toName(Q);if(this.opts.es5){let J=X instanceof n.Name?X:this.var("_arr",X);return this.forRange("_i",0,n._`${J}.length`,(G)=>{this.var($,n._`${J}[${G}]`),W($)})}return this._for(new uW("of",Y,$,X),()=>W($))}forIn(Q,X,W,Y=this.opts.es5?i0.varKinds.var:i0.varKinds.const){if(this.opts.ownProperties)return this.forOf(Q,n._`Object.keys(${X})`,W);let $=this._scope.toName(Q);return this._for(new uW("in",Y,$,X),()=>W($))}endFor(){return this._endBlockNode(L6)}label(Q){return this._leafNode(new h7(Q))}break(Q){return this._leafNode(new f7(Q))}return(Q){let X=new o9;if(this._blockNode(X),this.code(Q),X.nodes.length!==1)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(o9)}try(Q,X,W){if(!X&&!W)throw Error('CodeGen: "try" without "catch" and "finally"');let Y=new d7;if(this._blockNode(Y),this.code(Q),X){let $=this.name("e");this._currNode=Y.catch=new t9($),X($)}if(W)this._currNode=Y.finally=new a9,this.code(W);return this._endBlockNode(t9,a9)}throw(Q){return this._leafNode(new u7(Q))}block(Q,X){if(this._blockStarts.push(this._nodes.length),Q)this.code(Q).endBlock(X);return this}endBlock(Q){let X=this._blockStarts.pop();if(X===void 0)throw Error("CodeGen: not in self-balancing block");let W=this._nodes.length-X;if(W<0||Q!==void 0&&W!==Q)throw Error(`CodeGen: wrong number of nodes: ${W} vs ${Q} expected`);return this._nodes.length=X,this}func(Q,X=n.nil,W,Y){if(this._blockNode(new r9(Q,X,W)),Y)this.code(Y).endFunc();return this}endFunc(){return this._endBlockNode(r9)}optimize(Q=1){while(Q-- >0)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Q){return this._currNode.nodes.push(Q),this}_blockNode(Q){this._currNode.nodes.push(Q),this._nodes.push(Q)}_endBlockNode(Q,X){let W=this._currNode;if(W instanceof Q||X&&W instanceof X)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${X?`${Q.kind}/${X.kind}`:Q.kind}"`)}_elseNode(Q){let X=this._currNode;if(!(X instanceof D1))throw Error('CodeGen: "else" without "if"');return this._currNode=X.else=Q,this}get _root(){return this._nodes[0]}get _currNode(){let Q=this._nodes;return Q[Q.length-1]}set _currNode(Q){let X=this._nodes;X[X.length-1]=Q}}P0.CodeGen=i7;function i1(Q,X){for(let W in X)Q[W]=(Q[W]||0)+(X[W]||0);return Q}function s9(Q,X){return X instanceof n._CodeOrName?i1(Q,X.names):Q}function V6(Q,X,W){if(Q instanceof n.Name)return Y(Q);if(!$(Q))return Q;return new n._Code(Q._items.reduce((J,G)=>{if(G instanceof n.Name)G=Y(G);if(G instanceof n._Code)J.push(...G._items);else J.push(G);return J},[]));function Y(J){let G=W[J.str];if(G===void 0||X[J.str]!==1)return J;return delete X[J.str],G}function $(J){return J instanceof n._Code&&J._items.some((G)=>G instanceof n.Name&&X[G.str]===1&&W[G.str]!==void 0)}}function NL(Q,X){for(let W in X)Q[W]=(Q[W]||0)-(X[W]||0)}function n7(Q){return typeof Q=="boolean"||typeof Q=="number"||Q===null?!Q:n._`!${lW(Q)}`}P0.not=n7;var wL=r7(P0.operators.AND);function ML(...Q){return Q.reduce(wL)}P0.and=ML;var EL=r7(P0.operators.OR);function bL(...Q){return Q.reduce(EL)}P0.or=bL;function r7(Q){return(X,W)=>X===n.nil?W:W===n.nil?X:n._`${lW(X)} ${Q} ${lW(W)}`}function lW(Q){return Q instanceof n.Name?Q:n._`(${Q})`}});var o=j((Y5)=>{Object.defineProperty(Y5,"__esModule",{value:!0});Y5.checkStrictMode=Y5.getErrorPath=Y5.Type=Y5.useFunc=Y5.setEvaluated=Y5.evaluatedPropsToName=Y5.mergeEvaluated=Y5.eachItem=Y5.unescapeJsonPointer=Y5.escapeJsonPointer=Y5.escapeFragment=Y5.unescapeFragment=Y5.schemaRefOrVal=Y5.schemaHasRulesButRef=Y5.schemaHasRules=Y5.checkUnknownRules=Y5.alwaysValidSchema=Y5.toHash=void 0;var e=u(),RL=F4();function PL(Q){let X={};for(let W of Q)X[W]=!0;return X}Y5.toHash=PL;function CL(Q,X){if(typeof X=="boolean")return X;if(Object.keys(X).length===0)return!0;return s7(Q,X),!e7(X,Q.self.RULES.all)}Y5.alwaysValidSchema=CL;function s7(Q,X=Q.schema){let{opts:W,self:Y}=Q;if(!W.strictSchema)return;if(typeof X==="boolean")return;let $=Y.RULES.keywords;for(let J in X)if(!$[J])W5(Q,`unknown keyword: "${J}"`)}Y5.checkUnknownRules=s7;function e7(Q,X){if(typeof Q=="boolean")return!Q;for(let W in Q)if(X[W])return!0;return!1}Y5.schemaHasRules=e7;function TL(Q,X){if(typeof Q=="boolean")return!Q;for(let W in Q)if(W!=="$ref"&&X.all[W])return!0;return!1}Y5.schemaHasRulesButRef=TL;function ZL({topSchemaRef:Q,schemaPath:X},W,Y,$){if(!$){if(typeof W=="number"||typeof W=="boolean")return W;if(typeof W=="string")return e._`${W}`}return e._`${Q}${X}${(0,e.getProperty)(Y)}`}Y5.schemaRefOrVal=ZL;function vL(Q){return Q5(decodeURIComponent(Q))}Y5.unescapeFragment=vL;function kL(Q){return encodeURIComponent(pW(Q))}Y5.escapeFragment=kL;function pW(Q){if(typeof Q=="number")return`${Q}`;return Q.replace(/~/g,"~0").replace(/\//g,"~1")}Y5.escapeJsonPointer=pW;function Q5(Q){return Q.replace(/~1/g,"/").replace(/~0/g,"~")}Y5.unescapeJsonPointer=Q5;function _L(Q,X){if(Array.isArray(Q))for(let W of Q)X(W);else X(Q)}Y5.eachItem=_L;function t7({mergeNames:Q,mergeToName:X,mergeValues:W,resultToName:Y}){return($,J,G,H)=>{let z=G===void 0?J:G instanceof e.Name?(J instanceof e.Name?Q($,J,G):X($,J,G),G):J instanceof e.Name?(X($,G,J),J):W(J,G);return H===e.Name&&!(z instanceof e.Name)?Y($,z):z}}Y5.mergeEvaluated={props:t7({mergeNames:(Q,X,W)=>Q.if(e._`${W} !== true && ${X} !== undefined`,()=>{Q.if(e._`${X} === true`,()=>Q.assign(W,!0),()=>Q.assign(W,e._`${W} || {}`).code(e._`Object.assign(${W}, ${X})`))}),mergeToName:(Q,X,W)=>Q.if(e._`${W} !== true`,()=>{if(X===!0)Q.assign(W,!0);else Q.assign(W,e._`${W} || {}`),dW(Q,W,X)}),mergeValues:(Q,X)=>Q===!0?!0:{...Q,...X},resultToName:X5}),items:t7({mergeNames:(Q,X,W)=>Q.if(e._`${W} !== true && ${X} !== undefined`,()=>Q.assign(W,e._`${X} === true ? true : ${W} > ${X} ? ${W} : ${X}`)),mergeToName:(Q,X,W)=>Q.if(e._`${W} !== true`,()=>Q.assign(W,X===!0?!0:e._`${W} > ${X} ? ${W} : ${X}`)),mergeValues:(Q,X)=>Q===!0?!0:Math.max(Q,X),resultToName:(Q,X)=>Q.var("items",X)})};function X5(Q,X){if(X===!0)return Q.var("props",!0);let W=Q.var("props",e._`{}`);if(X!==void 0)dW(Q,W,X);return W}Y5.evaluatedPropsToName=X5;function dW(Q,X,W){Object.keys(W).forEach((Y)=>Q.assign(e._`${X}${(0,e.getProperty)(Y)}`,!0))}Y5.setEvaluated=dW;var a7={};function xL(Q,X){return Q.scopeValue("func",{ref:X,code:a7[X.code]||(a7[X.code]=new RL._Code(X.code))})}Y5.useFunc=xL;var cW;(function(Q){Q[Q.Num=0]="Num",Q[Q.Str=1]="Str"})(cW||(Y5.Type=cW={}));function gL(Q,X,W){if(Q instanceof e.Name){let Y=X===cW.Num;return W?Y?e._`"[" + ${Q} + "]"`:e._`"['" + ${Q} + "']"`:Y?e._`"/" + ${Q}`:e._`"/" + ${Q}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return W?(0,e.getProperty)(Q).toString():"/"+pW(Q)}Y5.getErrorPath=gL;function W5(Q,X,W=Q.opts.strictSchema){if(!W)return;if(X=`strict mode: ${X}`,W===!0)throw Error(X);Q.self.logger.warn(X)}Y5.checkStrictMode=W5});var L1=j((J5)=>{Object.defineProperty(J5,"__esModule",{value:!0});var N0=u(),QV={data:new N0.Name("data"),valCxt:new N0.Name("valCxt"),instancePath:new N0.Name("instancePath"),parentData:new N0.Name("parentData"),parentDataProperty:new N0.Name("parentDataProperty"),rootData:new N0.Name("rootData"),dynamicAnchors:new N0.Name("dynamicAnchors"),vErrors:new N0.Name("vErrors"),errors:new N0.Name("errors"),this:new N0.Name("this"),self:new N0.Name("self"),scope:new N0.Name("scope"),json:new N0.Name("json"),jsonPos:new N0.Name("jsonPos"),jsonLen:new N0.Name("jsonLen"),jsonPart:new N0.Name("jsonPart")};J5.default=QV});var N4=j((B5)=>{Object.defineProperty(B5,"__esModule",{value:!0});B5.extendErrors=B5.resetErrorsCount=B5.reportExtraError=B5.reportError=B5.keyword$DataError=B5.keywordError=void 0;var r=u(),WQ=o(),j0=L1();B5.keywordError={message:({keyword:Q})=>r.str`must pass "${Q}" keyword validation`};B5.keyword$DataError={message:({keyword:Q,schemaType:X})=>X?r.str`"${Q}" keyword must be ${X} ($data)`:r.str`"${Q}" keyword is invalid ($data)`};function WV(Q,X=B5.keywordError,W,Y){let{it:$}=Q,{gen:J,compositeRule:G,allErrors:H}=$,z=z5(Q,X,W);if(Y!==null&&Y!==void 0?Y:G||H)G5(J,z);else H5($,r._`[${z}]`)}B5.reportError=WV;function YV(Q,X=B5.keywordError,W){let{it:Y}=Q,{gen:$,compositeRule:J,allErrors:G}=Y,H=z5(Q,X,W);if(G5($,H),!(J||G))H5(Y,j0.default.vErrors)}B5.reportExtraError=YV;function $V(Q,X){Q.assign(j0.default.errors,X),Q.if(r._`${j0.default.vErrors} !== null`,()=>Q.if(X,()=>Q.assign(r._`${j0.default.vErrors}.length`,X),()=>Q.assign(j0.default.vErrors,null)))}B5.resetErrorsCount=$V;function JV({gen:Q,keyword:X,schemaValue:W,data:Y,errsCount:$,it:J}){if($===void 0)throw Error("ajv implementation error");let G=Q.name("err");Q.forRange("i",$,j0.default.errors,(H)=>{if(Q.const(G,r._`${j0.default.vErrors}[${H}]`),Q.if(r._`${G}.instancePath === undefined`,()=>Q.assign(r._`${G}.instancePath`,(0,r.strConcat)(j0.default.instancePath,J.errorPath))),Q.assign(r._`${G}.schemaPath`,r.str`${J.errSchemaPath}/${X}`),J.opts.verbose)Q.assign(r._`${G}.schema`,W),Q.assign(r._`${G}.data`,Y)})}B5.extendErrors=JV;function G5(Q,X){let W=Q.const("err",X);Q.if(r._`${j0.default.vErrors} === null`,()=>Q.assign(j0.default.vErrors,r._`[${W}]`),r._`${j0.default.vErrors}.push(${W})`),Q.code(r._`${j0.default.errors}++`)}function H5(Q,X){let{gen:W,validateName:Y,schemaEnv:$}=Q;if($.$async)W.throw(r._`new ${Q.ValidationError}(${X})`);else W.assign(r._`${Y}.errors`,X),W.return(!1)}var n1={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function z5(Q,X,W){let{createErrors:Y}=Q.it;if(Y===!1)return r._`{}`;return GV(Q,X,W)}function GV(Q,X,W={}){let{gen:Y,it:$}=Q,J=[HV($,W),zV(Q,W)];return BV(Q,X,J),Y.object(...J)}function HV({errorPath:Q},{instancePath:X}){let W=X?r.str`${Q}${(0,WQ.getErrorPath)(X,WQ.Type.Str)}`:Q;return[j0.default.instancePath,(0,r.strConcat)(j0.default.instancePath,W)]}function zV({keyword:Q,it:{errSchemaPath:X}},{schemaPath:W,parentSchema:Y}){let $=Y?X:r.str`${X}/${Q}`;if(W)$=r.str`${$}${(0,WQ.getErrorPath)(W,WQ.Type.Str)}`;return[n1.schemaPath,$]}function BV(Q,{params:X,message:W},Y){let{keyword:$,data:J,schemaValue:G,it:H}=Q,{opts:z,propertyName:B,topSchemaRef:A,schemaPath:K}=H;if(Y.push([n1.keyword,$],[n1.params,typeof X=="function"?X(Q):X||r._`{}`]),z.messages)Y.push([n1.message,typeof W=="function"?W(Q):W]);if(z.verbose)Y.push([n1.schema,G],[n1.parentSchema,r._`${A}${K}`],[j0.default.data,J]);if(B)Y.push([n1.propertyName,B])}});var L5=j((q5)=>{Object.defineProperty(q5,"__esModule",{value:!0});q5.boolOrEmptySchema=q5.topBoolOrEmptySchema=void 0;var LV=N4(),VV=u(),UV=L1(),FV={message:"boolean schema is false"};function OV(Q){let{gen:X,schema:W,validateName:Y}=Q;if(W===!1)K5(Q,!1);else if(typeof W=="object"&&W.$async===!0)X.return(UV.default.data);else X.assign(VV._`${Y}.errors`,null),X.return(!0)}q5.topBoolOrEmptySchema=OV;function NV(Q,X){let{gen:W,schema:Y}=Q;if(Y===!1)W.var(X,!1),K5(Q);else W.var(X,!0)}q5.boolOrEmptySchema=NV;function K5(Q,X){let{gen:W,data:Y}=Q,$={gen:W,keyword:"false schema",data:Y,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:Q};(0,LV.reportError)($,FV,void 0,X)}});var nW=j((V5)=>{Object.defineProperty(V5,"__esModule",{value:!0});V5.getRules=V5.isJSONType=void 0;var MV=["string","number","integer","boolean","null","object","array"],EV=new Set(MV);function bV(Q){return typeof Q=="string"&&EV.has(Q)}V5.isJSONType=bV;function jV(){let Q={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...Q,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},Q.number,Q.string,Q.array,Q.object],post:{rules:[]},all:{},keywords:{}}}V5.getRules=jV});var rW=j((N5)=>{Object.defineProperty(N5,"__esModule",{value:!0});N5.shouldUseRule=N5.shouldUseGroup=N5.schemaHasRulesForType=void 0;function SV({schema:Q,self:X},W){let Y=X.RULES.types[W];return Y&&Y!==!0&&F5(Q,Y)}N5.schemaHasRulesForType=SV;function F5(Q,X){return X.rules.some((W)=>O5(Q,W))}N5.shouldUseGroup=F5;function O5(Q,X){var W;return Q[X.keyword]!==void 0||((W=X.definition.implements)===null||W===void 0?void 0:W.some((Y)=>Q[Y]!==void 0))}N5.shouldUseRule=O5});var w4=j((j5)=>{Object.defineProperty(j5,"__esModule",{value:!0});j5.reportTypeError=j5.checkDataTypes=j5.checkDataType=j5.coerceAndCheckDataType=j5.getJSONTypes=j5.getSchemaTypes=j5.DataType=void 0;var CV=nW(),TV=rW(),ZV=N4(),f=u(),M5=o(),U6;(function(Q){Q[Q.Correct=0]="Correct",Q[Q.Wrong=1]="Wrong"})(U6||(j5.DataType=U6={}));function vV(Q){let X=E5(Q.type);if(X.includes("null")){if(Q.nullable===!1)throw Error("type: null contradicts nullable: false")}else{if(!X.length&&Q.nullable!==void 0)throw Error('"nullable" cannot be used without "type"');if(Q.nullable===!0)X.push("null")}return X}j5.getSchemaTypes=vV;function E5(Q){let X=Array.isArray(Q)?Q:Q?[Q]:[];if(X.every(CV.isJSONType))return X;throw Error("type must be JSONType or JSONType[]: "+X.join(","))}j5.getJSONTypes=E5;function kV(Q,X){let{gen:W,data:Y,opts:$}=Q,J=_V(X,$.coerceTypes),G=X.length>0&&!(J.length===0&&X.length===1&&(0,TV.schemaHasRulesForType)(Q,X[0]));if(G){let H=tW(X,Y,$.strictNumbers,U6.Wrong);W.if(H,()=>{if(J.length)xV(Q,X,J);else aW(Q)})}return G}j5.coerceAndCheckDataType=kV;var b5=new Set(["string","number","integer","boolean","null"]);function _V(Q,X){return X?Q.filter((W)=>b5.has(W)||X==="array"&&W==="array"):[]}function xV(Q,X,W){let{gen:Y,data:$,opts:J}=Q,G=Y.let("dataType",f._`typeof ${$}`),H=Y.let("coerced",f._`undefined`);if(J.coerceTypes==="array")Y.if(f._`${G} == 'object' && Array.isArray(${$}) && ${$}.length == 1`,()=>Y.assign($,f._`${$}[0]`).assign(G,f._`typeof ${$}`).if(tW(X,$,J.strictNumbers),()=>Y.assign(H,$)));Y.if(f._`${H} !== undefined`);for(let B of W)if(b5.has(B)||B==="array"&&J.coerceTypes==="array")z(B);Y.else(),aW(Q),Y.endIf(),Y.if(f._`${H} !== undefined`,()=>{Y.assign($,H),gV(Q,H)});function z(B){switch(B){case"string":Y.elseIf(f._`${G} == "number" || ${G} == "boolean"`).assign(H,f._`"" + ${$}`).elseIf(f._`${$} === null`).assign(H,f._`""`);return;case"number":Y.elseIf(f._`${G} == "boolean" || ${$} === null
              || (${G} == "string" && ${$} && ${$} == +${$})`).assign(H,f._`+${$}`);return;case"integer":Y.elseIf(f._`${G} === "boolean" || ${$} === null
              || (${G} === "string" && ${$} && ${$} == +${$} && !(${$} % 1))`).assign(H,f._`+${$}`);return;case"boolean":Y.elseIf(f._`${$} === "false" || ${$} === 0 || ${$} === null`).assign(H,!1).elseIf(f._`${$} === "true" || ${$} === 1`).assign(H,!0);return;case"null":Y.elseIf(f._`${$} === "" || ${$} === 0 || ${$} === false`),Y.assign(H,null);return;case"array":Y.elseIf(f._`${G} === "string" || ${G} === "number"
              || ${G} === "boolean" || ${$} === null`).assign(H,f._`[${$}]`)}}}function gV({gen:Q,parentData:X,parentDataProperty:W},Y){Q.if(f._`${X} !== undefined`,()=>Q.assign(f._`${X}[${W}]`,Y))}function oW(Q,X,W,Y=U6.Correct){let $=Y===U6.Correct?f.operators.EQ:f.operators.NEQ,J;switch(Q){case"null":return f._`${X} ${$} null`;case"array":J=f._`Array.isArray(${X})`;break;case"object":J=f._`${X} && typeof ${X} == "object" && !Array.isArray(${X})`;break;case"integer":J=G(f._`!(${X} % 1) && !isNaN(${X})`);break;case"number":J=G();break;default:return f._`typeof ${X} ${$} ${Q}`}return Y===U6.Correct?J:(0,f.not)(J);function G(H=f.nil){return(0,f.and)(f._`typeof ${X} == "number"`,H,W?f._`isFinite(${X})`:f.nil)}}j5.checkDataType=oW;function tW(Q,X,W,Y){if(Q.length===1)return oW(Q[0],X,W,Y);let $,J=(0,M5.toHash)(Q);if(J.array&&J.object){let G=f._`typeof ${X} != "object"`;$=J.null?G:f._`!${X} || ${G}`,delete J.null,delete J.array,delete J.object}else $=f.nil;if(J.number)delete J.integer;for(let G in J)$=(0,f.and)($,oW(G,X,W,Y));return $}j5.checkDataTypes=tW;var yV={message:({schema:Q})=>`must be ${Q}`,params:({schema:Q,schemaValue:X})=>typeof Q=="string"?f._`{type: ${Q}}`:f._`{type: ${X}}`};function aW(Q){let X=hV(Q);(0,ZV.reportError)(X,yV)}j5.reportTypeError=aW;function hV(Q){let{gen:X,data:W,schema:Y}=Q,$=(0,M5.schemaRefOrVal)(Q,Y,"type");return{gen:X,keyword:"type",data:W,schema:Y.type,schemaCode:$,schemaValue:$,parentSchema:Y,params:{},it:Q}}});var C5=j((R5)=>{Object.defineProperty(R5,"__esModule",{value:!0});R5.assignDefaults=void 0;var F6=u(),dV=o();function iV(Q,X){let{properties:W,items:Y}=Q.schema;if(X==="object"&&W)for(let $ in W)S5(Q,$,W[$].default);else if(X==="array"&&Array.isArray(Y))Y.forEach(($,J)=>S5(Q,J,$.default))}R5.assignDefaults=iV;function S5(Q,X,W){let{gen:Y,compositeRule:$,data:J,opts:G}=Q;if(W===void 0)return;let H=F6._`${J}${(0,F6.getProperty)(X)}`;if($){(0,dV.checkStrictMode)(Q,`default is ignored for: ${H}`);return}let z=F6._`${H} === undefined`;if(G.useDefaults==="empty")z=F6._`${z} || ${H} === null || ${H} === ""`;Y.if(z,F6._`${H} = ${(0,F6.stringify)(W)}`)}});var f0=j((v5)=>{Object.defineProperty(v5,"__esModule",{value:!0});v5.validateUnion=v5.validateArray=v5.usePattern=v5.callValidateCode=v5.schemaProperties=v5.allSchemaProperties=v5.noPropertyInData=v5.propertyInData=v5.isOwnProperty=v5.hasPropFunc=v5.reportMissingProp=v5.checkMissingProp=v5.checkReportMissingProp=void 0;var Y0=u(),sW=o(),v1=L1(),nV=o();function rV(Q,X){let{gen:W,data:Y,it:$}=Q;W.if(QY(W,Y,X,$.opts.ownProperties),()=>{Q.setParams({missingProperty:Y0._`${X}`},!0),Q.error()})}v5.checkReportMissingProp=rV;function oV({gen:Q,data:X,it:{opts:W}},Y,$){return(0,Y0.or)(...Y.map((J)=>(0,Y0.and)(QY(Q,X,J,W.ownProperties),Y0._`${$} = ${J}`)))}v5.checkMissingProp=oV;function tV(Q,X){Q.setParams({missingProperty:X},!0),Q.error()}v5.reportMissingProp=tV;function T5(Q){return Q.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:Y0._`Object.prototype.hasOwnProperty`})}v5.hasPropFunc=T5;function eW(Q,X,W){return Y0._`${T5(Q)}.call(${X}, ${W})`}v5.isOwnProperty=eW;function aV(Q,X,W,Y){let $=Y0._`${X}${(0,Y0.getProperty)(W)} !== undefined`;return Y?Y0._`${$} && ${eW(Q,X,W)}`:$}v5.propertyInData=aV;function QY(Q,X,W,Y){let $=Y0._`${X}${(0,Y0.getProperty)(W)} === undefined`;return Y?(0,Y0.or)($,(0,Y0.not)(eW(Q,X,W))):$}v5.noPropertyInData=QY;function Z5(Q){return Q?Object.keys(Q).filter((X)=>X!=="__proto__"):[]}v5.allSchemaProperties=Z5;function sV(Q,X){return Z5(X).filter((W)=>!(0,sW.alwaysValidSchema)(Q,X[W]))}v5.schemaProperties=sV;function eV({schemaCode:Q,data:X,it:{gen:W,topSchemaRef:Y,schemaPath:$,errorPath:J},it:G},H,z,B){let A=B?Y0._`${Q}, ${X}, ${Y}${$}`:X,K=[[v1.default.instancePath,(0,Y0.strConcat)(v1.default.instancePath,J)],[v1.default.parentData,G.parentData],[v1.default.parentDataProperty,G.parentDataProperty],[v1.default.rootData,v1.default.rootData]];if(G.opts.dynamicRef)K.push([v1.default.dynamicAnchors,v1.default.dynamicAnchors]);let q=Y0._`${A}, ${W.object(...K)}`;return z!==Y0.nil?Y0._`${H}.call(${z}, ${q})`:Y0._`${H}(${q})`}v5.callValidateCode=eV;var QU=Y0._`new RegExp`;function XU({gen:Q,it:{opts:X}},W){let Y=X.unicodeRegExp?"u":"",{regExp:$}=X.code,J=$(W,Y);return Q.scopeValue("pattern",{key:J.toString(),ref:J,code:Y0._`${$.code==="new RegExp"?QU:(0,nV.useFunc)(Q,$)}(${W}, ${Y})`})}v5.usePattern=XU;function WU(Q){let{gen:X,data:W,keyword:Y,it:$}=Q,J=X.name("valid");if($.allErrors){let H=X.let("valid",!0);return G(()=>X.assign(H,!1)),H}return X.var(J,!0),G(()=>X.break()),J;function G(H){let z=X.const("len",Y0._`${W}.length`);X.forRange("i",0,z,(B)=>{Q.subschema({keyword:Y,dataProp:B,dataPropType:sW.Type.Num},J),X.if((0,Y0.not)(J),H)})}}v5.validateArray=WU;function YU(Q){let{gen:X,schema:W,keyword:Y,it:$}=Q;if(!Array.isArray(W))throw Error("ajv implementation error");if(W.some((z)=>(0,sW.alwaysValidSchema)($,z))&&!$.opts.unevaluated)return;let G=X.let("valid",!1),H=X.name("_valid");X.block(()=>W.forEach((z,B)=>{let A=Q.subschema({keyword:Y,schemaProp:B,compositeRule:!0},H);if(X.assign(G,Y0._`${G} || ${H}`),!Q.mergeValidEvaluated(A,H))X.if((0,Y0.not)(G))})),Q.result(G,()=>Q.reset(),()=>Q.error(!0))}v5.validateUnion=YU});var h5=j((g5)=>{Object.defineProperty(g5,"__esModule",{value:!0});g5.validateKeywordUsage=g5.validSchemaType=g5.funcKeywordCode=g5.macroKeywordCode=void 0;var I0=u(),r1=L1(),UU=f0(),FU=N4();function OU(Q,X){let{gen:W,keyword:Y,schema:$,parentSchema:J,it:G}=Q,H=X.macro.call(G.self,$,J,G),z=x5(W,Y,H);if(G.opts.validateSchema!==!1)G.self.validateSchema(H,!0);let B=W.name("valid");Q.subschema({schema:H,schemaPath:I0.nil,errSchemaPath:`${G.errSchemaPath}/${Y}`,topSchemaRef:z,compositeRule:!0},B),Q.pass(B,()=>Q.error(!0))}g5.macroKeywordCode=OU;function NU(Q,X){var W;let{gen:Y,keyword:$,schema:J,parentSchema:G,$data:H,it:z}=Q;MU(z,X);let B=!H&&X.compile?X.compile.call(z.self,J,G,z):X.validate,A=x5(Y,$,B),K=Y.let("valid");Q.block$data(K,q),Q.ok((W=X.valid)!==null&&W!==void 0?W:K);function q(){if(X.errors===!1){if(F(),X.modifying)_5(Q);E(()=>Q.error())}else{let w=X.async?V():U();if(X.modifying)_5(Q);E(()=>wU(Q,w))}}function V(){let w=Y.let("ruleErrs",null);return Y.try(()=>F(I0._`await `),(g)=>Y.assign(K,!1).if(I0._`${g} instanceof ${z.ValidationError}`,()=>Y.assign(w,I0._`${g}.errors`),()=>Y.throw(g))),w}function U(){let w=I0._`${A}.errors`;return Y.assign(w,null),F(I0.nil),w}function F(w=X.async?I0._`await `:I0.nil){let g=z.opts.passContext?r1.default.this:r1.default.self,v=!(("compile"in X)&&!H||X.schema===!1);Y.assign(K,I0._`${w}${(0,UU.callValidateCode)(Q,A,g,v)}`,X.modifying)}function E(w){var g;Y.if((0,I0.not)((g=X.valid)!==null&&g!==void 0?g:K),w)}}g5.funcKeywordCode=NU;function _5(Q){let{gen:X,data:W,it:Y}=Q;X.if(Y.parentData,()=>X.assign(W,I0._`${Y.parentData}[${Y.parentDataProperty}]`))}function wU(Q,X){let{gen:W}=Q;W.if(I0._`Array.isArray(${X})`,()=>{W.assign(r1.default.vErrors,I0._`${r1.default.vErrors} === null ? ${X} : ${r1.default.vErrors}.concat(${X})`).assign(r1.default.errors,I0._`${r1.default.vErrors}.length`),(0,FU.extendErrors)(Q)},()=>Q.error())}function MU({schemaEnv:Q},X){if(X.async&&!Q.$async)throw Error("async keyword in sync schema")}function x5(Q,X,W){if(W===void 0)throw Error(`keyword "${X}" failed to compile`);return Q.scopeValue("keyword",typeof W=="function"?{ref:W}:{ref:W,code:(0,I0.stringify)(W)})}function EU(Q,X,W=!1){return!X.length||X.some((Y)=>Y==="array"?Array.isArray(Q):Y==="object"?Q&&typeof Q=="object"&&!Array.isArray(Q):typeof Q==Y||W&&typeof Q>"u")}g5.validSchemaType=EU;function bU({schema:Q,opts:X,self:W,errSchemaPath:Y},$,J){if(Array.isArray($.keyword)?!$.keyword.includes(J):$.keyword!==J)throw Error("ajv implementation error");let G=$.dependencies;if(G===null||G===void 0?void 0:G.some((H)=>!Object.prototype.hasOwnProperty.call(Q,H)))throw Error(`parent schema must have dependencies of ${J}: ${G.join(",")}`);if($.validateSchema){if(!$.validateSchema(Q[J])){let z=`keyword "${J}" value is invalid at path "${Y}": `+W.errorsText($.validateSchema.errors);if(X.validateSchema==="log")W.logger.error(z);else throw Error(z)}}}g5.validateKeywordUsage=bU});var m5=j((u5)=>{Object.defineProperty(u5,"__esModule",{value:!0});u5.extendSubschemaMode=u5.extendSubschemaData=u5.getSubschema=void 0;var X1=u(),f5=o();function RU(Q,{keyword:X,schemaProp:W,schema:Y,schemaPath:$,errSchemaPath:J,topSchemaRef:G}){if(X!==void 0&&Y!==void 0)throw Error('both "keyword" and "schema" passed, only one allowed');if(X!==void 0){let H=Q.schema[X];return W===void 0?{schema:H,schemaPath:X1._`${Q.schemaPath}${(0,X1.getProperty)(X)}`,errSchemaPath:`${Q.errSchemaPath}/${X}`}:{schema:H[W],schemaPath:X1._`${Q.schemaPath}${(0,X1.getProperty)(X)}${(0,X1.getProperty)(W)}`,errSchemaPath:`${Q.errSchemaPath}/${X}/${(0,f5.escapeFragment)(W)}`}}if(Y!==void 0){if($===void 0||J===void 0||G===void 0)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:Y,schemaPath:$,topSchemaRef:G,errSchemaPath:J}}throw Error('either "keyword" or "schema" must be passed')}u5.getSubschema=RU;function PU(Q,X,{dataProp:W,dataPropType:Y,data:$,dataTypes:J,propertyName:G}){if($!==void 0&&W!==void 0)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:H}=X;if(W!==void 0){let{errorPath:B,dataPathArr:A,opts:K}=X,q=H.let("data",X1._`${X.data}${(0,X1.getProperty)(W)}`,!0);z(q),Q.errorPath=X1.str`${B}${(0,f5.getErrorPath)(W,Y,K.jsPropertySyntax)}`,Q.parentDataProperty=X1._`${W}`,Q.dataPathArr=[...A,Q.parentDataProperty]}if($!==void 0){let B=$ instanceof X1.Name?$:H.let("data",$,!0);if(z(B),G!==void 0)Q.propertyName=G}if(J)Q.dataTypes=J;function z(B){Q.data=B,Q.dataLevel=X.dataLevel+1,Q.dataTypes=[],X.definedProperties=new Set,Q.parentData=X.data,Q.dataNames=[...X.dataNames,B]}}u5.extendSubschemaData=PU;function CU(Q,{jtdDiscriminator:X,jtdMetadata:W,compositeRule:Y,createErrors:$,allErrors:J}){if(Y!==void 0)Q.compositeRule=Y;if($!==void 0)Q.createErrors=$;if(J!==void 0)Q.allErrors=J;Q.jtdDiscriminator=X,Q.jtdMetadata=W}u5.extendSubschemaMode=CU});var XY=j((jP,c5)=>{c5.exports=function Q(X,W){if(X===W)return!0;if(X&&W&&typeof X=="object"&&typeof W=="object"){if(X.constructor!==W.constructor)return!1;var Y,$,J;if(Array.isArray(X)){if(Y=X.length,Y!=W.length)return!1;for($=Y;$--!==0;)if(!Q(X[$],W[$]))return!1;return!0}if(X.constructor===RegExp)return X.source===W.source&&X.flags===W.flags;if(X.valueOf!==Object.prototype.valueOf)return X.valueOf()===W.valueOf();if(X.toString!==Object.prototype.toString)return X.toString()===W.toString();if(J=Object.keys(X),Y=J.length,Y!==Object.keys(W).length)return!1;for($=Y;$--!==0;)if(!Object.prototype.hasOwnProperty.call(W,J[$]))return!1;for($=Y;$--!==0;){var G=J[$];if(!Q(X[G],W[G]))return!1}return!0}return X!==X&&W!==W}});var d5=j((IP,p5)=>{var k1=p5.exports=function(Q,X,W){if(typeof X=="function")W=X,X={};W=X.cb||W;var Y=typeof W=="function"?W:W.pre||function(){},$=W.post||function(){};YQ(X,Y,$,Q,"",Q)};k1.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};k1.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};k1.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};k1.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function YQ(Q,X,W,Y,$,J,G,H,z,B){if(Y&&typeof Y=="object"&&!Array.isArray(Y)){X(Y,$,J,G,H,z,B);for(var A in Y){var K=Y[A];if(Array.isArray(K)){if(A in k1.arrayKeywords)for(var q=0;q<K.length;q++)YQ(Q,X,W,K[q],$+"/"+A+"/"+q,J,$,A,Y,q)}else if(A in k1.propsKeywords){if(K&&typeof K=="object")for(var V in K)YQ(Q,X,W,K[V],$+"/"+A+"/"+vU(V),J,$,A,Y,V)}else if(A in k1.keywords||Q.allKeys&&!(A in k1.skipKeywords))YQ(Q,X,W,K,$+"/"+A,J,$,A,Y)}W(Y,$,J,G,H,z,B)}}function vU(Q){return Q.replace(/~/g,"~0").replace(/\//g,"~1")}});var M4=j((o5)=>{Object.defineProperty(o5,"__esModule",{value:!0});o5.getSchemaRefs=o5.resolveUrl=o5.normalizeId=o5._getFullPath=o5.getFullPath=o5.inlineRef=void 0;var kU=o(),_U=XY(),xU=d5(),gU=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function yU(Q,X=!0){if(typeof Q=="boolean")return!0;if(X===!0)return!WY(Q);if(!X)return!1;return i5(Q)<=X}o5.inlineRef=yU;var hU=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function WY(Q){for(let X in Q){if(hU.has(X))return!0;let W=Q[X];if(Array.isArray(W)&&W.some(WY))return!0;if(typeof W=="object"&&WY(W))return!0}return!1}function i5(Q){let X=0;for(let W in Q){if(W==="$ref")return 1/0;if(X++,gU.has(W))continue;if(typeof Q[W]=="object")(0,kU.eachItem)(Q[W],(Y)=>X+=i5(Y));if(X===1/0)return 1/0}return X}function n5(Q,X="",W){if(W!==!1)X=O6(X);let Y=Q.parse(X);return r5(Q,Y)}o5.getFullPath=n5;function r5(Q,X){return Q.serialize(X).split("#")[0]+"#"}o5._getFullPath=r5;var fU=/#\/?$/;function O6(Q){return Q?Q.replace(fU,""):""}o5.normalizeId=O6;function uU(Q,X,W){return W=O6(W),Q.resolve(X,W)}o5.resolveUrl=uU;var lU=/^[a-z_][-a-z0-9._]*$/i;function mU(Q,X){if(typeof Q=="boolean")return{};let{schemaId:W,uriResolver:Y}=this.opts,$=O6(Q[W]||X),J={"":$},G=n5(Y,$,!1),H={},z=new Set;return xU(Q,{allKeys:!0},(K,q,V,U)=>{if(U===void 0)return;let F=G+q,E=J[U];if(typeof K[W]=="string")E=w.call(this,K[W]);g.call(this,K.$anchor),g.call(this,K.$dynamicAnchor),J[q]=E;function w(v){let m=this.opts.uriResolver.resolve;if(v=O6(E?m(E,v):v),z.has(v))throw A(v);z.add(v);let k=this.refs[v];if(typeof k=="string")k=this.refs[k];if(typeof k=="object")B(K,k.schema,v);else if(v!==O6(F))if(v[0]==="#")B(K,H[v],v),H[v]=K;else this.refs[v]=F;return v}function g(v){if(typeof v=="string"){if(!lU.test(v))throw Error(`invalid anchor "${v}"`);w.call(this,`#${v}`)}}}),H;function B(K,q,V){if(q!==void 0&&!_U(K,q))throw A(V)}function A(K){return Error(`reference "${K}" resolves to more than one schema`)}}o5.getSchemaRefs=mU});var j4=j((KH)=>{Object.defineProperty(KH,"__esModule",{value:!0});KH.getData=KH.KeywordCxt=KH.validateFunctionCode=void 0;var XH=L5(),a5=w4(),$Y=rW(),$Q=w4(),rU=C5(),b4=h5(),YY=m5(),C=u(),y=L1(),oU=M4(),V1=o(),E4=N4();function tU(Q){if($H(Q)){if(JH(Q),YH(Q)){eU(Q);return}}WH(Q,()=>(0,XH.topBoolOrEmptySchema)(Q))}KH.validateFunctionCode=tU;function WH({gen:Q,validateName:X,schema:W,schemaEnv:Y,opts:$},J){if($.code.es5)Q.func(X,C._`${y.default.data}, ${y.default.valCxt}`,Y.$async,()=>{Q.code(C._`"use strict"; ${s5(W,$)}`),sU(Q,$),Q.code(J)});else Q.func(X,C._`${y.default.data}, ${aU($)}`,Y.$async,()=>Q.code(s5(W,$)).code(J))}function aU(Q){return C._`{${y.default.instancePath}="", ${y.default.parentData}, ${y.default.parentDataProperty}, ${y.default.rootData}=${y.default.data}${Q.dynamicRef?C._`, ${y.default.dynamicAnchors}={}`:C.nil}}={}`}function sU(Q,X){Q.if(y.default.valCxt,()=>{if(Q.var(y.default.instancePath,C._`${y.default.valCxt}.${y.default.instancePath}`),Q.var(y.default.parentData,C._`${y.default.valCxt}.${y.default.parentData}`),Q.var(y.default.parentDataProperty,C._`${y.default.valCxt}.${y.default.parentDataProperty}`),Q.var(y.default.rootData,C._`${y.default.valCxt}.${y.default.rootData}`),X.dynamicRef)Q.var(y.default.dynamicAnchors,C._`${y.default.valCxt}.${y.default.dynamicAnchors}`)},()=>{if(Q.var(y.default.instancePath,C._`""`),Q.var(y.default.parentData,C._`undefined`),Q.var(y.default.parentDataProperty,C._`undefined`),Q.var(y.default.rootData,y.default.data),X.dynamicRef)Q.var(y.default.dynamicAnchors,C._`{}`)})}function eU(Q){let{schema:X,opts:W,gen:Y}=Q;WH(Q,()=>{if(W.$comment&&X.$comment)HH(Q);if($F(Q),Y.let(y.default.vErrors,null),Y.let(y.default.errors,0),W.unevaluated)QF(Q);GH(Q),HF(Q)});return}function QF(Q){let{gen:X,validateName:W}=Q;Q.evaluated=X.const("evaluated",C._`${W}.evaluated`),X.if(C._`${Q.evaluated}.dynamicProps`,()=>X.assign(C._`${Q.evaluated}.props`,C._`undefined`)),X.if(C._`${Q.evaluated}.dynamicItems`,()=>X.assign(C._`${Q.evaluated}.items`,C._`undefined`))}function s5(Q,X){let W=typeof Q=="object"&&Q[X.schemaId];return W&&(X.code.source||X.code.process)?C._`/*# sourceURL=${W} */`:C.nil}function XF(Q,X){if($H(Q)){if(JH(Q),YH(Q)){WF(Q,X);return}}(0,XH.boolOrEmptySchema)(Q,X)}function YH({schema:Q,self:X}){if(typeof Q=="boolean")return!Q;for(let W in Q)if(X.RULES.all[W])return!0;return!1}function $H(Q){return typeof Q.schema!="boolean"}function WF(Q,X){let{schema:W,gen:Y,opts:$}=Q;if($.$comment&&W.$comment)HH(Q);JF(Q),GF(Q);let J=Y.const("_errs",y.default.errors);GH(Q,J),Y.var(X,C._`${J} === ${y.default.errors}`)}function JH(Q){(0,V1.checkUnknownRules)(Q),YF(Q)}function GH(Q,X){if(Q.opts.jtd)return e5(Q,[],!1,X);let W=(0,a5.getSchemaTypes)(Q.schema),Y=(0,a5.coerceAndCheckDataType)(Q,W);e5(Q,W,!Y,X)}function YF(Q){let{schema:X,errSchemaPath:W,opts:Y,self:$}=Q;if(X.$ref&&Y.ignoreKeywordsWithRef&&(0,V1.schemaHasRulesButRef)(X,$.RULES))$.logger.warn(`$ref: keywords ignored in schema at path "${W}"`)}function $F(Q){let{schema:X,opts:W}=Q;if(X.default!==void 0&&W.useDefaults&&W.strictSchema)(0,V1.checkStrictMode)(Q,"default is ignored in the schema root")}function JF(Q){let X=Q.schema[Q.opts.schemaId];if(X)Q.baseId=(0,oU.resolveUrl)(Q.opts.uriResolver,Q.baseId,X)}function GF(Q){if(Q.schema.$async&&!Q.schemaEnv.$async)throw Error("async schema in sync schema")}function HH({gen:Q,schemaEnv:X,schema:W,errSchemaPath:Y,opts:$}){let J=W.$comment;if($.$comment===!0)Q.code(C._`${y.default.self}.logger.log(${J})`);else if(typeof $.$comment=="function"){let G=C.str`${Y}/$comment`,H=Q.scopeValue("root",{ref:X.root});Q.code(C._`${y.default.self}.opts.$comment(${J}, ${G}, ${H}.schema)`)}}function HF(Q){let{gen:X,schemaEnv:W,validateName:Y,ValidationError:$,opts:J}=Q;if(W.$async)X.if(C._`${y.default.errors} === 0`,()=>X.return(y.default.data),()=>X.throw(C._`new ${$}(${y.default.vErrors})`));else{if(X.assign(C._`${Y}.errors`,y.default.vErrors),J.unevaluated)zF(Q);X.return(C._`${y.default.errors} === 0`)}}function zF({gen:Q,evaluated:X,props:W,items:Y}){if(W instanceof C.Name)Q.assign(C._`${X}.props`,W);if(Y instanceof C.Name)Q.assign(C._`${X}.items`,Y)}function e5(Q,X,W,Y){let{gen:$,schema:J,data:G,allErrors:H,opts:z,self:B}=Q,{RULES:A}=B;if(J.$ref&&(z.ignoreKeywordsWithRef||!(0,V1.schemaHasRulesButRef)(J,A))){$.block(()=>BH(Q,"$ref",A.all.$ref.definition));return}if(!z.jtd)BF(Q,X);$.block(()=>{for(let q of A.rules)K(q);K(A.post)});function K(q){if(!(0,$Y.shouldUseGroup)(J,q))return;if(q.type){if($.if((0,$Q.checkDataType)(q.type,G,z.strictNumbers)),QH(Q,q),X.length===1&&X[0]===q.type&&W)$.else(),(0,$Q.reportTypeError)(Q);$.endIf()}else QH(Q,q);if(!H)$.if(C._`${y.default.errors} === ${Y||0}`)}}function QH(Q,X){let{gen:W,schema:Y,opts:{useDefaults:$}}=Q;if($)(0,rU.assignDefaults)(Q,X.type);W.block(()=>{for(let J of X.rules)if((0,$Y.shouldUseRule)(Y,J))BH(Q,J.keyword,J.definition,X.type)})}function BF(Q,X){if(Q.schemaEnv.meta||!Q.opts.strictTypes)return;if(AF(Q,X),!Q.opts.allowUnionTypes)KF(Q,X);qF(Q,Q.dataTypes)}function AF(Q,X){if(!X.length)return;if(!Q.dataTypes.length){Q.dataTypes=X;return}X.forEach((W)=>{if(!zH(Q.dataTypes,W))JY(Q,`type "${W}" not allowed by context "${Q.dataTypes.join(",")}"`)}),LF(Q,X)}function KF(Q,X){if(X.length>1&&!(X.length===2&&X.includes("null")))JY(Q,"use allowUnionTypes to allow union type keyword")}function qF(Q,X){let W=Q.self.RULES.all;for(let Y in W){let $=W[Y];if(typeof $=="object"&&(0,$Y.shouldUseRule)(Q.schema,$)){let{type:J}=$.definition;if(J.length&&!J.some((G)=>DF(X,G)))JY(Q,`missing type "${J.join(",")}" for keyword "${Y}"`)}}}function DF(Q,X){return Q.includes(X)||X==="number"&&Q.includes("integer")}function zH(Q,X){return Q.includes(X)||X==="integer"&&Q.includes("number")}function LF(Q,X){let W=[];for(let Y of Q.dataTypes)if(zH(X,Y))W.push(Y);else if(X.includes("integer")&&Y==="number")W.push("integer");Q.dataTypes=W}function JY(Q,X){let W=Q.schemaEnv.baseId+Q.errSchemaPath;X+=` at "${W}" (strictTypes)`,(0,V1.checkStrictMode)(Q,X,Q.opts.strictTypes)}class GY{constructor(Q,X,W){if((0,b4.validateKeywordUsage)(Q,X,W),this.gen=Q.gen,this.allErrors=Q.allErrors,this.keyword=W,this.data=Q.data,this.schema=Q.schema[W],this.$data=X.$data&&Q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,V1.schemaRefOrVal)(Q,this.schema,W,this.$data),this.schemaType=X.schemaType,this.parentSchema=Q.schema,this.params={},this.it=Q,this.def=X,this.$data)this.schemaCode=Q.gen.const("vSchema",AH(this.$data,Q));else if(this.schemaCode=this.schemaValue,!(0,b4.validSchemaType)(this.schema,X.schemaType,X.allowUndefined))throw Error(`${W} value must be ${JSON.stringify(X.schemaType)}`);if("code"in X?X.trackErrors:X.errors!==!1)this.errsCount=Q.gen.const("_errs",y.default.errors)}result(Q,X,W){this.failResult((0,C.not)(Q),X,W)}failResult(Q,X,W){if(this.gen.if(Q),W)W();else this.error();if(X){if(this.gen.else(),X(),this.allErrors)this.gen.endIf()}else if(this.allErrors)this.gen.endIf();else this.gen.else()}pass(Q,X){this.failResult((0,C.not)(Q),void 0,X)}fail(Q){if(Q===void 0){if(this.error(),!this.allErrors)this.gen.if(!1);return}if(this.gen.if(Q),this.error(),this.allErrors)this.gen.endIf();else this.gen.else()}fail$data(Q){if(!this.$data)return this.fail(Q);let{schemaCode:X}=this;this.fail(C._`${X} !== undefined && (${(0,C.or)(this.invalid$data(),Q)})`)}error(Q,X,W){if(X){this.setParams(X),this._error(Q,W),this.setParams({});return}this._error(Q,W)}_error(Q,X){(Q?E4.reportExtraError:E4.reportError)(this,this.def.error,X)}$dataError(){(0,E4.reportError)(this,this.def.$dataError||E4.keyword$DataError)}reset(){if(this.errsCount===void 0)throw Error('add "trackErrors" to keyword definition');(0,E4.resetErrorsCount)(this.gen,this.errsCount)}ok(Q){if(!this.allErrors)this.gen.if(Q)}setParams(Q,X){if(X)Object.assign(this.params,Q);else this.params=Q}block$data(Q,X,W=C.nil){this.gen.block(()=>{this.check$data(Q,W),X()})}check$data(Q=C.nil,X=C.nil){if(!this.$data)return;let{gen:W,schemaCode:Y,schemaType:$,def:J}=this;if(W.if((0,C.or)(C._`${Y} === undefined`,X)),Q!==C.nil)W.assign(Q,!0);if($.length||J.validateSchema){if(W.elseIf(this.invalid$data()),this.$dataError(),Q!==C.nil)W.assign(Q,!1)}W.else()}invalid$data(){let{gen:Q,schemaCode:X,schemaType:W,def:Y,it:$}=this;return(0,C.or)(J(),G());function J(){if(W.length){if(!(X instanceof C.Name))throw Error("ajv implementation error");let H=Array.isArray(W)?W:[W];return C._`${(0,$Q.checkDataTypes)(H,X,$.opts.strictNumbers,$Q.DataType.Wrong)}`}return C.nil}function G(){if(Y.validateSchema){let H=Q.scopeValue("validate$data",{ref:Y.validateSchema});return C._`!${H}(${X})`}return C.nil}}subschema(Q,X){let W=(0,YY.getSubschema)(this.it,Q);(0,YY.extendSubschemaData)(W,this.it,Q),(0,YY.extendSubschemaMode)(W,Q);let Y={...this.it,...W,items:void 0,props:void 0};return XF(Y,X),Y}mergeEvaluated(Q,X){let{it:W,gen:Y}=this;if(!W.opts.unevaluated)return;if(W.props!==!0&&Q.props!==void 0)W.props=V1.mergeEvaluated.props(Y,Q.props,W.props,X);if(W.items!==!0&&Q.items!==void 0)W.items=V1.mergeEvaluated.items(Y,Q.items,W.items,X)}mergeValidEvaluated(Q,X){let{it:W,gen:Y}=this;if(W.opts.unevaluated&&(W.props!==!0||W.items!==!0))return Y.if(X,()=>this.mergeEvaluated(Q,C.Name)),!0}}KH.KeywordCxt=GY;function BH(Q,X,W,Y){let $=new GY(Q,W,X);if("code"in W)W.code($,Y);else if($.$data&&W.validate)(0,b4.funcKeywordCode)($,W);else if("macro"in W)(0,b4.macroKeywordCode)($,W);else if(W.compile||W.validate)(0,b4.funcKeywordCode)($,W)}var VF=/^\/(?:[^~]|~0|~1)*$/,UF=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function AH(Q,{dataLevel:X,dataNames:W,dataPathArr:Y}){let $,J;if(Q==="")return y.default.rootData;if(Q[0]==="/"){if(!VF.test(Q))throw Error(`Invalid JSON-pointer: ${Q}`);$=Q,J=y.default.rootData}else{let B=UF.exec(Q);if(!B)throw Error(`Invalid JSON-pointer: ${Q}`);let A=+B[1];if($=B[2],$==="#"){if(A>=X)throw Error(z("property/index",A));return Y[X-A]}if(A>X)throw Error(z("data",A));if(J=W[X-A],!$)return J}let G=J,H=$.split("/");for(let B of H)if(B)J=C._`${J}${(0,C.getProperty)((0,V1.unescapeJsonPointer)(B))}`,G=C._`${G} && ${J}`;return G;function z(B,A){return`Cannot access ${B} ${A} levels up, current level is ${X}`}}KH.getData=AH});var JQ=j((LH)=>{Object.defineProperty(LH,"__esModule",{value:!0});class DH extends Error{constructor(Q){super("validation failed");this.errors=Q,this.ajv=this.validation=!0}}LH.default=DH});var I4=j((UH)=>{Object.defineProperty(UH,"__esModule",{value:!0});var HY=M4();class VH extends Error{constructor(Q,X,W,Y){super(Y||`can't resolve reference ${W} from id ${X}`);this.missingRef=(0,HY.resolveUrl)(Q,X,W),this.missingSchema=(0,HY.normalizeId)((0,HY.getFullPath)(Q,this.missingRef))}}UH.default=VH});var HQ=j((NH)=>{Object.defineProperty(NH,"__esModule",{value:!0});NH.resolveSchema=NH.getCompilingSchema=NH.resolveRef=NH.compileSchema=NH.SchemaEnv=void 0;var n0=u(),MF=JQ(),o1=L1(),r0=M4(),FH=o(),EF=j4();class S4{constructor(Q){var X;this.refs={},this.dynamicAnchors={};let W;if(typeof Q.schema=="object")W=Q.schema;this.schema=Q.schema,this.schemaId=Q.schemaId,this.root=Q.root||this,this.baseId=(X=Q.baseId)!==null&&X!==void 0?X:(0,r0.normalizeId)(W===null||W===void 0?void 0:W[Q.schemaId||"$id"]),this.schemaPath=Q.schemaPath,this.localRefs=Q.localRefs,this.meta=Q.meta,this.$async=W===null||W===void 0?void 0:W.$async,this.refs={}}}NH.SchemaEnv=S4;function BY(Q){let X=OH.call(this,Q);if(X)return X;let W=(0,r0.getFullPath)(this.opts.uriResolver,Q.root.baseId),{es5:Y,lines:$}=this.opts.code,{ownProperties:J}=this.opts,G=new n0.CodeGen(this.scope,{es5:Y,lines:$,ownProperties:J}),H;if(Q.$async)H=G.scopeValue("Error",{ref:MF.default,code:n0._`require("ajv/dist/runtime/validation_error").default`});let z=G.scopeName("validate");Q.validateName=z;let B={gen:G,allErrors:this.opts.allErrors,data:o1.default.data,parentData:o1.default.parentData,parentDataProperty:o1.default.parentDataProperty,dataNames:[o1.default.data],dataPathArr:[n0.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:G.scopeValue("schema",this.opts.code.source===!0?{ref:Q.schema,code:(0,n0.stringify)(Q.schema)}:{ref:Q.schema}),validateName:z,ValidationError:H,schema:Q.schema,schemaEnv:Q,rootId:W,baseId:Q.baseId||W,schemaPath:n0.nil,errSchemaPath:Q.schemaPath||(this.opts.jtd?"":"#"),errorPath:n0._`""`,opts:this.opts,self:this},A;try{this._compilations.add(Q),(0,EF.validateFunctionCode)(B),G.optimize(this.opts.code.optimize);let K=G.toString();if(A=`${G.scopeRefs(o1.default.scope)}return ${K}`,this.opts.code.process)A=this.opts.code.process(A,Q);let V=Function(`${o1.default.self}`,`${o1.default.scope}`,A)(this,this.scope.get());if(this.scope.value(z,{ref:V}),V.errors=null,V.schema=Q.schema,V.schemaEnv=Q,Q.$async)V.$async=!0;if(this.opts.code.source===!0)V.source={validateName:z,validateCode:K,scopeValues:G._values};if(this.opts.unevaluated){let{props:U,items:F}=B;if(V.evaluated={props:U instanceof n0.Name?void 0:U,items:F instanceof n0.Name?void 0:F,dynamicProps:U instanceof n0.Name,dynamicItems:F instanceof n0.Name},V.source)V.source.evaluated=(0,n0.stringify)(V.evaluated)}return Q.validate=V,Q}catch(K){if(delete Q.validate,delete Q.validateName,A)this.logger.error("Error compiling schema, function code:",A);throw K}finally{this._compilations.delete(Q)}}NH.compileSchema=BY;function bF(Q,X,W){var Y;W=(0,r0.resolveUrl)(this.opts.uriResolver,X,W);let $=Q.refs[W];if($)return $;let J=SF.call(this,Q,W);if(J===void 0){let G=(Y=Q.localRefs)===null||Y===void 0?void 0:Y[W],{schemaId:H}=this.opts;if(G)J=new S4({schema:G,schemaId:H,root:Q,baseId:X})}if(J===void 0)return;return Q.refs[W]=jF.call(this,J)}NH.resolveRef=bF;function jF(Q){if((0,r0.inlineRef)(Q.schema,this.opts.inlineRefs))return Q.schema;return Q.validate?Q:BY.call(this,Q)}function OH(Q){for(let X of this._compilations)if(IF(X,Q))return X}NH.getCompilingSchema=OH;function IF(Q,X){return Q.schema===X.schema&&Q.root===X.root&&Q.baseId===X.baseId}function SF(Q,X){let W;while(typeof(W=this.refs[X])=="string")X=W;return W||this.schemas[X]||GQ.call(this,Q,X)}function GQ(Q,X){let W=this.opts.uriResolver.parse(X),Y=(0,r0._getFullPath)(this.opts.uriResolver,W),$=(0,r0.getFullPath)(this.opts.uriResolver,Q.baseId,void 0);if(Object.keys(Q.schema).length>0&&Y===$)return zY.call(this,W,Q);let J=(0,r0.normalizeId)(Y),G=this.refs[J]||this.schemas[J];if(typeof G=="string"){let H=GQ.call(this,Q,G);if(typeof(H===null||H===void 0?void 0:H.schema)!=="object")return;return zY.call(this,W,H)}if(typeof(G===null||G===void 0?void 0:G.schema)!=="object")return;if(!G.validate)BY.call(this,G);if(J===(0,r0.normalizeId)(X)){let{schema:H}=G,{schemaId:z}=this.opts,B=H[z];if(B)$=(0,r0.resolveUrl)(this.opts.uriResolver,$,B);return new S4({schema:H,schemaId:z,root:Q,baseId:$})}return zY.call(this,W,G)}NH.resolveSchema=GQ;var RF=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function zY(Q,{baseId:X,schema:W,root:Y}){var $;if((($=Q.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(let H of Q.fragment.slice(1).split("/")){if(typeof W==="boolean")return;let z=W[(0,FH.unescapeFragment)(H)];if(z===void 0)return;W=z;let B=typeof W==="object"&&W[this.opts.schemaId];if(!RF.has(H)&&B)X=(0,r0.resolveUrl)(this.opts.uriResolver,X,B)}let J;if(typeof W!="boolean"&&W.$ref&&!(0,FH.schemaHasRulesButRef)(W,this.RULES)){let H=(0,r0.resolveUrl)(this.opts.uriResolver,X,W.$ref);J=GQ.call(this,Y,H)}let{schemaId:G}=this.opts;if(J=J||new S4({schema:W,schemaId:G,root:Y,baseId:X}),J.schema!==J.root.schema)return J;return}});var MH=j((ZP,vF)=>{vF.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var KY=j((vP,IH)=>{var kF=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),bH=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function AY(Q){let X="",W=0,Y=0;for(Y=0;Y<Q.length;Y++){if(W=Q[Y].charCodeAt(0),W===48)continue;if(!(W>=48&&W<=57||W>=65&&W<=70||W>=97&&W<=102))return"";X+=Q[Y];break}for(Y+=1;Y<Q.length;Y++){if(W=Q[Y].charCodeAt(0),!(W>=48&&W<=57||W>=65&&W<=70||W>=97&&W<=102))return"";X+=Q[Y]}return X}var _F=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function EH(Q){return Q.length=0,!0}function xF(Q,X,W){if(Q.length){let Y=AY(Q);if(Y!=="")X.push(Y);else return W.error=!0,!1;Q.length=0}return!0}function gF(Q){let X=0,W={error:!1,address:"",zone:""},Y=[],$=[],J=!1,G=!1,H=xF;for(let z=0;z<Q.length;z++){let B=Q[z];if(B==="["||B==="]")continue;if(B===":"){if(J===!0)G=!0;if(!H($,Y,W))break;if(++X>7){W.error=!0;break}if(z>0&&Q[z-1]===":")J=!0;Y.push(":");continue}else if(B==="%"){if(!H($,Y,W))break;H=EH}else{$.push(B);continue}}if($.length)if(H===EH)W.zone=$.join("");else if(G)Y.push($.join(""));else Y.push(AY($));return W.address=Y.join(""),W}function jH(Q){if(yF(Q,":")<2)return{host:Q,isIPV6:!1};let X=gF(Q);if(!X.error){let{address:W,address:Y}=X;if(X.zone)W+="%"+X.zone,Y+="%25"+X.zone;return{host:W,isIPV6:!0,escapedHost:Y}}else return{host:Q,isIPV6:!1}}function yF(Q,X){let W=0;for(let Y=0;Y<Q.length;Y++)if(Q[Y]===X)W++;return W}function hF(Q){let X=Q,W=[],Y=-1,$=0;while($=X.length){if($===1)if(X===".")break;else if(X==="/"){W.push("/");break}else{W.push(X);break}else if($===2){if(X[0]==="."){if(X[1]===".")break;else if(X[1]==="/"){X=X.slice(2);continue}}else if(X[0]==="/"){if(X[1]==="."||X[1]==="/"){W.push("/");break}}}else if($===3){if(X==="/.."){if(W.length!==0)W.pop();W.push("/");break}}if(X[0]==="."){if(X[1]==="."){if(X[2]==="/"){X=X.slice(3);continue}}else if(X[1]==="/"){X=X.slice(2);continue}}else if(X[0]==="/"){if(X[1]==="."){if(X[2]==="/"){X=X.slice(2);continue}else if(X[2]==="."){if(X[3]==="/"){if(X=X.slice(3),W.length!==0)W.pop();continue}}}}if((Y=X.indexOf("/",1))===-1){W.push(X);break}else W.push(X.slice(0,Y)),X=X.slice(Y)}return W.join("")}function fF(Q,X){let W=X!==!0?escape:unescape;if(Q.scheme!==void 0)Q.scheme=W(Q.scheme);if(Q.userinfo!==void 0)Q.userinfo=W(Q.userinfo);if(Q.host!==void 0)Q.host=W(Q.host);if(Q.path!==void 0)Q.path=W(Q.path);if(Q.query!==void 0)Q.query=W(Q.query);if(Q.fragment!==void 0)Q.fragment=W(Q.fragment);return Q}function uF(Q){let X=[];if(Q.userinfo!==void 0)X.push(Q.userinfo),X.push("@");if(Q.host!==void 0){let W=unescape(Q.host);if(!bH(W)){let Y=jH(W);if(Y.isIPV6===!0)W=`[${Y.escapedHost}]`;else W=Q.host}X.push(W)}if(typeof Q.port==="number"||typeof Q.port==="string")X.push(":"),X.push(String(Q.port));return X.length?X.join(""):void 0}IH.exports={nonSimpleDomain:_F,recomposeAuthority:uF,normalizeComponentEncoding:fF,removeDotSegments:hF,isIPv4:bH,isUUID:kF,normalizeIPv6:jH,stringArrayToHexStripped:AY}});var TH=j((kP,CH)=>{var{isUUID:lF}=KY(),mF=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,cF=["http","https","ws","wss","urn","urn:uuid"];function pF(Q){return cF.indexOf(Q)!==-1}function qY(Q){if(Q.secure===!0)return!0;else if(Q.secure===!1)return!1;else if(Q.scheme)return Q.scheme.length===3&&(Q.scheme[0]==="w"||Q.scheme[0]==="W")&&(Q.scheme[1]==="s"||Q.scheme[1]==="S")&&(Q.scheme[2]==="s"||Q.scheme[2]==="S");else return!1}function SH(Q){if(!Q.host)Q.error=Q.error||"HTTP URIs must have a host.";return Q}function RH(Q){let X=String(Q.scheme).toLowerCase()==="https";if(Q.port===(X?443:80)||Q.port==="")Q.port=void 0;if(!Q.path)Q.path="/";return Q}function dF(Q){return Q.secure=qY(Q),Q.resourceName=(Q.path||"/")+(Q.query?"?"+Q.query:""),Q.path=void 0,Q.query=void 0,Q}function iF(Q){if(Q.port===(qY(Q)?443:80)||Q.port==="")Q.port=void 0;if(typeof Q.secure==="boolean")Q.scheme=Q.secure?"wss":"ws",Q.secure=void 0;if(Q.resourceName){let[X,W]=Q.resourceName.split("?");Q.path=X&&X!=="/"?X:void 0,Q.query=W,Q.resourceName=void 0}return Q.fragment=void 0,Q}function nF(Q,X){if(!Q.path)return Q.error="URN can not be parsed",Q;let W=Q.path.match(mF);if(W){let Y=X.scheme||Q.scheme||"urn";Q.nid=W[1].toLowerCase(),Q.nss=W[2];let $=`${Y}:${X.nid||Q.nid}`,J=DY($);if(Q.path=void 0,J)Q=J.parse(Q,X)}else Q.error=Q.error||"URN can not be parsed.";return Q}function rF(Q,X){if(Q.nid===void 0)throw Error("URN without nid cannot be serialized");let W=X.scheme||Q.scheme||"urn",Y=Q.nid.toLowerCase(),$=`${W}:${X.nid||Y}`,J=DY($);if(J)Q=J.serialize(Q,X);let G=Q,H=Q.nss;return G.path=`${Y||X.nid}:${H}`,X.skipEscape=!0,G}function oF(Q,X){let W=Q;if(W.uuid=W.nss,W.nss=void 0,!X.tolerant&&(!W.uuid||!lF(W.uuid)))W.error=W.error||"UUID is not valid.";return W}function tF(Q){let X=Q;return X.nss=(Q.uuid||"").toLowerCase(),X}var PH={scheme:"http",domainHost:!0,parse:SH,serialize:RH},aF={scheme:"https",domainHost:PH.domainHost,parse:SH,serialize:RH},zQ={scheme:"ws",domainHost:!0,parse:dF,serialize:iF},sF={scheme:"wss",domainHost:zQ.domainHost,parse:zQ.parse,serialize:zQ.serialize},eF={scheme:"urn",parse:nF,serialize:rF,skipNormalize:!0},QO={scheme:"urn:uuid",parse:oF,serialize:tF,skipNormalize:!0},BQ={http:PH,https:aF,ws:zQ,wss:sF,urn:eF,"urn:uuid":QO};Object.setPrototypeOf(BQ,null);function DY(Q){return Q&&(BQ[Q]||BQ[Q.toLowerCase()])||void 0}CH.exports={wsIsSecure:qY,SCHEMES:BQ,isValidSchemeName:pF,getSchemeHandler:DY}});var kH=j((_P,KQ)=>{var{normalizeIPv6:XO,removeDotSegments:R4,recomposeAuthority:WO,normalizeComponentEncoding:AQ,isIPv4:YO,nonSimpleDomain:$O}=KY(),{SCHEMES:JO,getSchemeHandler:ZH}=TH();function GO(Q,X){if(typeof Q==="string")Q=W1(U1(Q,X),X);else if(typeof Q==="object")Q=U1(W1(Q,X),X);return Q}function HO(Q,X,W){let Y=W?Object.assign({scheme:"null"},W):{scheme:"null"},$=vH(U1(Q,Y),U1(X,Y),Y,!0);return Y.skipEscape=!0,W1($,Y)}function vH(Q,X,W,Y){let $={};if(!Y)Q=U1(W1(Q,W),W),X=U1(W1(X,W),W);if(W=W||{},!W.tolerant&&X.scheme)$.scheme=X.scheme,$.userinfo=X.userinfo,$.host=X.host,$.port=X.port,$.path=R4(X.path||""),$.query=X.query;else{if(X.userinfo!==void 0||X.host!==void 0||X.port!==void 0)$.userinfo=X.userinfo,$.host=X.host,$.port=X.port,$.path=R4(X.path||""),$.query=X.query;else{if(!X.path)if($.path=Q.path,X.query!==void 0)$.query=X.query;else $.query=Q.query;else{if(X.path[0]==="/")$.path=R4(X.path);else{if((Q.userinfo!==void 0||Q.host!==void 0||Q.port!==void 0)&&!Q.path)$.path="/"+X.path;else if(!Q.path)$.path=X.path;else $.path=Q.path.slice(0,Q.path.lastIndexOf("/")+1)+X.path;$.path=R4($.path)}$.query=X.query}$.userinfo=Q.userinfo,$.host=Q.host,$.port=Q.port}$.scheme=Q.scheme}return $.fragment=X.fragment,$}function zO(Q,X,W){if(typeof Q==="string")Q=unescape(Q),Q=W1(AQ(U1(Q,W),!0),{...W,skipEscape:!0});else if(typeof Q==="object")Q=W1(AQ(Q,!0),{...W,skipEscape:!0});if(typeof X==="string")X=unescape(X),X=W1(AQ(U1(X,W),!0),{...W,skipEscape:!0});else if(typeof X==="object")X=W1(AQ(X,!0),{...W,skipEscape:!0});return Q.toLowerCase()===X.toLowerCase()}function W1(Q,X){let W={host:Q.host,scheme:Q.scheme,userinfo:Q.userinfo,port:Q.port,path:Q.path,query:Q.query,nid:Q.nid,nss:Q.nss,uuid:Q.uuid,fragment:Q.fragment,reference:Q.reference,resourceName:Q.resourceName,secure:Q.secure,error:""},Y=Object.assign({},X),$=[],J=ZH(Y.scheme||W.scheme);if(J&&J.serialize)J.serialize(W,Y);if(W.path!==void 0)if(!Y.skipEscape){if(W.path=escape(W.path),W.scheme!==void 0)W.path=W.path.split("%3A").join(":")}else W.path=unescape(W.path);if(Y.reference!=="suffix"&&W.scheme)$.push(W.scheme,":");let G=WO(W);if(G!==void 0){if(Y.reference!=="suffix")$.push("//");if($.push(G),W.path&&W.path[0]!=="/")$.push("/")}if(W.path!==void 0){let H=W.path;if(!Y.absolutePath&&(!J||!J.absolutePath))H=R4(H);if(G===void 0&&H[0]==="/"&&H[1]==="/")H="/%2F"+H.slice(2);$.push(H)}if(W.query!==void 0)$.push("?",W.query);if(W.fragment!==void 0)$.push("#",W.fragment);return $.join("")}var BO=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function U1(Q,X){let W=Object.assign({},X),Y={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},$=!1;if(W.reference==="suffix")if(W.scheme)Q=W.scheme+":"+Q;else Q="//"+Q;let J=Q.match(BO);if(J){if(Y.scheme=J[1],Y.userinfo=J[3],Y.host=J[4],Y.port=parseInt(J[5],10),Y.path=J[6]||"",Y.query=J[7],Y.fragment=J[8],isNaN(Y.port))Y.port=J[5];if(Y.host)if(YO(Y.host)===!1){let z=XO(Y.host);Y.host=z.host.toLowerCase(),$=z.isIPV6}else $=!0;if(Y.scheme===void 0&&Y.userinfo===void 0&&Y.host===void 0&&Y.port===void 0&&Y.query===void 0&&!Y.path)Y.reference="same-document";else if(Y.scheme===void 0)Y.reference="relative";else if(Y.fragment===void 0)Y.reference="absolute";else Y.reference="uri";if(W.reference&&W.reference!=="suffix"&&W.reference!==Y.reference)Y.error=Y.error||"URI is not a "+W.reference+" reference.";let G=ZH(W.scheme||Y.scheme);if(!W.unicodeSupport&&(!G||!G.unicodeSupport)){if(Y.host&&(W.domainHost||G&&G.domainHost)&&$===!1&&$O(Y.host))try{Y.host=URL.domainToASCII(Y.host.toLowerCase())}catch(H){Y.error=Y.error||"Host's domain name can not be converted to ASCII: "+H}}if(!G||G&&!G.skipNormalize){if(Q.indexOf("%")!==-1){if(Y.scheme!==void 0)Y.scheme=unescape(Y.scheme);if(Y.host!==void 0)Y.host=unescape(Y.host)}if(Y.path)Y.path=escape(unescape(Y.path));if(Y.fragment)Y.fragment=encodeURI(decodeURIComponent(Y.fragment))}if(G&&G.parse)G.parse(Y,W)}else Y.error=Y.error||"URI can not be parsed.";return Y}var LY={SCHEMES:JO,normalize:GO,resolve:HO,resolveComponent:vH,equal:zO,serialize:W1,parse:U1};KQ.exports=LY;KQ.exports.default=LY;KQ.exports.fastUri=LY});var gH=j((xH)=>{Object.defineProperty(xH,"__esModule",{value:!0});var _H=kH();_H.code='require("ajv/dist/runtime/uri").default';xH.default=_H});var pH=j((F1)=>{Object.defineProperty(F1,"__esModule",{value:!0});F1.CodeGen=F1.Name=F1.nil=F1.stringify=F1.str=F1._=F1.KeywordCxt=void 0;var KO=j4();Object.defineProperty(F1,"KeywordCxt",{enumerable:!0,get:function(){return KO.KeywordCxt}});var N6=u();Object.defineProperty(F1,"_",{enumerable:!0,get:function(){return N6._}});Object.defineProperty(F1,"str",{enumerable:!0,get:function(){return N6.str}});Object.defineProperty(F1,"stringify",{enumerable:!0,get:function(){return N6.stringify}});Object.defineProperty(F1,"nil",{enumerable:!0,get:function(){return N6.nil}});Object.defineProperty(F1,"Name",{enumerable:!0,get:function(){return N6.Name}});Object.defineProperty(F1,"CodeGen",{enumerable:!0,get:function(){return N6.CodeGen}});var qO=JQ(),lH=I4(),DO=nW(),P4=HQ(),LO=u(),C4=M4(),qQ=w4(),UY=o(),yH=MH(),VO=gH(),mH=(Q,X)=>new RegExp(Q,X);mH.code="new RegExp";var UO=["removeAdditional","useDefaults","coerceTypes"],FO=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),OO={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},NO={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},hH=200;function wO(Q){var X,W,Y,$,J,G,H,z,B,A,K,q,V,U,F,E,w,g,v,m,k,a0,$1,CQ,TQ;let j6=Q.strict,ZQ=(X=Q.code)===null||X===void 0?void 0:X.optimize,nY=ZQ===!0||ZQ===void 0?1:ZQ||0,rY=(Y=(W=Q.code)===null||W===void 0?void 0:W.regExp)!==null&&Y!==void 0?Y:mH,FB=($=Q.uriResolver)!==null&&$!==void 0?$:VO.default;return{strictSchema:(G=(J=Q.strictSchema)!==null&&J!==void 0?J:j6)!==null&&G!==void 0?G:!0,strictNumbers:(z=(H=Q.strictNumbers)!==null&&H!==void 0?H:j6)!==null&&z!==void 0?z:!0,strictTypes:(A=(B=Q.strictTypes)!==null&&B!==void 0?B:j6)!==null&&A!==void 0?A:"log",strictTuples:(q=(K=Q.strictTuples)!==null&&K!==void 0?K:j6)!==null&&q!==void 0?q:"log",strictRequired:(U=(V=Q.strictRequired)!==null&&V!==void 0?V:j6)!==null&&U!==void 0?U:!1,code:Q.code?{...Q.code,optimize:nY,regExp:rY}:{optimize:nY,regExp:rY},loopRequired:(F=Q.loopRequired)!==null&&F!==void 0?F:hH,loopEnum:(E=Q.loopEnum)!==null&&E!==void 0?E:hH,meta:(w=Q.meta)!==null&&w!==void 0?w:!0,messages:(g=Q.messages)!==null&&g!==void 0?g:!0,inlineRefs:(v=Q.inlineRefs)!==null&&v!==void 0?v:!0,schemaId:(m=Q.schemaId)!==null&&m!==void 0?m:"$id",addUsedSchema:(k=Q.addUsedSchema)!==null&&k!==void 0?k:!0,validateSchema:(a0=Q.validateSchema)!==null&&a0!==void 0?a0:!0,validateFormats:($1=Q.validateFormats)!==null&&$1!==void 0?$1:!0,unicodeRegExp:(CQ=Q.unicodeRegExp)!==null&&CQ!==void 0?CQ:!0,int32range:(TQ=Q.int32range)!==null&&TQ!==void 0?TQ:!0,uriResolver:FB}}class DQ{constructor(Q={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Q=this.opts={...Q,...wO(Q)};let{es5:X,lines:W}=this.opts.code;this.scope=new LO.ValueScope({scope:{},prefixes:FO,es5:X,lines:W}),this.logger=SO(Q.logger);let Y=Q.validateFormats;if(Q.validateFormats=!1,this.RULES=(0,DO.getRules)(),fH.call(this,OO,Q,"NOT SUPPORTED"),fH.call(this,NO,Q,"DEPRECATED","warn"),this._metaOpts=jO.call(this),Q.formats)EO.call(this);if(this._addVocabularies(),this._addDefaultMetaSchema(),Q.keywords)bO.call(this,Q.keywords);if(typeof Q.meta=="object")this.addMetaSchema(Q.meta);MO.call(this),Q.validateFormats=Y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:Q,meta:X,schemaId:W}=this.opts,Y=yH;if(W==="id")Y={...yH},Y.id=Y.$id,delete Y.$id;if(X&&Q)this.addMetaSchema(Y,Y[W],!1)}defaultMeta(){let{meta:Q,schemaId:X}=this.opts;return this.opts.defaultMeta=typeof Q=="object"?Q[X]||Q:void 0}validate(Q,X){let W;if(typeof Q=="string"){if(W=this.getSchema(Q),!W)throw Error(`no schema with key or ref "${Q}"`)}else W=this.compile(Q);let Y=W(X);if(!("$async"in W))this.errors=W.errors;return Y}compile(Q,X){let W=this._addSchema(Q,X);return W.validate||this._compileSchemaEnv(W)}compileAsync(Q,X){if(typeof this.opts.loadSchema!="function")throw Error("options.loadSchema should be a function");let{loadSchema:W}=this.opts;return Y.call(this,Q,X);async function Y(B,A){await $.call(this,B.$schema);let K=this._addSchema(B,A);return K.validate||J.call(this,K)}async function $(B){if(B&&!this.getSchema(B))await Y.call(this,{$ref:B},!0)}async function J(B){try{return this._compileSchemaEnv(B)}catch(A){if(!(A instanceof lH.default))throw A;return G.call(this,A),await H.call(this,A.missingSchema),J.call(this,B)}}function G({missingSchema:B,missingRef:A}){if(this.refs[B])throw Error(`AnySchema ${B} is loaded but ${A} cannot be resolved`)}async function H(B){let A=await z.call(this,B);if(!this.refs[B])await $.call(this,A.$schema);if(!this.refs[B])this.addSchema(A,B,X)}async function z(B){let A=this._loading[B];if(A)return A;try{return await(this._loading[B]=W(B))}finally{delete this._loading[B]}}}addSchema(Q,X,W,Y=this.opts.validateSchema){if(Array.isArray(Q)){for(let J of Q)this.addSchema(J,void 0,W,Y);return this}let $;if(typeof Q==="object"){let{schemaId:J}=this.opts;if($=Q[J],$!==void 0&&typeof $!="string")throw Error(`schema ${J} must be string`)}return X=(0,C4.normalizeId)(X||$),this._checkUnique(X),this.schemas[X]=this._addSchema(Q,W,X,Y,!0),this}addMetaSchema(Q,X,W=this.opts.validateSchema){return this.addSchema(Q,X,!0,W),this}validateSchema(Q,X){if(typeof Q=="boolean")return!0;let W;if(W=Q.$schema,W!==void 0&&typeof W!="string")throw Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let Y=this.validate(W,Q);if(!Y&&X){let $="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error($);else throw Error($)}return Y}getSchema(Q){let X;while(typeof(X=uH.call(this,Q))=="string")Q=X;if(X===void 0){let{schemaId:W}=this.opts,Y=new P4.SchemaEnv({schema:{},schemaId:W});if(X=P4.resolveSchema.call(this,Y,Q),!X)return;this.refs[Q]=X}return X.validate||this._compileSchemaEnv(X)}removeSchema(Q){if(Q instanceof RegExp)return this._removeAllSchemas(this.schemas,Q),this._removeAllSchemas(this.refs,Q),this;switch(typeof Q){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let X=uH.call(this,Q);if(typeof X=="object")this._cache.delete(X.schema);return delete this.schemas[Q],delete this.refs[Q],this}case"object":{let X=Q;this._cache.delete(X);let W=Q[this.opts.schemaId];if(W)W=(0,C4.normalizeId)(W),delete this.schemas[W],delete this.refs[W];return this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Q){for(let X of Q)this.addKeyword(X);return this}addKeyword(Q,X){let W;if(typeof Q=="string"){if(W=Q,typeof X=="object")this.logger.warn("these parameters are deprecated, see docs for addKeyword"),X.keyword=W}else if(typeof Q=="object"&&X===void 0){if(X=Q,W=X.keyword,Array.isArray(W)&&!W.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(PO.call(this,W,X),!X)return(0,UY.eachItem)(W,($)=>VY.call(this,$)),this;TO.call(this,X);let Y={...X,type:(0,qQ.getJSONTypes)(X.type),schemaType:(0,qQ.getJSONTypes)(X.schemaType)};return(0,UY.eachItem)(W,Y.type.length===0?($)=>VY.call(this,$,Y):($)=>Y.type.forEach((J)=>VY.call(this,$,Y,J))),this}getKeyword(Q){let X=this.RULES.all[Q];return typeof X=="object"?X.definition:!!X}removeKeyword(Q){let{RULES:X}=this;delete X.keywords[Q],delete X.all[Q];for(let W of X.rules){let Y=W.rules.findIndex(($)=>$.keyword===Q);if(Y>=0)W.rules.splice(Y,1)}return this}addFormat(Q,X){if(typeof X=="string")X=new RegExp(X);return this.formats[Q]=X,this}errorsText(Q=this.errors,{separator:X=", ",dataVar:W="data"}={}){if(!Q||Q.length===0)return"No errors";return Q.map((Y)=>`${W}${Y.instancePath} ${Y.message}`).reduce((Y,$)=>Y+X+$)}$dataMetaSchema(Q,X){let W=this.RULES.all;Q=JSON.parse(JSON.stringify(Q));for(let Y of X){let $=Y.split("/").slice(1),J=Q;for(let G of $)J=J[G];for(let G in W){let H=W[G];if(typeof H!="object")continue;let{$data:z}=H.definition,B=J[G];if(z&&B)J[G]=cH(B)}}return Q}_removeAllSchemas(Q,X){for(let W in Q){let Y=Q[W];if(!X||X.test(W)){if(typeof Y=="string")delete Q[W];else if(Y&&!Y.meta)this._cache.delete(Y.schema),delete Q[W]}}}_addSchema(Q,X,W,Y=this.opts.validateSchema,$=this.opts.addUsedSchema){let J,{schemaId:G}=this.opts;if(typeof Q=="object")J=Q[G];else if(this.opts.jtd)throw Error("schema must be object");else if(typeof Q!="boolean")throw Error("schema must be object or boolean");let H=this._cache.get(Q);if(H!==void 0)return H;W=(0,C4.normalizeId)(J||W);let z=C4.getSchemaRefs.call(this,Q,W);if(H=new P4.SchemaEnv({schema:Q,schemaId:G,meta:X,baseId:W,localRefs:z}),this._cache.set(H.schema,H),$&&!W.startsWith("#")){if(W)this._checkUnique(W);this.refs[W]=H}if(Y)this.validateSchema(Q,!0);return H}_checkUnique(Q){if(this.schemas[Q]||this.refs[Q])throw Error(`schema with key or id "${Q}" already exists`)}_compileSchemaEnv(Q){if(Q.meta)this._compileMetaSchema(Q);else P4.compileSchema.call(this,Q);if(!Q.validate)throw Error("ajv implementation error");return Q.validate}_compileMetaSchema(Q){let X=this.opts;this.opts=this._metaOpts;try{P4.compileSchema.call(this,Q)}finally{this.opts=X}}}DQ.ValidationError=qO.default;DQ.MissingRefError=lH.default;F1.default=DQ;function fH(Q,X,W,Y="error"){for(let $ in Q){let J=$;if(J in X)this.logger[Y](`${W}: option ${$}. ${Q[J]}`)}}function uH(Q){return Q=(0,C4.normalizeId)(Q),this.schemas[Q]||this.refs[Q]}function MO(){let Q=this.opts.schemas;if(!Q)return;if(Array.isArray(Q))this.addSchema(Q);else for(let X in Q)this.addSchema(Q[X],X)}function EO(){for(let Q in this.opts.formats){let X=this.opts.formats[Q];if(X)this.addFormat(Q,X)}}function bO(Q){if(Array.isArray(Q)){this.addVocabulary(Q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let X in Q){let W=Q[X];if(!W.keyword)W.keyword=X;this.addKeyword(W)}}function jO(){let Q={...this.opts};for(let X of UO)delete Q[X];return Q}var IO={log(){},warn(){},error(){}};function SO(Q){if(Q===!1)return IO;if(Q===void 0)return console;if(Q.log&&Q.warn&&Q.error)return Q;throw Error("logger must implement log, warn and error methods")}var RO=/^[a-z_$][a-z0-9_$:-]*$/i;function PO(Q,X){let{RULES:W}=this;if((0,UY.eachItem)(Q,(Y)=>{if(W.keywords[Y])throw Error(`Keyword ${Y} is already defined`);if(!RO.test(Y))throw Error(`Keyword ${Y} has invalid name`)}),!X)return;if(X.$data&&!(("code"in X)||("validate"in X)))throw Error('$data keyword must have "code" or "validate" function')}function VY(Q,X,W){var Y;let $=X===null||X===void 0?void 0:X.post;if(W&&$)throw Error('keyword with "post" flag cannot have "type"');let{RULES:J}=this,G=$?J.post:J.rules.find(({type:z})=>z===W);if(!G)G={type:W,rules:[]},J.rules.push(G);if(J.keywords[Q]=!0,!X)return;let H={keyword:Q,definition:{...X,type:(0,qQ.getJSONTypes)(X.type),schemaType:(0,qQ.getJSONTypes)(X.schemaType)}};if(X.before)CO.call(this,G,H,X.before);else G.rules.push(H);J.all[Q]=H,(Y=X.implements)===null||Y===void 0||Y.forEach((z)=>this.addKeyword(z))}function CO(Q,X,W){let Y=Q.rules.findIndex(($)=>$.keyword===W);if(Y>=0)Q.rules.splice(Y,0,X);else Q.rules.push(X),this.logger.warn(`rule ${W} is not defined`)}function TO(Q){let{metaSchema:X}=Q;if(X===void 0)return;if(Q.$data&&this.opts.$data)X=cH(X);Q.validateSchema=this.compile(X,!0)}var ZO={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function cH(Q){return{anyOf:[Q,ZO]}}});var iH=j((dH)=>{Object.defineProperty(dH,"__esModule",{value:!0});var _O={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};dH.default=_O});var sH=j((tH)=>{Object.defineProperty(tH,"__esModule",{value:!0});tH.callRef=tH.getValidate=void 0;var gO=I4(),nH=f0(),C0=u(),w6=L1(),rH=HQ(),LQ=o(),yO={keyword:"$ref",schemaType:"string",code(Q){let{gen:X,schema:W,it:Y}=Q,{baseId:$,schemaEnv:J,validateName:G,opts:H,self:z}=Y,{root:B}=J;if((W==="#"||W==="#/")&&$===B.baseId)return K();let A=rH.resolveRef.call(z,B,$,W);if(A===void 0)throw new gO.default(Y.opts.uriResolver,$,W);if(A instanceof rH.SchemaEnv)return q(A);return V(A);function K(){if(J===B)return VQ(Q,G,J,J.$async);let U=X.scopeValue("root",{ref:B});return VQ(Q,C0._`${U}.validate`,B,B.$async)}function q(U){let F=oH(Q,U);VQ(Q,F,U,U.$async)}function V(U){let F=X.scopeValue("schema",H.code.source===!0?{ref:U,code:(0,C0.stringify)(U)}:{ref:U}),E=X.name("valid"),w=Q.subschema({schema:U,dataTypes:[],schemaPath:C0.nil,topSchemaRef:F,errSchemaPath:W},E);Q.mergeEvaluated(w),Q.ok(E)}}};function oH(Q,X){let{gen:W}=Q;return X.validate?W.scopeValue("validate",{ref:X.validate}):C0._`${W.scopeValue("wrapper",{ref:X})}.validate`}tH.getValidate=oH;function VQ(Q,X,W,Y){let{gen:$,it:J}=Q,{allErrors:G,schemaEnv:H,opts:z}=J,B=z.passContext?w6.default.this:C0.nil;if(Y)A();else K();function A(){if(!H.$async)throw Error("async schema referenced by sync schema");let U=$.let("valid");$.try(()=>{if($.code(C0._`await ${(0,nH.callValidateCode)(Q,X,B)}`),V(X),!G)$.assign(U,!0)},(F)=>{if($.if(C0._`!(${F} instanceof ${J.ValidationError})`,()=>$.throw(F)),q(F),!G)$.assign(U,!1)}),Q.ok(U)}function K(){Q.result((0,nH.callValidateCode)(Q,X,B),()=>V(X),()=>q(X))}function q(U){let F=C0._`${U}.errors`;$.assign(w6.default.vErrors,C0._`${w6.default.vErrors} === null ? ${F} : ${w6.default.vErrors}.concat(${F})`),$.assign(w6.default.errors,C0._`${w6.default.vErrors}.length`)}function V(U){var F;if(!J.opts.unevaluated)return;let E=(F=W===null||W===void 0?void 0:W.validate)===null||F===void 0?void 0:F.evaluated;if(J.props!==!0)if(E&&!E.dynamicProps){if(E.props!==void 0)J.props=LQ.mergeEvaluated.props($,E.props,J.props)}else{let w=$.var("props",C0._`${U}.evaluated.props`);J.props=LQ.mergeEvaluated.props($,w,J.props,C0.Name)}if(J.items!==!0)if(E&&!E.dynamicItems){if(E.items!==void 0)J.items=LQ.mergeEvaluated.items($,E.items,J.items)}else{let w=$.var("items",C0._`${U}.evaluated.items`);J.items=LQ.mergeEvaluated.items($,w,J.items,C0.Name)}}}tH.callRef=VQ;tH.default=yO});var Q3=j((eH)=>{Object.defineProperty(eH,"__esModule",{value:!0});var uO=iH(),lO=sH(),mO=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",uO.default,lO.default];eH.default=mO});var W3=j((X3)=>{Object.defineProperty(X3,"__esModule",{value:!0});var UQ=u(),_1=UQ.operators,FQ={maximum:{okStr:"<=",ok:_1.LTE,fail:_1.GT},minimum:{okStr:">=",ok:_1.GTE,fail:_1.LT},exclusiveMaximum:{okStr:"<",ok:_1.LT,fail:_1.GTE},exclusiveMinimum:{okStr:">",ok:_1.GT,fail:_1.LTE}},pO={message:({keyword:Q,schemaCode:X})=>UQ.str`must be ${FQ[Q].okStr} ${X}`,params:({keyword:Q,schemaCode:X})=>UQ._`{comparison: ${FQ[Q].okStr}, limit: ${X}}`},dO={keyword:Object.keys(FQ),type:"number",schemaType:"number",$data:!0,error:pO,code(Q){let{keyword:X,data:W,schemaCode:Y}=Q;Q.fail$data(UQ._`${W} ${FQ[X].fail} ${Y} || isNaN(${W})`)}};X3.default=dO});var $3=j((Y3)=>{Object.defineProperty(Y3,"__esModule",{value:!0});var T4=u(),nO={message:({schemaCode:Q})=>T4.str`must be multiple of ${Q}`,params:({schemaCode:Q})=>T4._`{multipleOf: ${Q}}`},rO={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:nO,code(Q){let{gen:X,data:W,schemaCode:Y,it:$}=Q,J=$.opts.multipleOfPrecision,G=X.let("res"),H=J?T4._`Math.abs(Math.round(${G}) - ${G}) > 1e-${J}`:T4._`${G} !== parseInt(${G})`;Q.fail$data(T4._`(${Y} === 0 || (${G} = ${W}/${Y}, ${H}))`)}};Y3.default=rO});var H3=j((G3)=>{Object.defineProperty(G3,"__esModule",{value:!0});function J3(Q){let X=Q.length,W=0,Y=0,$;while(Y<X)if(W++,$=Q.charCodeAt(Y++),$>=55296&&$<=56319&&Y<X){if($=Q.charCodeAt(Y),($&64512)===56320)Y++}return W}G3.default=J3;J3.code='require("ajv/dist/runtime/ucs2length").default'});var B3=j((z3)=>{Object.defineProperty(z3,"__esModule",{value:!0});var t1=u(),aO=o(),sO=H3(),eO={message({keyword:Q,schemaCode:X}){let W=Q==="maxLength"?"more":"fewer";return t1.str`must NOT have ${W} than ${X} characters`},params:({schemaCode:Q})=>t1._`{limit: ${Q}}`},QN={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:eO,code(Q){let{keyword:X,data:W,schemaCode:Y,it:$}=Q,J=X==="maxLength"?t1.operators.GT:t1.operators.LT,G=$.opts.unicode===!1?t1._`${W}.length`:t1._`${(0,aO.useFunc)(Q.gen,sO.default)}(${W})`;Q.fail$data(t1._`${G} ${J} ${Y}`)}};z3.default=QN});var K3=j((A3)=>{Object.defineProperty(A3,"__esModule",{value:!0});var WN=f0(),OQ=u(),YN={message:({schemaCode:Q})=>OQ.str`must match pattern "${Q}"`,params:({schemaCode:Q})=>OQ._`{pattern: ${Q}}`},$N={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:YN,code(Q){let{data:X,$data:W,schema:Y,schemaCode:$,it:J}=Q,G=J.opts.unicodeRegExp?"u":"",H=W?OQ._`(new RegExp(${$}, ${G}))`:(0,WN.usePattern)(Q,Y);Q.fail$data(OQ._`!${H}.test(${X})`)}};A3.default=$N});var D3=j((q3)=>{Object.defineProperty(q3,"__esModule",{value:!0});var Z4=u(),GN={message({keyword:Q,schemaCode:X}){let W=Q==="maxProperties"?"more":"fewer";return Z4.str`must NOT have ${W} than ${X} properties`},params:({schemaCode:Q})=>Z4._`{limit: ${Q}}`},HN={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:GN,code(Q){let{keyword:X,data:W,schemaCode:Y}=Q,$=X==="maxProperties"?Z4.operators.GT:Z4.operators.LT;Q.fail$data(Z4._`Object.keys(${W}).length ${$} ${Y}`)}};q3.default=HN});var V3=j((L3)=>{Object.defineProperty(L3,"__esModule",{value:!0});var v4=f0(),k4=u(),BN=o(),AN={message:({params:{missingProperty:Q}})=>k4.str`must have required property '${Q}'`,params:({params:{missingProperty:Q}})=>k4._`{missingProperty: ${Q}}`},KN={keyword:"required",type:"object",schemaType:"array",$data:!0,error:AN,code(Q){let{gen:X,schema:W,schemaCode:Y,data:$,$data:J,it:G}=Q,{opts:H}=G;if(!J&&W.length===0)return;let z=W.length>=H.loopRequired;if(G.allErrors)B();else A();if(H.strictRequired){let V=Q.parentSchema.properties,{definedProperties:U}=Q.it;for(let F of W)if((V===null||V===void 0?void 0:V[F])===void 0&&!U.has(F)){let E=G.schemaEnv.baseId+G.errSchemaPath,w=`required property "${F}" is not defined at "${E}" (strictRequired)`;(0,BN.checkStrictMode)(G,w,G.opts.strictRequired)}}function B(){if(z||J)Q.block$data(k4.nil,K);else for(let V of W)(0,v4.checkReportMissingProp)(Q,V)}function A(){let V=X.let("missing");if(z||J){let U=X.let("valid",!0);Q.block$data(U,()=>q(V,U)),Q.ok(U)}else X.if((0,v4.checkMissingProp)(Q,W,V)),(0,v4.reportMissingProp)(Q,V),X.else()}function K(){X.forOf("prop",Y,(V)=>{Q.setParams({missingProperty:V}),X.if((0,v4.noPropertyInData)(X,$,V,H.ownProperties),()=>Q.error())})}function q(V,U){Q.setParams({missingProperty:V}),X.forOf(V,Y,()=>{X.assign(U,(0,v4.propertyInData)(X,$,V,H.ownProperties)),X.if((0,k4.not)(U),()=>{Q.error(),X.break()})},k4.nil)}}};L3.default=KN});var F3=j((U3)=>{Object.defineProperty(U3,"__esModule",{value:!0});var _4=u(),DN={message({keyword:Q,schemaCode:X}){let W=Q==="maxItems"?"more":"fewer";return _4.str`must NOT have ${W} than ${X} items`},params:({schemaCode:Q})=>_4._`{limit: ${Q}}`},LN={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:DN,code(Q){let{keyword:X,data:W,schemaCode:Y}=Q,$=X==="maxItems"?_4.operators.GT:_4.operators.LT;Q.fail$data(_4._`${W}.length ${$} ${Y}`)}};U3.default=LN});var NQ=j((N3)=>{Object.defineProperty(N3,"__esModule",{value:!0});var O3=XY();O3.code='require("ajv/dist/runtime/equal").default';N3.default=O3});var M3=j((w3)=>{Object.defineProperty(w3,"__esModule",{value:!0});var FY=w4(),F0=u(),FN=o(),ON=NQ(),NN={message:({params:{i:Q,j:X}})=>F0.str`must NOT have duplicate items (items ## ${X} and ${Q} are identical)`,params:({params:{i:Q,j:X}})=>F0._`{i: ${Q}, j: ${X}}`},wN={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:NN,code(Q){let{gen:X,data:W,$data:Y,schema:$,parentSchema:J,schemaCode:G,it:H}=Q;if(!Y&&!$)return;let z=X.let("valid"),B=J.items?(0,FY.getSchemaTypes)(J.items):[];Q.block$data(z,A,F0._`${G} === false`),Q.ok(z);function A(){let U=X.let("i",F0._`${W}.length`),F=X.let("j");Q.setParams({i:U,j:F}),X.assign(z,!0),X.if(F0._`${U} > 1`,()=>(K()?q:V)(U,F))}function K(){return B.length>0&&!B.some((U)=>U==="object"||U==="array")}function q(U,F){let E=X.name("item"),w=(0,FY.checkDataTypes)(B,E,H.opts.strictNumbers,FY.DataType.Wrong),g=X.const("indices",F0._`{}`);X.for(F0._`;${U}--;`,()=>{if(X.let(E,F0._`${W}[${U}]`),X.if(w,F0._`continue`),B.length>1)X.if(F0._`typeof ${E} == "string"`,F0._`${E} += "_"`);X.if(F0._`typeof ${g}[${E}] == "number"`,()=>{X.assign(F,F0._`${g}[${E}]`),Q.error(),X.assign(z,!1).break()}).code(F0._`${g}[${E}] = ${U}`)})}function V(U,F){let E=(0,FN.useFunc)(X,ON.default),w=X.name("outer");X.label(w).for(F0._`;${U}--;`,()=>X.for(F0._`${F} = ${U}; ${F}--;`,()=>X.if(F0._`${E}(${W}[${U}], ${W}[${F}])`,()=>{Q.error(),X.assign(z,!1).break(w)})))}}};w3.default=wN});var b3=j((E3)=>{Object.defineProperty(E3,"__esModule",{value:!0});var OY=u(),EN=o(),bN=NQ(),jN={message:"must be equal to constant",params:({schemaCode:Q})=>OY._`{allowedValue: ${Q}}`},IN={keyword:"const",$data:!0,error:jN,code(Q){let{gen:X,data:W,$data:Y,schemaCode:$,schema:J}=Q;if(Y||J&&typeof J=="object")Q.fail$data(OY._`!${(0,EN.useFunc)(X,bN.default)}(${W}, ${$})`);else Q.fail(OY._`${J} !== ${W}`)}};E3.default=IN});var I3=j((j3)=>{Object.defineProperty(j3,"__esModule",{value:!0});var x4=u(),RN=o(),PN=NQ(),CN={message:"must be equal to one of the allowed values",params:({schemaCode:Q})=>x4._`{allowedValues: ${Q}}`},TN={keyword:"enum",schemaType:"array",$data:!0,error:CN,code(Q){let{gen:X,data:W,$data:Y,schema:$,schemaCode:J,it:G}=Q;if(!Y&&$.length===0)throw Error("enum must have non-empty array");let H=$.length>=G.opts.loopEnum,z,B=()=>z!==null&&z!==void 0?z:z=(0,RN.useFunc)(X,PN.default),A;if(H||Y)A=X.let("valid"),Q.block$data(A,K);else{if(!Array.isArray($))throw Error("ajv implementation error");let V=X.const("vSchema",J);A=(0,x4.or)(...$.map((U,F)=>q(V,F)))}Q.pass(A);function K(){X.assign(A,!1),X.forOf("v",J,(V)=>X.if(x4._`${B()}(${W}, ${V})`,()=>X.assign(A,!0).break()))}function q(V,U){let F=$[U];return typeof F==="object"&&F!==null?x4._`${B()}(${W}, ${V}[${U}])`:x4._`${W} === ${F}`}}};j3.default=TN});var R3=j((S3)=>{Object.defineProperty(S3,"__esModule",{value:!0});var vN=W3(),kN=$3(),_N=B3(),xN=K3(),gN=D3(),yN=V3(),hN=F3(),fN=M3(),uN=b3(),lN=I3(),mN=[vN.default,kN.default,_N.default,xN.default,gN.default,yN.default,hN.default,fN.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},uN.default,lN.default];S3.default=mN});var wY=j((C3)=>{Object.defineProperty(C3,"__esModule",{value:!0});C3.validateAdditionalItems=void 0;var a1=u(),NY=o(),pN={message:({params:{len:Q}})=>a1.str`must NOT have more than ${Q} items`,params:({params:{len:Q}})=>a1._`{limit: ${Q}}`},dN={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:pN,code(Q){let{parentSchema:X,it:W}=Q,{items:Y}=X;if(!Array.isArray(Y)){(0,NY.checkStrictMode)(W,'"additionalItems" is ignored when "items" is not an array of schemas');return}P3(Q,Y)}};function P3(Q,X){let{gen:W,schema:Y,data:$,keyword:J,it:G}=Q;G.items=!0;let H=W.const("len",a1._`${$}.length`);if(Y===!1)Q.setParams({len:X.length}),Q.pass(a1._`${H} <= ${X.length}`);else if(typeof Y=="object"&&!(0,NY.alwaysValidSchema)(G,Y)){let B=W.var("valid",a1._`${H} <= ${X.length}`);W.if((0,a1.not)(B),()=>z(B)),Q.ok(B)}function z(B){W.forRange("i",X.length,H,(A)=>{if(Q.subschema({keyword:J,dataProp:A,dataPropType:NY.Type.Num},B),!G.allErrors)W.if((0,a1.not)(B),()=>W.break())})}}C3.validateAdditionalItems=P3;C3.default=dN});var MY=j((k3)=>{Object.defineProperty(k3,"__esModule",{value:!0});k3.validateTuple=void 0;var Z3=u(),wQ=o(),nN=f0(),rN={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(Q){let{schema:X,it:W}=Q;if(Array.isArray(X))return v3(Q,"additionalItems",X);if(W.items=!0,(0,wQ.alwaysValidSchema)(W,X))return;Q.ok((0,nN.validateArray)(Q))}};function v3(Q,X,W=Q.schema){let{gen:Y,parentSchema:$,data:J,keyword:G,it:H}=Q;if(A($),H.opts.unevaluated&&W.length&&H.items!==!0)H.items=wQ.mergeEvaluated.items(Y,W.length,H.items);let z=Y.name("valid"),B=Y.const("len",Z3._`${J}.length`);W.forEach((K,q)=>{if((0,wQ.alwaysValidSchema)(H,K))return;Y.if(Z3._`${B} > ${q}`,()=>Q.subschema({keyword:G,schemaProp:q,dataProp:q},z)),Q.ok(z)});function A(K){let{opts:q,errSchemaPath:V}=H,U=W.length,F=U===K.minItems&&(U===K.maxItems||K[X]===!1);if(q.strictTuples&&!F){let E=`"${G}" is ${U}-tuple, but minItems or maxItems/${X} are not specified or different at path "${V}"`;(0,wQ.checkStrictMode)(H,E,q.strictTuples)}}}k3.validateTuple=v3;k3.default=rN});var g3=j((x3)=>{Object.defineProperty(x3,"__esModule",{value:!0});var tN=MY(),aN={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:(Q)=>(0,tN.validateTuple)(Q,"items")};x3.default=aN});var f3=j((h3)=>{Object.defineProperty(h3,"__esModule",{value:!0});var y3=u(),eN=o(),Qw=f0(),Xw=wY(),Ww={message:({params:{len:Q}})=>y3.str`must NOT have more than ${Q} items`,params:({params:{len:Q}})=>y3._`{limit: ${Q}}`},Yw={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ww,code(Q){let{schema:X,parentSchema:W,it:Y}=Q,{prefixItems:$}=W;if(Y.items=!0,(0,eN.alwaysValidSchema)(Y,X))return;if($)(0,Xw.validateAdditionalItems)(Q,$);else Q.ok((0,Qw.validateArray)(Q))}};h3.default=Yw});var l3=j((u3)=>{Object.defineProperty(u3,"__esModule",{value:!0});var u0=u(),MQ=o(),Jw={message:({params:{min:Q,max:X}})=>X===void 0?u0.str`must contain at least ${Q} valid item(s)`:u0.str`must contain at least ${Q} and no more than ${X} valid item(s)`,params:({params:{min:Q,max:X}})=>X===void 0?u0._`{minContains: ${Q}}`:u0._`{minContains: ${Q}, maxContains: ${X}}`},Gw={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Jw,code(Q){let{gen:X,schema:W,parentSchema:Y,data:$,it:J}=Q,G,H,{minContains:z,maxContains:B}=Y;if(J.opts.next)G=z===void 0?1:z,H=B;else G=1;let A=X.const("len",u0._`${$}.length`);if(Q.setParams({min:G,max:H}),H===void 0&&G===0){(0,MQ.checkStrictMode)(J,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(H!==void 0&&G>H){(0,MQ.checkStrictMode)(J,'"minContains" > "maxContains" is always invalid'),Q.fail();return}if((0,MQ.alwaysValidSchema)(J,W)){let F=u0._`${A} >= ${G}`;if(H!==void 0)F=u0._`${F} && ${A} <= ${H}`;Q.pass(F);return}J.items=!0;let K=X.name("valid");if(H===void 0&&G===1)V(K,()=>X.if(K,()=>X.break()));else if(G===0){if(X.let(K,!0),H!==void 0)X.if(u0._`${$}.length > 0`,q)}else X.let(K,!1),q();Q.result(K,()=>Q.reset());function q(){let F=X.name("_valid"),E=X.let("count",0);V(F,()=>X.if(F,()=>U(E)))}function V(F,E){X.forRange("i",0,A,(w)=>{Q.subschema({keyword:"contains",dataProp:w,dataPropType:MQ.Type.Num,compositeRule:!0},F),E()})}function U(F){if(X.code(u0._`${F}++`),H===void 0)X.if(u0._`${F} >= ${G}`,()=>X.assign(K,!0).break());else if(X.if(u0._`${F} > ${H}`,()=>X.assign(K,!1).break()),G===1)X.assign(K,!0);else X.if(u0._`${F} >= ${G}`,()=>X.assign(K,!0))}}};u3.default=Gw});var n3=j((p3)=>{Object.defineProperty(p3,"__esModule",{value:!0});p3.validateSchemaDeps=p3.validatePropertyDeps=p3.error=void 0;var EY=u(),zw=o(),g4=f0();p3.error={message:({params:{property:Q,depsCount:X,deps:W}})=>{let Y=X===1?"property":"properties";return EY.str`must have ${Y} ${W} when property ${Q} is present`},params:({params:{property:Q,depsCount:X,deps:W,missingProperty:Y}})=>EY._`{property: ${Q},
    missingProperty: ${Y},
    depsCount: ${X},
    deps: ${W}}`};var Bw={keyword:"dependencies",type:"object",schemaType:"object",error:p3.error,code(Q){let[X,W]=Aw(Q);m3(Q,X),c3(Q,W)}};function Aw({schema:Q}){let X={},W={};for(let Y in Q){if(Y==="__proto__")continue;let $=Array.isArray(Q[Y])?X:W;$[Y]=Q[Y]}return[X,W]}function m3(Q,X=Q.schema){let{gen:W,data:Y,it:$}=Q;if(Object.keys(X).length===0)return;let J=W.let("missing");for(let G in X){let H=X[G];if(H.length===0)continue;let z=(0,g4.propertyInData)(W,Y,G,$.opts.ownProperties);if(Q.setParams({property:G,depsCount:H.length,deps:H.join(", ")}),$.allErrors)W.if(z,()=>{for(let B of H)(0,g4.checkReportMissingProp)(Q,B)});else W.if(EY._`${z} && (${(0,g4.checkMissingProp)(Q,H,J)})`),(0,g4.reportMissingProp)(Q,J),W.else()}}p3.validatePropertyDeps=m3;function c3(Q,X=Q.schema){let{gen:W,data:Y,keyword:$,it:J}=Q,G=W.name("valid");for(let H in X){if((0,zw.alwaysValidSchema)(J,X[H]))continue;W.if((0,g4.propertyInData)(W,Y,H,J.opts.ownProperties),()=>{let z=Q.subschema({keyword:$,schemaProp:H},G);Q.mergeValidEvaluated(z,G)},()=>W.var(G,!0)),Q.ok(G)}}p3.validateSchemaDeps=c3;p3.default=Bw});var t3=j((o3)=>{Object.defineProperty(o3,"__esModule",{value:!0});var r3=u(),Dw=o(),Lw={message:"property name must be valid",params:({params:Q})=>r3._`{propertyName: ${Q.propertyName}}`},Vw={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Lw,code(Q){let{gen:X,schema:W,data:Y,it:$}=Q;if((0,Dw.alwaysValidSchema)($,W))return;let J=X.name("valid");X.forIn("key",Y,(G)=>{Q.setParams({propertyName:G}),Q.subschema({keyword:"propertyNames",data:G,dataTypes:["string"],propertyName:G,compositeRule:!0},J),X.if((0,r3.not)(J),()=>{if(Q.error(!0),!$.allErrors)X.break()})}),Q.ok(J)}};o3.default=Vw});var bY=j((a3)=>{Object.defineProperty(a3,"__esModule",{value:!0});var EQ=f0(),o0=u(),Fw=L1(),bQ=o(),Ow={message:"must NOT have additional properties",params:({params:Q})=>o0._`{additionalProperty: ${Q.additionalProperty}}`},Nw={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Ow,code(Q){let{gen:X,schema:W,parentSchema:Y,data:$,errsCount:J,it:G}=Q;if(!J)throw Error("ajv implementation error");let{allErrors:H,opts:z}=G;if(G.props=!0,z.removeAdditional!=="all"&&(0,bQ.alwaysValidSchema)(G,W))return;let B=(0,EQ.allSchemaProperties)(Y.properties),A=(0,EQ.allSchemaProperties)(Y.patternProperties);K(),Q.ok(o0._`${J} === ${Fw.default.errors}`);function K(){X.forIn("key",$,(E)=>{if(!B.length&&!A.length)U(E);else X.if(q(E),()=>U(E))})}function q(E){let w;if(B.length>8){let g=(0,bQ.schemaRefOrVal)(G,Y.properties,"properties");w=(0,EQ.isOwnProperty)(X,g,E)}else if(B.length)w=(0,o0.or)(...B.map((g)=>o0._`${E} === ${g}`));else w=o0.nil;if(A.length)w=(0,o0.or)(w,...A.map((g)=>o0._`${(0,EQ.usePattern)(Q,g)}.test(${E})`));return(0,o0.not)(w)}function V(E){X.code(o0._`delete ${$}[${E}]`)}function U(E){if(z.removeAdditional==="all"||z.removeAdditional&&W===!1){V(E);return}if(W===!1){if(Q.setParams({additionalProperty:E}),Q.error(),!H)X.break();return}if(typeof W=="object"&&!(0,bQ.alwaysValidSchema)(G,W)){let w=X.name("valid");if(z.removeAdditional==="failing")F(E,w,!1),X.if((0,o0.not)(w),()=>{Q.reset(),V(E)});else if(F(E,w),!H)X.if((0,o0.not)(w),()=>X.break())}}function F(E,w,g){let v={keyword:"additionalProperties",dataProp:E,dataPropType:bQ.Type.Str};if(g===!1)Object.assign(v,{compositeRule:!0,createErrors:!1,allErrors:!1});Q.subschema(v,w)}}};a3.default=Nw});var Xz=j((Qz)=>{Object.defineProperty(Qz,"__esModule",{value:!0});var Mw=j4(),s3=f0(),jY=o(),e3=bY(),Ew={keyword:"properties",type:"object",schemaType:"object",code(Q){let{gen:X,schema:W,parentSchema:Y,data:$,it:J}=Q;if(J.opts.removeAdditional==="all"&&Y.additionalProperties===void 0)e3.default.code(new Mw.KeywordCxt(J,e3.default,"additionalProperties"));let G=(0,s3.allSchemaProperties)(W);for(let K of G)J.definedProperties.add(K);if(J.opts.unevaluated&&G.length&&J.props!==!0)J.props=jY.mergeEvaluated.props(X,(0,jY.toHash)(G),J.props);let H=G.filter((K)=>!(0,jY.alwaysValidSchema)(J,W[K]));if(H.length===0)return;let z=X.name("valid");for(let K of H){if(B(K))A(K);else{if(X.if((0,s3.propertyInData)(X,$,K,J.opts.ownProperties)),A(K),!J.allErrors)X.else().var(z,!0);X.endIf()}Q.it.definedProperties.add(K),Q.ok(z)}function B(K){return J.opts.useDefaults&&!J.compositeRule&&W[K].default!==void 0}function A(K){Q.subschema({keyword:"properties",schemaProp:K,dataProp:K},z)}}};Qz.default=Ew});var Gz=j((Jz)=>{Object.defineProperty(Jz,"__esModule",{value:!0});var Wz=f0(),jQ=u(),Yz=o(),$z=o(),jw={keyword:"patternProperties",type:"object",schemaType:"object",code(Q){let{gen:X,schema:W,data:Y,parentSchema:$,it:J}=Q,{opts:G}=J,H=(0,Wz.allSchemaProperties)(W),z=H.filter((F)=>(0,Yz.alwaysValidSchema)(J,W[F]));if(H.length===0||z.length===H.length&&(!J.opts.unevaluated||J.props===!0))return;let B=G.strictSchema&&!G.allowMatchingProperties&&$.properties,A=X.name("valid");if(J.props!==!0&&!(J.props instanceof jQ.Name))J.props=(0,$z.evaluatedPropsToName)(X,J.props);let{props:K}=J;q();function q(){for(let F of H){if(B)V(F);if(J.allErrors)U(F);else X.var(A,!0),U(F),X.if(A)}}function V(F){for(let E in B)if(new RegExp(F).test(E))(0,Yz.checkStrictMode)(J,`property ${E} matches pattern ${F} (use allowMatchingProperties)`)}function U(F){X.forIn("key",Y,(E)=>{X.if(jQ._`${(0,Wz.usePattern)(Q,F)}.test(${E})`,()=>{let w=z.includes(F);if(!w)Q.subschema({keyword:"patternProperties",schemaProp:F,dataProp:E,dataPropType:$z.Type.Str},A);if(J.opts.unevaluated&&K!==!0)X.assign(jQ._`${K}[${E}]`,!0);else if(!w&&!J.allErrors)X.if((0,jQ.not)(A),()=>X.break())})})}}};Jz.default=jw});var zz=j((Hz)=>{Object.defineProperty(Hz,"__esModule",{value:!0});var Sw=o(),Rw={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(Q){let{gen:X,schema:W,it:Y}=Q;if((0,Sw.alwaysValidSchema)(Y,W)){Q.fail();return}let $=X.name("valid");Q.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},$),Q.failResult($,()=>Q.reset(),()=>Q.error())},error:{message:"must NOT be valid"}};Hz.default=Rw});var Az=j((Bz)=>{Object.defineProperty(Bz,"__esModule",{value:!0});var Cw=f0(),Tw={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Cw.validateUnion,error:{message:"must match a schema in anyOf"}};Bz.default=Tw});var qz=j((Kz)=>{Object.defineProperty(Kz,"__esModule",{value:!0});var IQ=u(),vw=o(),kw={message:"must match exactly one schema in oneOf",params:({params:Q})=>IQ._`{passingSchemas: ${Q.passing}}`},_w={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:kw,code(Q){let{gen:X,schema:W,parentSchema:Y,it:$}=Q;if(!Array.isArray(W))throw Error("ajv implementation error");if($.opts.discriminator&&Y.discriminator)return;let J=W,G=X.let("valid",!1),H=X.let("passing",null),z=X.name("_valid");Q.setParams({passing:H}),X.block(B),Q.result(G,()=>Q.reset(),()=>Q.error(!0));function B(){J.forEach((A,K)=>{let q;if((0,vw.alwaysValidSchema)($,A))X.var(z,!0);else q=Q.subschema({keyword:"oneOf",schemaProp:K,compositeRule:!0},z);if(K>0)X.if(IQ._`${z} && ${G}`).assign(G,!1).assign(H,IQ._`[${H}, ${K}]`).else();X.if(z,()=>{if(X.assign(G,!0),X.assign(H,K),q)Q.mergeEvaluated(q,IQ.Name)})})}}};Kz.default=_w});var Lz=j((Dz)=>{Object.defineProperty(Dz,"__esModule",{value:!0});var gw=o(),yw={keyword:"allOf",schemaType:"array",code(Q){let{gen:X,schema:W,it:Y}=Q;if(!Array.isArray(W))throw Error("ajv implementation error");let $=X.name("valid");W.forEach((J,G)=>{if((0,gw.alwaysValidSchema)(Y,J))return;let H=Q.subschema({keyword:"allOf",schemaProp:G},$);Q.ok($),Q.mergeEvaluated(H)})}};Dz.default=yw});var Oz=j((Fz)=>{Object.defineProperty(Fz,"__esModule",{value:!0});var SQ=u(),Uz=o(),fw={message:({params:Q})=>SQ.str`must match "${Q.ifClause}" schema`,params:({params:Q})=>SQ._`{failingKeyword: ${Q.ifClause}}`},uw={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:fw,code(Q){let{gen:X,parentSchema:W,it:Y}=Q;if(W.then===void 0&&W.else===void 0)(0,Uz.checkStrictMode)(Y,'"if" without "then" and "else" is ignored');let $=Vz(Y,"then"),J=Vz(Y,"else");if(!$&&!J)return;let G=X.let("valid",!0),H=X.name("_valid");if(z(),Q.reset(),$&&J){let A=X.let("ifClause");Q.setParams({ifClause:A}),X.if(H,B("then",A),B("else",A))}else if($)X.if(H,B("then"));else X.if((0,SQ.not)(H),B("else"));Q.pass(G,()=>Q.error(!0));function z(){let A=Q.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},H);Q.mergeEvaluated(A)}function B(A,K){return()=>{let q=Q.subschema({keyword:A},H);if(X.assign(G,H),Q.mergeValidEvaluated(q,G),K)X.assign(K,SQ._`${A}`);else Q.setParams({ifClause:A})}}}};function Vz(Q,X){let W=Q.schema[X];return W!==void 0&&!(0,Uz.alwaysValidSchema)(Q,W)}Fz.default=uw});var wz=j((Nz)=>{Object.defineProperty(Nz,"__esModule",{value:!0});var mw=o(),cw={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:Q,parentSchema:X,it:W}){if(X.if===void 0)(0,mw.checkStrictMode)(W,`"${Q}" without "if" is ignored`)}};Nz.default=cw});var Ez=j((Mz)=>{Object.defineProperty(Mz,"__esModule",{value:!0});var dw=wY(),iw=g3(),nw=MY(),rw=f3(),ow=l3(),tw=n3(),aw=t3(),sw=bY(),ew=Xz(),QM=Gz(),XM=zz(),WM=Az(),YM=qz(),$M=Lz(),JM=Oz(),GM=wz();function HM(Q=!1){let X=[XM.default,WM.default,YM.default,$M.default,JM.default,GM.default,aw.default,sw.default,tw.default,ew.default,QM.default];if(Q)X.push(iw.default,rw.default);else X.push(dw.default,nw.default);return X.push(ow.default),X}Mz.default=HM});var jz=j((bz)=>{Object.defineProperty(bz,"__esModule",{value:!0});var K0=u(),BM={message:({schemaCode:Q})=>K0.str`must match format "${Q}"`,params:({schemaCode:Q})=>K0._`{format: ${Q}}`},AM={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:BM,code(Q,X){let{gen:W,data:Y,$data:$,schema:J,schemaCode:G,it:H}=Q,{opts:z,errSchemaPath:B,schemaEnv:A,self:K}=H;if(!z.validateFormats)return;if($)q();else V();function q(){let U=W.scopeValue("formats",{ref:K.formats,code:z.code.formats}),F=W.const("fDef",K0._`${U}[${G}]`),E=W.let("fType"),w=W.let("format");W.if(K0._`typeof ${F} == "object" && !(${F} instanceof RegExp)`,()=>W.assign(E,K0._`${F}.type || "string"`).assign(w,K0._`${F}.validate`),()=>W.assign(E,K0._`"string"`).assign(w,F)),Q.fail$data((0,K0.or)(g(),v()));function g(){if(z.strictSchema===!1)return K0.nil;return K0._`${G} && !${w}`}function v(){let m=A.$async?K0._`(${F}.async ? await ${w}(${Y}) : ${w}(${Y}))`:K0._`${w}(${Y})`,k=K0._`(typeof ${w} == "function" ? ${m} : ${w}.test(${Y}))`;return K0._`${w} && ${w} !== true && ${E} === ${X} && !${k}`}}function V(){let U=K.formats[J];if(!U){g();return}if(U===!0)return;let[F,E,w]=v(U);if(F===X)Q.pass(m());function g(){if(z.strictSchema===!1){K.logger.warn(k());return}throw Error(k());function k(){return`unknown format "${J}" ignored in schema at path "${B}"`}}function v(k){let a0=k instanceof RegExp?(0,K0.regexpCode)(k):z.code.formats?K0._`${z.code.formats}${(0,K0.getProperty)(J)}`:void 0,$1=W.scopeValue("formats",{key:J,ref:k,code:a0});if(typeof k=="object"&&!(k instanceof RegExp))return[k.type||"string",k.validate,K0._`${$1}.validate`];return["string",k,$1]}function m(){if(typeof U=="object"&&!(U instanceof RegExp)&&U.async){if(!A.$async)throw Error("async format in sync schema");return K0._`await ${w}(${Y})`}return typeof E=="function"?K0._`${w}(${Y})`:K0._`${w}.test(${Y})`}}}};bz.default=AM});var Sz=j((Iz)=>{Object.defineProperty(Iz,"__esModule",{value:!0});var qM=jz(),DM=[qM.default];Iz.default=DM});var Cz=j((Rz)=>{Object.defineProperty(Rz,"__esModule",{value:!0});Rz.contentVocabulary=Rz.metadataVocabulary=void 0;Rz.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Rz.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var vz=j((Zz)=>{Object.defineProperty(Zz,"__esModule",{value:!0});var UM=Q3(),FM=R3(),OM=Ez(),NM=Sz(),Tz=Cz(),wM=[UM.default,FM.default,(0,OM.default)(),NM.default,Tz.metadataVocabulary,Tz.contentVocabulary];Zz.default=wM});var gz=j((_z)=>{Object.defineProperty(_z,"__esModule",{value:!0});_z.DiscrError=void 0;var kz;(function(Q){Q.Tag="tag",Q.Mapping="mapping"})(kz||(_z.DiscrError=kz={}))});var fz=j((hz)=>{Object.defineProperty(hz,"__esModule",{value:!0});var M6=u(),IY=gz(),yz=HQ(),EM=I4(),bM=o(),jM={message:({params:{discrError:Q,tagName:X}})=>Q===IY.DiscrError.Tag?`tag "${X}" must be string`:`value of tag "${X}" must be in oneOf`,params:({params:{discrError:Q,tag:X,tagName:W}})=>M6._`{error: ${Q}, tag: ${W}, tagValue: ${X}}`},IM={keyword:"discriminator",type:"object",schemaType:"object",error:jM,code(Q){let{gen:X,data:W,schema:Y,parentSchema:$,it:J}=Q,{oneOf:G}=$;if(!J.opts.discriminator)throw Error("discriminator: requires discriminator option");let H=Y.propertyName;if(typeof H!="string")throw Error("discriminator: requires propertyName");if(Y.mapping)throw Error("discriminator: mapping is not supported");if(!G)throw Error("discriminator: requires oneOf keyword");let z=X.let("valid",!1),B=X.const("tag",M6._`${W}${(0,M6.getProperty)(H)}`);X.if(M6._`typeof ${B} == "string"`,()=>A(),()=>Q.error(!1,{discrError:IY.DiscrError.Tag,tag:B,tagName:H})),Q.ok(z);function A(){let V=q();X.if(!1);for(let U in V)X.elseIf(M6._`${B} === ${U}`),X.assign(z,K(V[U]));X.else(),Q.error(!1,{discrError:IY.DiscrError.Mapping,tag:B,tagName:H}),X.endIf()}function K(V){let U=X.name("valid"),F=Q.subschema({keyword:"oneOf",schemaProp:V},U);return Q.mergeEvaluated(F,M6.Name),U}function q(){var V;let U={},F=w($),E=!0;for(let m=0;m<G.length;m++){let k=G[m];if((k===null||k===void 0?void 0:k.$ref)&&!(0,bM.schemaHasRulesButRef)(k,J.self.RULES)){let $1=k.$ref;if(k=yz.resolveRef.call(J.self,J.schemaEnv.root,J.baseId,$1),k instanceof yz.SchemaEnv)k=k.schema;if(k===void 0)throw new EM.default(J.opts.uriResolver,J.baseId,$1)}let a0=(V=k===null||k===void 0?void 0:k.properties)===null||V===void 0?void 0:V[H];if(typeof a0!="object")throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${H}"`);E=E&&(F||w(k)),g(a0,m)}if(!E)throw Error(`discriminator: "${H}" must be required`);return U;function w({required:m}){return Array.isArray(m)&&m.includes(H)}function g(m,k){if(m.const)v(m.const,k);else if(m.enum)for(let a0 of m.enum)v(a0,k);else throw Error(`discriminator: "properties/${H}" must have "const" or "enum"`)}function v(m,k){if(typeof m!="string"||m in U)throw Error(`discriminator: "${H}" values must be unique strings`);U[m]=k}}}};hz.default=IM});var uz=j((P2,RM)=>{RM.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var RY=j((T0,SY)=>{Object.defineProperty(T0,"__esModule",{value:!0});T0.MissingRefError=T0.ValidationError=T0.CodeGen=T0.Name=T0.nil=T0.stringify=T0.str=T0._=T0.KeywordCxt=T0.Ajv=void 0;var PM=pH(),CM=vz(),TM=fz(),lz=uz(),ZM=["/properties"],RQ="http://json-schema.org/draft-07/schema";class y4 extends PM.default{_addVocabularies(){if(super._addVocabularies(),CM.default.forEach((Q)=>this.addVocabulary(Q)),this.opts.discriminator)this.addKeyword(TM.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let Q=this.opts.$data?this.$dataMetaSchema(lz,ZM):lz;this.addMetaSchema(Q,RQ,!1),this.refs["http://json-schema.org/schema"]=RQ}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(RQ)?RQ:void 0)}}T0.Ajv=y4;SY.exports=T0=y4;SY.exports.Ajv=y4;Object.defineProperty(T0,"__esModule",{value:!0});T0.default=y4;var vM=j4();Object.defineProperty(T0,"KeywordCxt",{enumerable:!0,get:function(){return vM.KeywordCxt}});var E6=u();Object.defineProperty(T0,"_",{enumerable:!0,get:function(){return E6._}});Object.defineProperty(T0,"str",{enumerable:!0,get:function(){return E6.str}});Object.defineProperty(T0,"stringify",{enumerable:!0,get:function(){return E6.stringify}});Object.defineProperty(T0,"nil",{enumerable:!0,get:function(){return E6.nil}});Object.defineProperty(T0,"Name",{enumerable:!0,get:function(){return E6.Name}});Object.defineProperty(T0,"CodeGen",{enumerable:!0,get:function(){return E6.CodeGen}});var kM=JQ();Object.defineProperty(T0,"ValidationError",{enumerable:!0,get:function(){return kM.default}});var _M=I4();Object.defineProperty(T0,"MissingRefError",{enumerable:!0,get:function(){return _M.default}})});var az=j((oz)=>{Object.defineProperty(oz,"__esModule",{value:!0});oz.formatNames=oz.fastFormats=oz.fullFormats=void 0;function Y1(Q,X){return{validate:Q,compare:X}}oz.fullFormats={date:Y1(dz,ZY),time:Y1(CY(!0),vY),"date-time":Y1(mz(!0),nz),"iso-time":Y1(CY(),iz),"iso-date-time":Y1(mz(),rz),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:mM,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:oM,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:cM,int32:{type:"number",validate:iM},int64:{type:"number",validate:nM},float:{type:"number",validate:pz},double:{type:"number",validate:pz},password:!0,binary:!0};oz.fastFormats={...oz.fullFormats,date:Y1(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,ZY),time:Y1(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,vY),"date-time":Y1(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,nz),"iso-time":Y1(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,iz),"iso-date-time":Y1(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,rz),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};oz.formatNames=Object.keys(oz.fullFormats);function yM(Q){return Q%4===0&&(Q%100!==0||Q%400===0)}var hM=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,fM=[0,31,28,31,30,31,30,31,31,30,31,30,31];function dz(Q){let X=hM.exec(Q);if(!X)return!1;let W=+X[1],Y=+X[2],$=+X[3];return Y>=1&&Y<=12&&$>=1&&$<=(Y===2&&yM(W)?29:fM[Y])}function ZY(Q,X){if(!(Q&&X))return;if(Q>X)return 1;if(Q<X)return-1;return 0}var PY=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function CY(Q){return function(W){let Y=PY.exec(W);if(!Y)return!1;let $=+Y[1],J=+Y[2],G=+Y[3],H=Y[4],z=Y[5]==="-"?-1:1,B=+(Y[6]||0),A=+(Y[7]||0);if(B>23||A>59||Q&&!H)return!1;if($<=23&&J<=59&&G<60)return!0;let K=J-A*z,q=$-B*z-(K<0?1:0);return(q===23||q===-1)&&(K===59||K===-1)&&G<61}}function vY(Q,X){if(!(Q&&X))return;let W=new Date("2020-01-01T"+Q).valueOf(),Y=new Date("2020-01-01T"+X).valueOf();if(!(W&&Y))return;return W-Y}function iz(Q,X){if(!(Q&&X))return;let W=PY.exec(Q),Y=PY.exec(X);if(!(W&&Y))return;if(Q=W[1]+W[2]+W[3],X=Y[1]+Y[2]+Y[3],Q>X)return 1;if(Q<X)return-1;return 0}var TY=/t|\s/i;function mz(Q){let X=CY(Q);return function(Y){let $=Y.split(TY);return $.length===2&&dz($[0])&&X($[1])}}function nz(Q,X){if(!(Q&&X))return;let W=new Date(Q).valueOf(),Y=new Date(X).valueOf();if(!(W&&Y))return;return W-Y}function rz(Q,X){if(!(Q&&X))return;let[W,Y]=Q.split(TY),[$,J]=X.split(TY),G=ZY(W,$);if(G===void 0)return;return G||vY(Y,J)}var uM=/\/|:/,lM=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function mM(Q){return uM.test(Q)&&lM.test(Q)}var cz=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function cM(Q){return cz.lastIndex=0,cz.test(Q)}var pM=-2147483648,dM=2147483647;function iM(Q){return Number.isInteger(Q)&&Q<=dM&&Q>=pM}function nM(Q){return Number.isInteger(Q)}function pz(){return!0}var rM=/[^\\]\\Z/;function oM(Q){if(rM.test(Q))return!1;try{return new RegExp(Q),!0}catch(X){return!1}}});var ez=j((sz)=>{Object.defineProperty(sz,"__esModule",{value:!0});sz.formatLimitDefinition=void 0;var aM=RY(),t0=u(),x1=t0.operators,PQ={formatMaximum:{okStr:"<=",ok:x1.LTE,fail:x1.GT},formatMinimum:{okStr:">=",ok:x1.GTE,fail:x1.LT},formatExclusiveMaximum:{okStr:"<",ok:x1.LT,fail:x1.GTE},formatExclusiveMinimum:{okStr:">",ok:x1.GT,fail:x1.LTE}},sM={message:({keyword:Q,schemaCode:X})=>t0.str`should be ${PQ[Q].okStr} ${X}`,params:({keyword:Q,schemaCode:X})=>t0._`{comparison: ${PQ[Q].okStr}, limit: ${X}}`};sz.formatLimitDefinition={keyword:Object.keys(PQ),type:"string",schemaType:"string",$data:!0,error:sM,code(Q){let{gen:X,data:W,schemaCode:Y,keyword:$,it:J}=Q,{opts:G,self:H}=J;if(!G.validateFormats)return;let z=new aM.KeywordCxt(J,H.RULES.all.format.definition,"format");if(z.$data)B();else A();function B(){let q=X.scopeValue("formats",{ref:H.formats,code:G.code.formats}),V=X.const("fmt",t0._`${q}[${z.schemaCode}]`);Q.fail$data((0,t0.or)(t0._`typeof ${V} != "object"`,t0._`${V} instanceof RegExp`,t0._`typeof ${V}.compare != "function"`,K(V)))}function A(){let q=z.schema,V=H.formats[q];if(!V||V===!0)return;if(typeof V!="object"||V instanceof RegExp||typeof V.compare!="function")throw Error(`"${$}": format "${q}" does not define "compare" function`);let U=X.scopeValue("formats",{key:q,ref:V,code:G.code.formats?t0._`${G.code.formats}${(0,t0.getProperty)(q)}`:void 0});Q.fail$data(K(U))}function K(q){return t0._`${q}.compare(${W}, ${Y}) ${PQ[$].fail} 0`}},dependencies:["format"]};var eM=(Q)=>{return Q.addKeyword(sz.formatLimitDefinition),Q};sz.default=eM});var YB=j((h4,WB)=>{Object.defineProperty(h4,"__esModule",{value:!0});var b6=az(),XE=ez(),xY=u(),QB=new xY.Name("fullFormats"),WE=new xY.Name("fastFormats"),gY=(Q,X={keywords:!0})=>{if(Array.isArray(X))return XB(Q,X,b6.fullFormats,QB),Q;let[W,Y]=X.mode==="fast"?[b6.fastFormats,WE]:[b6.fullFormats,QB],$=X.formats||b6.formatNames;if(XB(Q,$,W,Y),X.keywords)(0,XE.default)(Q);return Q};gY.get=(Q,X="full")=>{let Y=(X==="fast"?b6.fastFormats:b6.fullFormats)[Q];if(!Y)throw Error(`Unknown format "${Q}"`);return Y};function XB(Q,X,W,Y){var $,J;($=(J=Q.opts.code).formats)!==null&&$!==void 0||(J.formats=xY._`require("ajv-formats/dist/formats").${Y}`);for(let G of X)Q.addFormat(G,W[G])}WB.exports=h4=gY;Object.defineProperty(h4,"__esModule",{value:!0});h4.default=gY});var c;(function(Q){Q.assertEqual=($)=>{};function X($){}Q.assertIs=X;function W($){throw Error()}Q.assertNever=W,Q.arrayToEnum=($)=>{let J={};for(let G of $)J[G]=G;return J},Q.getValidEnumValues=($)=>{let J=Q.objectKeys($).filter((H)=>typeof $[$[H]]!=="number"),G={};for(let H of J)G[H]=$[H];return Q.objectValues(G)},Q.objectValues=($)=>{return Q.objectKeys($).map(function(J){return $[J]})},Q.objectKeys=typeof Object.keys==="function"?($)=>Object.keys($):($)=>{let J=[];for(let G in $)if(Object.prototype.hasOwnProperty.call($,G))J.push(G);return J},Q.find=($,J)=>{for(let G of $)if(J(G))return G;return},Q.isInteger=typeof Number.isInteger==="function"?($)=>Number.isInteger($):($)=>typeof $==="number"&&Number.isFinite($)&&Math.floor($)===$;function Y($,J=" | "){return $.map((G)=>typeof G==="string"?`'${G}'`:G).join(J)}Q.joinValues=Y,Q.jsonStringifyReplacer=($,J)=>{if(typeof J==="bigint")return J.toString();return J}})(c||(c={}));var aY;(function(Q){Q.mergeShapes=(X,W)=>{return{...X,...W}}})(aY||(aY={}));var M=c.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),J1=(Q)=>{switch(typeof Q){case"undefined":return M.undefined;case"string":return M.string;case"number":return Number.isNaN(Q)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":if(Array.isArray(Q))return M.array;if(Q===null)return M.null;if(Q.then&&typeof Q.then==="function"&&Q.catch&&typeof Q.catch==="function")return M.promise;if(typeof Map<"u"&&Q instanceof Map)return M.map;if(typeof Set<"u"&&Q instanceof Set)return M.set;if(typeof Date<"u"&&Q instanceof Date)return M.date;return M.object;default:return M.unknown}};var O=c.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Z0 extends Error{get errors(){return this.issues}constructor(Q){super();this.issues=[],this.addIssue=(W)=>{this.issues=[...this.issues,W]},this.addIssues=(W=[])=>{this.issues=[...this.issues,...W]};let X=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,X);else this.__proto__=X;this.name="ZodError",this.issues=Q}format(Q){let X=Q||function($){return $.message},W={_errors:[]},Y=($)=>{for(let J of $.issues)if(J.code==="invalid_union")J.unionErrors.map(Y);else if(J.code==="invalid_return_type")Y(J.returnTypeError);else if(J.code==="invalid_arguments")Y(J.argumentsError);else if(J.path.length===0)W._errors.push(X(J));else{let G=W,H=0;while(H<J.path.length){let z=J.path[H];if(H!==J.path.length-1)G[z]=G[z]||{_errors:[]};else G[z]=G[z]||{_errors:[]},G[z]._errors.push(X(J));G=G[z],H++}}};return Y(this),W}static assert(Q){if(!(Q instanceof Z0))throw Error(`Not a ZodError: ${Q}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,c.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(Q=(X)=>X.message){let X=Object.create(null),W=[];for(let Y of this.issues)if(Y.path.length>0){let $=Y.path[0];X[$]=X[$]||[],X[$].push(Q(Y))}else W.push(Q(Y));return{formErrors:W,fieldErrors:X}}get formErrors(){return this.flatten()}}Z0.create=(Q)=>{return new Z0(Q)};var EB=(Q,X)=>{let W;switch(Q.code){case O.invalid_type:if(Q.received===M.undefined)W="Required";else W=`Expected ${Q.expected}, received ${Q.received}`;break;case O.invalid_literal:W=`Invalid literal value, expected ${JSON.stringify(Q.expected,c.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:W=`Unrecognized key(s) in object: ${c.joinValues(Q.keys,", ")}`;break;case O.invalid_union:W="Invalid input";break;case O.invalid_union_discriminator:W=`Invalid discriminator value. Expected ${c.joinValues(Q.options)}`;break;case O.invalid_enum_value:W=`Invalid enum value. Expected ${c.joinValues(Q.options)}, received '${Q.received}'`;break;case O.invalid_arguments:W="Invalid function arguments";break;case O.invalid_return_type:W="Invalid function return type";break;case O.invalid_date:W="Invalid date";break;case O.invalid_string:if(typeof Q.validation==="object")if("includes"in Q.validation){if(W=`Invalid input: must include "${Q.validation.includes}"`,typeof Q.validation.position==="number")W=`${W} at one or more positions greater than or equal to ${Q.validation.position}`}else if("startsWith"in Q.validation)W=`Invalid input: must start with "${Q.validation.startsWith}"`;else if("endsWith"in Q.validation)W=`Invalid input: must end with "${Q.validation.endsWith}"`;else c.assertNever(Q.validation);else if(Q.validation!=="regex")W=`Invalid ${Q.validation}`;else W="Invalid";break;case O.too_small:if(Q.type==="array")W=`Array must contain ${Q.exact?"exactly":Q.inclusive?"at least":"more than"} ${Q.minimum} element(s)`;else if(Q.type==="string")W=`String must contain ${Q.exact?"exactly":Q.inclusive?"at least":"over"} ${Q.minimum} character(s)`;else if(Q.type==="number")W=`Number must be ${Q.exact?"exactly equal to ":Q.inclusive?"greater than or equal to ":"greater than "}${Q.minimum}`;else if(Q.type==="bigint")W=`Number must be ${Q.exact?"exactly equal to ":Q.inclusive?"greater than or equal to ":"greater than "}${Q.minimum}`;else if(Q.type==="date")W=`Date must be ${Q.exact?"exactly equal to ":Q.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(Q.minimum))}`;else W="Invalid input";break;case O.too_big:if(Q.type==="array")W=`Array must contain ${Q.exact?"exactly":Q.inclusive?"at most":"less than"} ${Q.maximum} element(s)`;else if(Q.type==="string")W=`String must contain ${Q.exact?"exactly":Q.inclusive?"at most":"under"} ${Q.maximum} character(s)`;else if(Q.type==="number")W=`Number must be ${Q.exact?"exactly":Q.inclusive?"less than or equal to":"less than"} ${Q.maximum}`;else if(Q.type==="bigint")W=`BigInt must be ${Q.exact?"exactly":Q.inclusive?"less than or equal to":"less than"} ${Q.maximum}`;else if(Q.type==="date")W=`Date must be ${Q.exact?"exactly":Q.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(Q.maximum))}`;else W="Invalid input";break;case O.custom:W="Invalid input";break;case O.invalid_intersection_types:W="Intersection results could not be merged";break;case O.not_multiple_of:W=`Number must be a multiple of ${Q.multipleOf}`;break;case O.not_finite:W="Number must be finite";break;default:W=X.defaultError,c.assertNever(Q)}return{message:W}},O1=EB;var bB=O1;function I6(){return bB}var u4=(Q)=>{let{data:X,path:W,errorMaps:Y,issueData:$}=Q,J=[...W,...$.path||[]],G={...$,path:J};if($.message!==void 0)return{...$,path:J,message:$.message};let H="",z=Y.filter((B)=>!!B).slice().reverse();for(let B of z)H=B(G,{data:X,defaultError:H}).message;return{...$,path:J,message:H}};function b(Q,X){let W=I6(),Y=u4({issueData:X,data:Q.data,path:Q.path,errorMaps:[Q.common.contextualErrorMap,Q.schemaErrorMap,W,W===O1?void 0:O1].filter(($)=>!!$)});Q.common.issues.push(Y)}class O0{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(Q,X){let W=[];for(let Y of X){if(Y.status==="aborted")return _;if(Y.status==="dirty")Q.dirty();W.push(Y.value)}return{status:Q.value,value:W}}static async mergeObjectAsync(Q,X){let W=[];for(let Y of X){let $=await Y.key,J=await Y.value;W.push({key:$,value:J})}return O0.mergeObjectSync(Q,W)}static mergeObjectSync(Q,X){let W={};for(let Y of X){let{key:$,value:J}=Y;if($.status==="aborted")return _;if(J.status==="aborted")return _;if($.status==="dirty")Q.dirty();if(J.status==="dirty")Q.dirty();if($.value!=="__proto__"&&(typeof J.value<"u"||Y.alwaysSet))W[$.value]=J.value}return{status:Q.value,value:W}}}var _=Object.freeze({status:"aborted"}),s1=(Q)=>({status:"dirty",value:Q}),w0=(Q)=>({status:"valid",value:Q}),kQ=(Q)=>Q.status==="aborted",_Q=(Q)=>Q.status==="dirty",y1=(Q)=>Q.status==="valid",S6=(Q)=>typeof Promise<"u"&&Q instanceof Promise;var S;(function(Q){Q.errToObj=(X)=>typeof X==="string"?{message:X}:X||{},Q.toString=(X)=>typeof X==="string"?X:X?.message})(S||(S={}));class l0{constructor(Q,X,W,Y){this._cachedPath=[],this.parent=Q,this.data=X,this._path=W,this._key=Y}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var sY=(Q,X)=>{if(y1(X))return{success:!0,data:X.value};else{if(!Q.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let W=new Z0(Q.common.issues);return this._error=W,this._error}}}};function h(Q){if(!Q)return{};let{errorMap:X,invalid_type_error:W,required_error:Y,description:$}=Q;if(X&&(W||Y))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(X)return{errorMap:X,description:$};return{errorMap:(G,H)=>{let{message:z}=Q;if(G.code==="invalid_enum_value")return{message:z??H.defaultError};if(typeof H.data>"u")return{message:z??Y??H.defaultError};if(G.code!=="invalid_type")return{message:H.defaultError};return{message:z??W??H.defaultError}},description:$}}class l{get description(){return this._def.description}_getType(Q){return J1(Q.data)}_getOrReturnCtx(Q,X){return X||{common:Q.parent.common,data:Q.data,parsedType:J1(Q.data),schemaErrorMap:this._def.errorMap,path:Q.path,parent:Q.parent}}_processInputParams(Q){return{status:new O0,ctx:{common:Q.parent.common,data:Q.data,parsedType:J1(Q.data),schemaErrorMap:this._def.errorMap,path:Q.path,parent:Q.parent}}}_parseSync(Q){let X=this._parse(Q);if(S6(X))throw Error("Synchronous parse encountered promise.");return X}_parseAsync(Q){let X=this._parse(Q);return Promise.resolve(X)}parse(Q,X){let W=this.safeParse(Q,X);if(W.success)return W.data;throw W.error}safeParse(Q,X){let W={common:{issues:[],async:X?.async??!1,contextualErrorMap:X?.errorMap},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:Q,parsedType:J1(Q)},Y=this._parseSync({data:Q,path:W.path,parent:W});return sY(W,Y)}"~validate"(Q){let X={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:Q,parsedType:J1(Q)};if(!this["~standard"].async)try{let W=this._parseSync({data:Q,path:[],parent:X});return y1(W)?{value:W.value}:{issues:X.common.issues}}catch(W){if(W?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;X.common={issues:[],async:!0}}return this._parseAsync({data:Q,path:[],parent:X}).then((W)=>y1(W)?{value:W.value}:{issues:X.common.issues})}async parseAsync(Q,X){let W=await this.safeParseAsync(Q,X);if(W.success)return W.data;throw W.error}async safeParseAsync(Q,X){let W={common:{issues:[],contextualErrorMap:X?.errorMap,async:!0},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:Q,parsedType:J1(Q)},Y=this._parse({data:Q,path:W.path,parent:W}),$=await(S6(Y)?Y:Promise.resolve(Y));return sY(W,$)}refine(Q,X){let W=(Y)=>{if(typeof X==="string"||typeof X>"u")return{message:X};else if(typeof X==="function")return X(Y);else return X};return this._refinement((Y,$)=>{let J=Q(Y),G=()=>$.addIssue({code:O.custom,...W(Y)});if(typeof Promise<"u"&&J instanceof Promise)return J.then((H)=>{if(!H)return G(),!1;else return!0});if(!J)return G(),!1;else return!0})}refinement(Q,X){return this._refinement((W,Y)=>{if(!Q(W))return Y.addIssue(typeof X==="function"?X(W,Y):X),!1;else return!0})}_refinement(Q){return new Q1({schema:this,typeName:N.ZodEffects,effect:{type:"refinement",refinement:Q}})}superRefine(Q){return this._refinement(Q)}constructor(Q){this.spa=this.safeParseAsync,this._def=Q,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(X)=>this["~validate"](X)}}optional(){return e0.create(this,this._def)}nullable(){return N1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return s0.create(this)}promise(){return Y6.create(this,this._def)}or(Q){return Z6.create([this,Q],this._def)}and(Q){return v6.create(this,Q,this._def)}transform(Q){return new Q1({...h(this._def),schema:this,typeName:N.ZodEffects,effect:{type:"transform",transform:Q}})}default(Q){let X=typeof Q==="function"?Q:()=>Q;return new g6({...h(this._def),innerType:this,defaultValue:X,typeName:N.ZodDefault})}brand(){return new hQ({typeName:N.ZodBranded,type:this,...h(this._def)})}catch(Q){let X=typeof Q==="function"?Q:()=>Q;return new y6({...h(this._def),innerType:this,catchValue:X,typeName:N.ZodCatch})}describe(Q){return new this.constructor({...this._def,description:Q})}pipe(Q){return r4.create(this,Q)}readonly(){return h6.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var jB=/^c[^\s-]{8,}$/i,IB=/^[0-9a-z]+$/,SB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,RB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PB=/^[a-z0-9_-]{21}$/i,CB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,TB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ZB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",xQ,kB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_B=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,xB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fB=new RegExp(`^${eY}$`);function Q$(Q){let X="[0-5]\\d";if(Q.precision)X=`${X}\\.\\d{${Q.precision}}`;else if(Q.precision==null)X=`${X}(\\.\\d+)?`;let W=Q.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${X})${W}`}function uB(Q){return new RegExp(`^${Q$(Q)}$`)}function lB(Q){let X=`${eY}T${Q$(Q)}`,W=[];if(W.push(Q.local?"Z?":"Z"),Q.offset)W.push("([+-]\\d{2}:?\\d{2})");return X=`${X}(${W.join("|")})`,new RegExp(`^${X}$`)}function mB(Q,X){if((X==="v4"||!X)&&kB.test(Q))return!0;if((X==="v6"||!X)&&xB.test(Q))return!0;return!1}function cB(Q,X){if(!CB.test(Q))return!1;try{let[W]=Q.split(".");if(!W)return!1;let Y=W.replace(/-/g,"+").replace(/_/g,"/").padEnd(W.length+(4-W.length%4)%4,"="),$=JSON.parse(atob(Y));if(typeof $!=="object"||$===null)return!1;if("typ"in $&&$?.typ!=="JWT")return!1;if(!$.alg)return!1;if(X&&$.alg!==X)return!1;return!0}catch{return!1}}function pB(Q,X){if((X==="v4"||!X)&&_B.test(Q))return!0;if((X==="v6"||!X)&&gB.test(Q))return!0;return!1}class H1 extends l{_parse(Q){if(this._def.coerce)Q.data=String(Q.data);if(this._getType(Q)!==M.string){let $=this._getOrReturnCtx(Q);return b($,{code:O.invalid_type,expected:M.string,received:$.parsedType}),_}let W=new O0,Y=void 0;for(let $ of this._def.checks)if($.kind==="min"){if(Q.data.length<$.value)Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.too_small,minimum:$.value,type:"string",inclusive:!0,exact:!1,message:$.message}),W.dirty()}else if($.kind==="max"){if(Q.data.length>$.value)Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.too_big,maximum:$.value,type:"string",inclusive:!0,exact:!1,message:$.message}),W.dirty()}else if($.kind==="length"){let J=Q.data.length>$.value,G=Q.data.length<$.value;if(J||G){if(Y=this._getOrReturnCtx(Q,Y),J)b(Y,{code:O.too_big,maximum:$.value,type:"string",inclusive:!0,exact:!0,message:$.message});else if(G)b(Y,{code:O.too_small,minimum:$.value,type:"string",inclusive:!0,exact:!0,message:$.message});W.dirty()}}else if($.kind==="email"){if(!ZB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"email",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="emoji"){if(!xQ)xQ=new RegExp(vB,"u");if(!xQ.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"emoji",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="uuid"){if(!RB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"uuid",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="nanoid"){if(!PB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"nanoid",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="cuid"){if(!jB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"cuid",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="cuid2"){if(!IB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"cuid2",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="ulid"){if(!SB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"ulid",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="url")try{new URL(Q.data)}catch{Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"url",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="regex"){if($.regex.lastIndex=0,!$.regex.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"regex",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="trim")Q.data=Q.data.trim();else if($.kind==="includes"){if(!Q.data.includes($.value,$.position))Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.invalid_string,validation:{includes:$.value,position:$.position},message:$.message}),W.dirty()}else if($.kind==="toLowerCase")Q.data=Q.data.toLowerCase();else if($.kind==="toUpperCase")Q.data=Q.data.toUpperCase();else if($.kind==="startsWith"){if(!Q.data.startsWith($.value))Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.invalid_string,validation:{startsWith:$.value},message:$.message}),W.dirty()}else if($.kind==="endsWith"){if(!Q.data.endsWith($.value))Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.invalid_string,validation:{endsWith:$.value},message:$.message}),W.dirty()}else if($.kind==="datetime"){if(!lB($).test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.invalid_string,validation:"datetime",message:$.message}),W.dirty()}else if($.kind==="date"){if(!fB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.invalid_string,validation:"date",message:$.message}),W.dirty()}else if($.kind==="time"){if(!uB($).test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.invalid_string,validation:"time",message:$.message}),W.dirty()}else if($.kind==="duration"){if(!TB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"duration",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="ip"){if(!mB(Q.data,$.version))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"ip",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="jwt"){if(!cB(Q.data,$.alg))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"jwt",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="cidr"){if(!pB(Q.data,$.version))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"cidr",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="base64"){if(!yB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"base64",code:O.invalid_string,message:$.message}),W.dirty()}else if($.kind==="base64url"){if(!hB.test(Q.data))Y=this._getOrReturnCtx(Q,Y),b(Y,{validation:"base64url",code:O.invalid_string,message:$.message}),W.dirty()}else c.assertNever($);return{status:W.value,value:Q.data}}_regex(Q,X,W){return this.refinement((Y)=>Q.test(Y),{validation:X,code:O.invalid_string,...S.errToObj(W)})}_addCheck(Q){return new H1({...this._def,checks:[...this._def.checks,Q]})}email(Q){return this._addCheck({kind:"email",...S.errToObj(Q)})}url(Q){return this._addCheck({kind:"url",...S.errToObj(Q)})}emoji(Q){return this._addCheck({kind:"emoji",...S.errToObj(Q)})}uuid(Q){return this._addCheck({kind:"uuid",...S.errToObj(Q)})}nanoid(Q){return this._addCheck({kind:"nanoid",...S.errToObj(Q)})}cuid(Q){return this._addCheck({kind:"cuid",...S.errToObj(Q)})}cuid2(Q){return this._addCheck({kind:"cuid2",...S.errToObj(Q)})}ulid(Q){return this._addCheck({kind:"ulid",...S.errToObj(Q)})}base64(Q){return this._addCheck({kind:"base64",...S.errToObj(Q)})}base64url(Q){return this._addCheck({kind:"base64url",...S.errToObj(Q)})}jwt(Q){return this._addCheck({kind:"jwt",...S.errToObj(Q)})}ip(Q){return this._addCheck({kind:"ip",...S.errToObj(Q)})}cidr(Q){return this._addCheck({kind:"cidr",...S.errToObj(Q)})}datetime(Q){if(typeof Q==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:Q});return this._addCheck({kind:"datetime",precision:typeof Q?.precision>"u"?null:Q?.precision,offset:Q?.offset??!1,local:Q?.local??!1,...S.errToObj(Q?.message)})}date(Q){return this._addCheck({kind:"date",message:Q})}time(Q){if(typeof Q==="string")return this._addCheck({kind:"time",precision:null,message:Q});return this._addCheck({kind:"time",precision:typeof Q?.precision>"u"?null:Q?.precision,...S.errToObj(Q?.message)})}duration(Q){return this._addCheck({kind:"duration",...S.errToObj(Q)})}regex(Q,X){return this._addCheck({kind:"regex",regex:Q,...S.errToObj(X)})}includes(Q,X){return this._addCheck({kind:"includes",value:Q,position:X?.position,...S.errToObj(X?.message)})}startsWith(Q,X){return this._addCheck({kind:"startsWith",value:Q,...S.errToObj(X)})}endsWith(Q,X){return this._addCheck({kind:"endsWith",value:Q,...S.errToObj(X)})}min(Q,X){return this._addCheck({kind:"min",value:Q,...S.errToObj(X)})}max(Q,X){return this._addCheck({kind:"max",value:Q,...S.errToObj(X)})}length(Q,X){return this._addCheck({kind:"length",value:Q,...S.errToObj(X)})}nonempty(Q){return this.min(1,S.errToObj(Q))}trim(){return new H1({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new H1({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new H1({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((Q)=>Q.kind==="datetime")}get isDate(){return!!this._def.checks.find((Q)=>Q.kind==="date")}get isTime(){return!!this._def.checks.find((Q)=>Q.kind==="time")}get isDuration(){return!!this._def.checks.find((Q)=>Q.kind==="duration")}get isEmail(){return!!this._def.checks.find((Q)=>Q.kind==="email")}get isURL(){return!!this._def.checks.find((Q)=>Q.kind==="url")}get isEmoji(){return!!this._def.checks.find((Q)=>Q.kind==="emoji")}get isUUID(){return!!this._def.checks.find((Q)=>Q.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((Q)=>Q.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((Q)=>Q.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((Q)=>Q.kind==="cuid2")}get isULID(){return!!this._def.checks.find((Q)=>Q.kind==="ulid")}get isIP(){return!!this._def.checks.find((Q)=>Q.kind==="ip")}get isCIDR(){return!!this._def.checks.find((Q)=>Q.kind==="cidr")}get isBase64(){return!!this._def.checks.find((Q)=>Q.kind==="base64")}get isBase64url(){return!!this._def.checks.find((Q)=>Q.kind==="base64url")}get minLength(){let Q=null;for(let X of this._def.checks)if(X.kind==="min"){if(Q===null||X.value>Q)Q=X.value}return Q}get maxLength(){let Q=null;for(let X of this._def.checks)if(X.kind==="max"){if(Q===null||X.value<Q)Q=X.value}return Q}}H1.create=(Q)=>{return new H1({checks:[],typeName:N.ZodString,coerce:Q?.coerce??!1,...h(Q)})};function dB(Q,X){let W=(Q.toString().split(".")[1]||"").length,Y=(X.toString().split(".")[1]||"").length,$=W>Y?W:Y,J=Number.parseInt(Q.toFixed($).replace(".","")),G=Number.parseInt(X.toFixed($).replace(".",""));return J%G/10**$}class Q6 extends l{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(Q){if(this._def.coerce)Q.data=Number(Q.data);if(this._getType(Q)!==M.number){let $=this._getOrReturnCtx(Q);return b($,{code:O.invalid_type,expected:M.number,received:$.parsedType}),_}let W=void 0,Y=new O0;for(let $ of this._def.checks)if($.kind==="int"){if(!c.isInteger(Q.data))W=this._getOrReturnCtx(Q,W),b(W,{code:O.invalid_type,expected:"integer",received:"float",message:$.message}),Y.dirty()}else if($.kind==="min"){if($.inclusive?Q.data<$.value:Q.data<=$.value)W=this._getOrReturnCtx(Q,W),b(W,{code:O.too_small,minimum:$.value,type:"number",inclusive:$.inclusive,exact:!1,message:$.message}),Y.dirty()}else if($.kind==="max"){if($.inclusive?Q.data>$.value:Q.data>=$.value)W=this._getOrReturnCtx(Q,W),b(W,{code:O.too_big,maximum:$.value,type:"number",inclusive:$.inclusive,exact:!1,message:$.message}),Y.dirty()}else if($.kind==="multipleOf"){if(dB(Q.data,$.value)!==0)W=this._getOrReturnCtx(Q,W),b(W,{code:O.not_multiple_of,multipleOf:$.value,message:$.message}),Y.dirty()}else if($.kind==="finite"){if(!Number.isFinite(Q.data))W=this._getOrReturnCtx(Q,W),b(W,{code:O.not_finite,message:$.message}),Y.dirty()}else c.assertNever($);return{status:Y.value,value:Q.data}}gte(Q,X){return this.setLimit("min",Q,!0,S.toString(X))}gt(Q,X){return this.setLimit("min",Q,!1,S.toString(X))}lte(Q,X){return this.setLimit("max",Q,!0,S.toString(X))}lt(Q,X){return this.setLimit("max",Q,!1,S.toString(X))}setLimit(Q,X,W,Y){return new Q6({...this._def,checks:[...this._def.checks,{kind:Q,value:X,inclusive:W,message:S.toString(Y)}]})}_addCheck(Q){return new Q6({...this._def,checks:[...this._def.checks,Q]})}int(Q){return this._addCheck({kind:"int",message:S.toString(Q)})}positive(Q){return this._addCheck({kind:"min",value:0,inclusive:!1,message:S.toString(Q)})}negative(Q){return this._addCheck({kind:"max",value:0,inclusive:!1,message:S.toString(Q)})}nonpositive(Q){return this._addCheck({kind:"max",value:0,inclusive:!0,message:S.toString(Q)})}nonnegative(Q){return this._addCheck({kind:"min",value:0,inclusive:!0,message:S.toString(Q)})}multipleOf(Q,X){return this._addCheck({kind:"multipleOf",value:Q,message:S.toString(X)})}finite(Q){return this._addCheck({kind:"finite",message:S.toString(Q)})}safe(Q){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:S.toString(Q)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:S.toString(Q)})}get minValue(){let Q=null;for(let X of this._def.checks)if(X.kind==="min"){if(Q===null||X.value>Q)Q=X.value}return Q}get maxValue(){let Q=null;for(let X of this._def.checks)if(X.kind==="max"){if(Q===null||X.value<Q)Q=X.value}return Q}get isInt(){return!!this._def.checks.find((Q)=>Q.kind==="int"||Q.kind==="multipleOf"&&c.isInteger(Q.value))}get isFinite(){let Q=null,X=null;for(let W of this._def.checks)if(W.kind==="finite"||W.kind==="int"||W.kind==="multipleOf")return!0;else if(W.kind==="min"){if(X===null||W.value>X)X=W.value}else if(W.kind==="max"){if(Q===null||W.value<Q)Q=W.value}return Number.isFinite(X)&&Number.isFinite(Q)}}Q6.create=(Q)=>{return new Q6({checks:[],typeName:N.ZodNumber,coerce:Q?.coerce||!1,...h(Q)})};class X6 extends l{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(Q){if(this._def.coerce)try{Q.data=BigInt(Q.data)}catch{return this._getInvalidInput(Q)}if(this._getType(Q)!==M.bigint)return this._getInvalidInput(Q);let W=void 0,Y=new O0;for(let $ of this._def.checks)if($.kind==="min"){if($.inclusive?Q.data<$.value:Q.data<=$.value)W=this._getOrReturnCtx(Q,W),b(W,{code:O.too_small,type:"bigint",minimum:$.value,inclusive:$.inclusive,message:$.message}),Y.dirty()}else if($.kind==="max"){if($.inclusive?Q.data>$.value:Q.data>=$.value)W=this._getOrReturnCtx(Q,W),b(W,{code:O.too_big,type:"bigint",maximum:$.value,inclusive:$.inclusive,message:$.message}),Y.dirty()}else if($.kind==="multipleOf"){if(Q.data%$.value!==BigInt(0))W=this._getOrReturnCtx(Q,W),b(W,{code:O.not_multiple_of,multipleOf:$.value,message:$.message}),Y.dirty()}else c.assertNever($);return{status:Y.value,value:Q.data}}_getInvalidInput(Q){let X=this._getOrReturnCtx(Q);return b(X,{code:O.invalid_type,expected:M.bigint,received:X.parsedType}),_}gte(Q,X){return this.setLimit("min",Q,!0,S.toString(X))}gt(Q,X){return this.setLimit("min",Q,!1,S.toString(X))}lte(Q,X){return this.setLimit("max",Q,!0,S.toString(X))}lt(Q,X){return this.setLimit("max",Q,!1,S.toString(X))}setLimit(Q,X,W,Y){return new X6({...this._def,checks:[...this._def.checks,{kind:Q,value:X,inclusive:W,message:S.toString(Y)}]})}_addCheck(Q){return new X6({...this._def,checks:[...this._def.checks,Q]})}positive(Q){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:S.toString(Q)})}negative(Q){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:S.toString(Q)})}nonpositive(Q){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:S.toString(Q)})}nonnegative(Q){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:S.toString(Q)})}multipleOf(Q,X){return this._addCheck({kind:"multipleOf",value:Q,message:S.toString(X)})}get minValue(){let Q=null;for(let X of this._def.checks)if(X.kind==="min"){if(Q===null||X.value>Q)Q=X.value}return Q}get maxValue(){let Q=null;for(let X of this._def.checks)if(X.kind==="max"){if(Q===null||X.value<Q)Q=X.value}return Q}}X6.create=(Q)=>{return new X6({checks:[],typeName:N.ZodBigInt,coerce:Q?.coerce??!1,...h(Q)})};class l4 extends l{_parse(Q){if(this._def.coerce)Q.data=Boolean(Q.data);if(this._getType(Q)!==M.boolean){let W=this._getOrReturnCtx(Q);return b(W,{code:O.invalid_type,expected:M.boolean,received:W.parsedType}),_}return w0(Q.data)}}l4.create=(Q)=>{return new l4({typeName:N.ZodBoolean,coerce:Q?.coerce||!1,...h(Q)})};class P6 extends l{_parse(Q){if(this._def.coerce)Q.data=new Date(Q.data);if(this._getType(Q)!==M.date){let $=this._getOrReturnCtx(Q);return b($,{code:O.invalid_type,expected:M.date,received:$.parsedType}),_}if(Number.isNaN(Q.data.getTime())){let $=this._getOrReturnCtx(Q);return b($,{code:O.invalid_date}),_}let W=new O0,Y=void 0;for(let $ of this._def.checks)if($.kind==="min"){if(Q.data.getTime()<$.value)Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.too_small,message:$.message,inclusive:!0,exact:!1,minimum:$.value,type:"date"}),W.dirty()}else if($.kind==="max"){if(Q.data.getTime()>$.value)Y=this._getOrReturnCtx(Q,Y),b(Y,{code:O.too_big,message:$.message,inclusive:!0,exact:!1,maximum:$.value,type:"date"}),W.dirty()}else c.assertNever($);return{status:W.value,value:new Date(Q.data.getTime())}}_addCheck(Q){return new P6({...this._def,checks:[...this._def.checks,Q]})}min(Q,X){return this._addCheck({kind:"min",value:Q.getTime(),message:S.toString(X)})}max(Q,X){return this._addCheck({kind:"max",value:Q.getTime(),message:S.toString(X)})}get minDate(){let Q=null;for(let X of this._def.checks)if(X.kind==="min"){if(Q===null||X.value>Q)Q=X.value}return Q!=null?new Date(Q):null}get maxDate(){let Q=null;for(let X of this._def.checks)if(X.kind==="max"){if(Q===null||X.value<Q)Q=X.value}return Q!=null?new Date(Q):null}}P6.create=(Q)=>{return new P6({checks:[],coerce:Q?.coerce||!1,typeName:N.ZodDate,...h(Q)})};class m4 extends l{_parse(Q){if(this._getType(Q)!==M.symbol){let W=this._getOrReturnCtx(Q);return b(W,{code:O.invalid_type,expected:M.symbol,received:W.parsedType}),_}return w0(Q.data)}}m4.create=(Q)=>{return new m4({typeName:N.ZodSymbol,...h(Q)})};class C6 extends l{_parse(Q){if(this._getType(Q)!==M.undefined){let W=this._getOrReturnCtx(Q);return b(W,{code:O.invalid_type,expected:M.undefined,received:W.parsedType}),_}return w0(Q.data)}}C6.create=(Q)=>{return new C6({typeName:N.ZodUndefined,...h(Q)})};class T6 extends l{_parse(Q){if(this._getType(Q)!==M.null){let W=this._getOrReturnCtx(Q);return b(W,{code:O.invalid_type,expected:M.null,received:W.parsedType}),_}return w0(Q.data)}}T6.create=(Q)=>{return new T6({typeName:N.ZodNull,...h(Q)})};class c4 extends l{constructor(){super(...arguments);this._any=!0}_parse(Q){return w0(Q.data)}}c4.create=(Q)=>{return new c4({typeName:N.ZodAny,...h(Q)})};class h1 extends l{constructor(){super(...arguments);this._unknown=!0}_parse(Q){return w0(Q.data)}}h1.create=(Q)=>{return new h1({typeName:N.ZodUnknown,...h(Q)})};class z1 extends l{_parse(Q){let X=this._getOrReturnCtx(Q);return b(X,{code:O.invalid_type,expected:M.never,received:X.parsedType}),_}}z1.create=(Q)=>{return new z1({typeName:N.ZodNever,...h(Q)})};class p4 extends l{_parse(Q){if(this._getType(Q)!==M.undefined){let W=this._getOrReturnCtx(Q);return b(W,{code:O.invalid_type,expected:M.void,received:W.parsedType}),_}return w0(Q.data)}}p4.create=(Q)=>{return new p4({typeName:N.ZodVoid,...h(Q)})};class s0 extends l{_parse(Q){let{ctx:X,status:W}=this._processInputParams(Q),Y=this._def;if(X.parsedType!==M.array)return b(X,{code:O.invalid_type,expected:M.array,received:X.parsedType}),_;if(Y.exactLength!==null){let J=X.data.length>Y.exactLength.value,G=X.data.length<Y.exactLength.value;if(J||G)b(X,{code:J?O.too_big:O.too_small,minimum:G?Y.exactLength.value:void 0,maximum:J?Y.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Y.exactLength.message}),W.dirty()}if(Y.minLength!==null){if(X.data.length<Y.minLength.value)b(X,{code:O.too_small,minimum:Y.minLength.value,type:"array",inclusive:!0,exact:!1,message:Y.minLength.message}),W.dirty()}if(Y.maxLength!==null){if(X.data.length>Y.maxLength.value)b(X,{code:O.too_big,maximum:Y.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Y.maxLength.message}),W.dirty()}if(X.common.async)return Promise.all([...X.data].map((J,G)=>{return Y.type._parseAsync(new l0(X,J,X.path,G))})).then((J)=>{return O0.mergeArray(W,J)});let $=[...X.data].map((J,G)=>{return Y.type._parseSync(new l0(X,J,X.path,G))});return O0.mergeArray(W,$)}get element(){return this._def.type}min(Q,X){return new s0({...this._def,minLength:{value:Q,message:S.toString(X)}})}max(Q,X){return new s0({...this._def,maxLength:{value:Q,message:S.toString(X)}})}length(Q,X){return new s0({...this._def,exactLength:{value:Q,message:S.toString(X)}})}nonempty(Q){return this.min(1,Q)}}s0.create=(Q,X)=>{return new s0({type:Q,minLength:null,maxLength:null,exactLength:null,typeName:N.ZodArray,...h(X)})};function e1(Q){if(Q instanceof A0){let X={};for(let W in Q.shape){let Y=Q.shape[W];X[W]=e0.create(e1(Y))}return new A0({...Q._def,shape:()=>X})}else if(Q instanceof s0)return new s0({...Q._def,type:e1(Q.element)});else if(Q instanceof e0)return e0.create(e1(Q.unwrap()));else if(Q instanceof N1)return N1.create(e1(Q.unwrap()));else if(Q instanceof B1)return B1.create(Q.items.map((X)=>e1(X)));else return Q}class A0 extends l{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let Q=this._def.shape(),X=c.objectKeys(Q);return this._cached={shape:Q,keys:X},this._cached}_parse(Q){if(this._getType(Q)!==M.object){let z=this._getOrReturnCtx(Q);return b(z,{code:O.invalid_type,expected:M.object,received:z.parsedType}),_}let{status:W,ctx:Y}=this._processInputParams(Q),{shape:$,keys:J}=this._getCached(),G=[];if(!(this._def.catchall instanceof z1&&this._def.unknownKeys==="strip")){for(let z in Y.data)if(!J.includes(z))G.push(z)}let H=[];for(let z of J){let B=$[z],A=Y.data[z];H.push({key:{status:"valid",value:z},value:B._parse(new l0(Y,A,Y.path,z)),alwaysSet:z in Y.data})}if(this._def.catchall instanceof z1){let z=this._def.unknownKeys;if(z==="passthrough")for(let B of G)H.push({key:{status:"valid",value:B},value:{status:"valid",value:Y.data[B]}});else if(z==="strict"){if(G.length>0)b(Y,{code:O.unrecognized_keys,keys:G}),W.dirty()}else if(z==="strip");else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let z=this._def.catchall;for(let B of G){let A=Y.data[B];H.push({key:{status:"valid",value:B},value:z._parse(new l0(Y,A,Y.path,B)),alwaysSet:B in Y.data})}}if(Y.common.async)return Promise.resolve().then(async()=>{let z=[];for(let B of H){let A=await B.key,K=await B.value;z.push({key:A,value:K,alwaysSet:B.alwaysSet})}return z}).then((z)=>{return O0.mergeObjectSync(W,z)});else return O0.mergeObjectSync(W,H)}get shape(){return this._def.shape()}strict(Q){return S.errToObj,new A0({...this._def,unknownKeys:"strict",...Q!==void 0?{errorMap:(X,W)=>{let Y=this._def.errorMap?.(X,W).message??W.defaultError;if(X.code==="unrecognized_keys")return{message:S.errToObj(Q).message??Y};return{message:Y}}}:{}})}strip(){return new A0({...this._def,unknownKeys:"strip"})}passthrough(){return new A0({...this._def,unknownKeys:"passthrough"})}extend(Q){return new A0({...this._def,shape:()=>({...this._def.shape(),...Q})})}merge(Q){return new A0({unknownKeys:Q._def.unknownKeys,catchall:Q._def.catchall,shape:()=>({...this._def.shape(),...Q._def.shape()}),typeName:N.ZodObject})}setKey(Q,X){return this.augment({[Q]:X})}catchall(Q){return new A0({...this._def,catchall:Q})}pick(Q){let X={};for(let W of c.objectKeys(Q))if(Q[W]&&this.shape[W])X[W]=this.shape[W];return new A0({...this._def,shape:()=>X})}omit(Q){let X={};for(let W of c.objectKeys(this.shape))if(!Q[W])X[W]=this.shape[W];return new A0({...this._def,shape:()=>X})}deepPartial(){return e1(this)}partial(Q){let X={};for(let W of c.objectKeys(this.shape)){let Y=this.shape[W];if(Q&&!Q[W])X[W]=Y;else X[W]=Y.optional()}return new A0({...this._def,shape:()=>X})}required(Q){let X={};for(let W of c.objectKeys(this.shape))if(Q&&!Q[W])X[W]=this.shape[W];else{let $=this.shape[W];while($ instanceof e0)$=$._def.innerType;X[W]=$}return new A0({...this._def,shape:()=>X})}keyof(){return X$(c.objectKeys(this.shape))}}A0.create=(Q,X)=>{return new A0({shape:()=>Q,unknownKeys:"strip",catchall:z1.create(),typeName:N.ZodObject,...h(X)})};A0.strictCreate=(Q,X)=>{return new A0({shape:()=>Q,unknownKeys:"strict",catchall:z1.create(),typeName:N.ZodObject,...h(X)})};A0.lazycreate=(Q,X)=>{return new A0({shape:Q,unknownKeys:"strip",catchall:z1.create(),typeName:N.ZodObject,...h(X)})};class Z6 extends l{_parse(Q){let{ctx:X}=this._processInputParams(Q),W=this._def.options;function Y($){for(let G of $)if(G.result.status==="valid")return G.result;for(let G of $)if(G.result.status==="dirty")return X.common.issues.push(...G.ctx.common.issues),G.result;let J=$.map((G)=>new Z0(G.ctx.common.issues));return b(X,{code:O.invalid_union,unionErrors:J}),_}if(X.common.async)return Promise.all(W.map(async($)=>{let J={...X,common:{...X.common,issues:[]},parent:null};return{result:await $._parseAsync({data:X.data,path:X.path,parent:J}),ctx:J}})).then(Y);else{let $=void 0,J=[];for(let H of W){let z={...X,common:{...X.common,issues:[]},parent:null},B=H._parseSync({data:X.data,path:X.path,parent:z});if(B.status==="valid")return B;else if(B.status==="dirty"&&!$)$={result:B,ctx:z};if(z.common.issues.length)J.push(z.common.issues)}if($)return X.common.issues.push(...$.ctx.common.issues),$.result;let G=J.map((H)=>new Z0(H));return b(X,{code:O.invalid_union,unionErrors:G}),_}}get options(){return this._def.options}}Z6.create=(Q,X)=>{return new Z6({options:Q,typeName:N.ZodUnion,...h(X)})};var G1=(Q)=>{if(Q instanceof k6)return G1(Q.schema);else if(Q instanceof Q1)return G1(Q.innerType());else if(Q instanceof _6)return[Q.value];else if(Q instanceof f1)return Q.options;else if(Q instanceof x6)return c.objectValues(Q.enum);else if(Q instanceof g6)return G1(Q._def.innerType);else if(Q instanceof C6)return[void 0];else if(Q instanceof T6)return[null];else if(Q instanceof e0)return[void 0,...G1(Q.unwrap())];else if(Q instanceof N1)return[null,...G1(Q.unwrap())];else if(Q instanceof hQ)return G1(Q.unwrap());else if(Q instanceof h6)return G1(Q.unwrap());else if(Q instanceof y6)return G1(Q._def.innerType);else return[]};class yQ extends l{_parse(Q){let{ctx:X}=this._processInputParams(Q);if(X.parsedType!==M.object)return b(X,{code:O.invalid_type,expected:M.object,received:X.parsedType}),_;let W=this.discriminator,Y=X.data[W],$=this.optionsMap.get(Y);if(!$)return b(X,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[W]}),_;if(X.common.async)return $._parseAsync({data:X.data,path:X.path,parent:X});else return $._parseSync({data:X.data,path:X.path,parent:X})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(Q,X,W){let Y=new Map;for(let $ of X){let J=G1($.shape[Q]);if(!J.length)throw Error(`A discriminator value for key \`${Q}\` could not be extracted from all schema options`);for(let G of J){if(Y.has(G))throw Error(`Discriminator property ${String(Q)} has duplicate value ${String(G)}`);Y.set(G,$)}}return new yQ({typeName:N.ZodDiscriminatedUnion,discriminator:Q,options:X,optionsMap:Y,...h(W)})}}function gQ(Q,X){let W=J1(Q),Y=J1(X);if(Q===X)return{valid:!0,data:Q};else if(W===M.object&&Y===M.object){let $=c.objectKeys(X),J=c.objectKeys(Q).filter((H)=>$.indexOf(H)!==-1),G={...Q,...X};for(let H of J){let z=gQ(Q[H],X[H]);if(!z.valid)return{valid:!1};G[H]=z.data}return{valid:!0,data:G}}else if(W===M.array&&Y===M.array){if(Q.length!==X.length)return{valid:!1};let $=[];for(let J=0;J<Q.length;J++){let G=Q[J],H=X[J],z=gQ(G,H);if(!z.valid)return{valid:!1};$.push(z.data)}return{valid:!0,data:$}}else if(W===M.date&&Y===M.date&&+Q===+X)return{valid:!0,data:Q};else return{valid:!1}}class v6 extends l{_parse(Q){let{status:X,ctx:W}=this._processInputParams(Q),Y=($,J)=>{if(kQ($)||kQ(J))return _;let G=gQ($.value,J.value);if(!G.valid)return b(W,{code:O.invalid_intersection_types}),_;if(_Q($)||_Q(J))X.dirty();return{status:X.value,value:G.data}};if(W.common.async)return Promise.all([this._def.left._parseAsync({data:W.data,path:W.path,parent:W}),this._def.right._parseAsync({data:W.data,path:W.path,parent:W})]).then(([$,J])=>Y($,J));else return Y(this._def.left._parseSync({data:W.data,path:W.path,parent:W}),this._def.right._parseSync({data:W.data,path:W.path,parent:W}))}}v6.create=(Q,X,W)=>{return new v6({left:Q,right:X,typeName:N.ZodIntersection,...h(W)})};class B1 extends l{_parse(Q){let{status:X,ctx:W}=this._processInputParams(Q);if(W.parsedType!==M.array)return b(W,{code:O.invalid_type,expected:M.array,received:W.parsedType}),_;if(W.data.length<this._def.items.length)return b(W,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;if(!this._def.rest&&W.data.length>this._def.items.length)b(W,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X.dirty();let $=[...W.data].map((J,G)=>{let H=this._def.items[G]||this._def.rest;if(!H)return null;return H._parse(new l0(W,J,W.path,G))}).filter((J)=>!!J);if(W.common.async)return Promise.all($).then((J)=>{return O0.mergeArray(X,J)});else return O0.mergeArray(X,$)}get items(){return this._def.items}rest(Q){return new B1({...this._def,rest:Q})}}B1.create=(Q,X)=>{if(!Array.isArray(Q))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new B1({items:Q,typeName:N.ZodTuple,rest:null,...h(X)})};class d4 extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(Q){let{status:X,ctx:W}=this._processInputParams(Q);if(W.parsedType!==M.object)return b(W,{code:O.invalid_type,expected:M.object,received:W.parsedType}),_;let Y=[],$=this._def.keyType,J=this._def.valueType;for(let G in W.data)Y.push({key:$._parse(new l0(W,G,W.path,G)),value:J._parse(new l0(W,W.data[G],W.path,G)),alwaysSet:G in W.data});if(W.common.async)return O0.mergeObjectAsync(X,Y);else return O0.mergeObjectSync(X,Y)}get element(){return this._def.valueType}static create(Q,X,W){if(X instanceof l)return new d4({keyType:Q,valueType:X,typeName:N.ZodRecord,...h(W)});return new d4({keyType:H1.create(),valueType:Q,typeName:N.ZodRecord,...h(X)})}}class i4 extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(Q){let{status:X,ctx:W}=this._processInputParams(Q);if(W.parsedType!==M.map)return b(W,{code:O.invalid_type,expected:M.map,received:W.parsedType}),_;let Y=this._def.keyType,$=this._def.valueType,J=[...W.data.entries()].map(([G,H],z)=>{return{key:Y._parse(new l0(W,G,W.path,[z,"key"])),value:$._parse(new l0(W,H,W.path,[z,"value"]))}});if(W.common.async){let G=new Map;return Promise.resolve().then(async()=>{for(let H of J){let z=await H.key,B=await H.value;if(z.status==="aborted"||B.status==="aborted")return _;if(z.status==="dirty"||B.status==="dirty")X.dirty();G.set(z.value,B.value)}return{status:X.value,value:G}})}else{let G=new Map;for(let H of J){let{key:z,value:B}=H;if(z.status==="aborted"||B.status==="aborted")return _;if(z.status==="dirty"||B.status==="dirty")X.dirty();G.set(z.value,B.value)}return{status:X.value,value:G}}}}i4.create=(Q,X,W)=>{return new i4({valueType:X,keyType:Q,typeName:N.ZodMap,...h(W)})};class W6 extends l{_parse(Q){let{status:X,ctx:W}=this._processInputParams(Q);if(W.parsedType!==M.set)return b(W,{code:O.invalid_type,expected:M.set,received:W.parsedType}),_;let Y=this._def;if(Y.minSize!==null){if(W.data.size<Y.minSize.value)b(W,{code:O.too_small,minimum:Y.minSize.value,type:"set",inclusive:!0,exact:!1,message:Y.minSize.message}),X.dirty()}if(Y.maxSize!==null){if(W.data.size>Y.maxSize.value)b(W,{code:O.too_big,maximum:Y.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Y.maxSize.message}),X.dirty()}let $=this._def.valueType;function J(H){let z=new Set;for(let B of H){if(B.status==="aborted")return _;if(B.status==="dirty")X.dirty();z.add(B.value)}return{status:X.value,value:z}}let G=[...W.data.values()].map((H,z)=>$._parse(new l0(W,H,W.path,z)));if(W.common.async)return Promise.all(G).then((H)=>J(H));else return J(G)}min(Q,X){return new W6({...this._def,minSize:{value:Q,message:S.toString(X)}})}max(Q,X){return new W6({...this._def,maxSize:{value:Q,message:S.toString(X)}})}size(Q,X){return this.min(Q,X).max(Q,X)}nonempty(Q){return this.min(1,Q)}}W6.create=(Q,X)=>{return new W6({valueType:Q,minSize:null,maxSize:null,typeName:N.ZodSet,...h(X)})};class R6 extends l{constructor(){super(...arguments);this.validate=this.implement}_parse(Q){let{ctx:X}=this._processInputParams(Q);if(X.parsedType!==M.function)return b(X,{code:O.invalid_type,expected:M.function,received:X.parsedType}),_;function W(G,H){return u4({data:G,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,I6(),O1].filter((z)=>!!z),issueData:{code:O.invalid_arguments,argumentsError:H}})}function Y(G,H){return u4({data:G,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,I6(),O1].filter((z)=>!!z),issueData:{code:O.invalid_return_type,returnTypeError:H}})}let $={errorMap:X.common.contextualErrorMap},J=X.data;if(this._def.returns instanceof Y6){let G=this;return w0(async function(...H){let z=new Z0([]),B=await G._def.args.parseAsync(H,$).catch((q)=>{throw z.addIssue(W(H,q)),z}),A=await Reflect.apply(J,this,B);return await G._def.returns._def.type.parseAsync(A,$).catch((q)=>{throw z.addIssue(Y(A,q)),z})})}else{let G=this;return w0(function(...H){let z=G._def.args.safeParse(H,$);if(!z.success)throw new Z0([W(H,z.error)]);let B=Reflect.apply(J,this,z.data),A=G._def.returns.safeParse(B,$);if(!A.success)throw new Z0([Y(B,A.error)]);return A.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...Q){return new R6({...this._def,args:B1.create(Q).rest(h1.create())})}returns(Q){return new R6({...this._def,returns:Q})}implement(Q){return this.parse(Q)}strictImplement(Q){return this.parse(Q)}static create(Q,X,W){return new R6({args:Q?Q:B1.create([]).rest(h1.create()),returns:X||h1.create(),typeName:N.ZodFunction,...h(W)})}}class k6 extends l{get schema(){return this._def.getter()}_parse(Q){let{ctx:X}=this._processInputParams(Q);return this._def.getter()._parse({data:X.data,path:X.path,parent:X})}}k6.create=(Q,X)=>{return new k6({getter:Q,typeName:N.ZodLazy,...h(X)})};class _6 extends l{_parse(Q){if(Q.data!==this._def.value){let X=this._getOrReturnCtx(Q);return b(X,{received:X.data,code:O.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:Q.data}}get value(){return this._def.value}}_6.create=(Q,X)=>{return new _6({value:Q,typeName:N.ZodLiteral,...h(X)})};function X$(Q,X){return new f1({values:Q,typeName:N.ZodEnum,...h(X)})}class f1 extends l{_parse(Q){if(typeof Q.data!=="string"){let X=this._getOrReturnCtx(Q),W=this._def.values;return b(X,{expected:c.joinValues(W),received:X.parsedType,code:O.invalid_type}),_}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has(Q.data)){let X=this._getOrReturnCtx(Q),W=this._def.values;return b(X,{received:X.data,code:O.invalid_enum_value,options:W}),_}return w0(Q.data)}get options(){return this._def.values}get enum(){let Q={};for(let X of this._def.values)Q[X]=X;return Q}get Values(){let Q={};for(let X of this._def.values)Q[X]=X;return Q}get Enum(){let Q={};for(let X of this._def.values)Q[X]=X;return Q}extract(Q,X=this._def){return f1.create(Q,{...this._def,...X})}exclude(Q,X=this._def){return f1.create(this.options.filter((W)=>!Q.includes(W)),{...this._def,...X})}}f1.create=X$;class x6 extends l{_parse(Q){let X=c.getValidEnumValues(this._def.values),W=this._getOrReturnCtx(Q);if(W.parsedType!==M.string&&W.parsedType!==M.number){let Y=c.objectValues(X);return b(W,{expected:c.joinValues(Y),received:W.parsedType,code:O.invalid_type}),_}if(!this._cache)this._cache=new Set(c.getValidEnumValues(this._def.values));if(!this._cache.has(Q.data)){let Y=c.objectValues(X);return b(W,{received:W.data,code:O.invalid_enum_value,options:Y}),_}return w0(Q.data)}get enum(){return this._def.values}}x6.create=(Q,X)=>{return new x6({values:Q,typeName:N.ZodNativeEnum,...h(X)})};class Y6 extends l{unwrap(){return this._def.type}_parse(Q){let{ctx:X}=this._processInputParams(Q);if(X.parsedType!==M.promise&&X.common.async===!1)return b(X,{code:O.invalid_type,expected:M.promise,received:X.parsedType}),_;let W=X.parsedType===M.promise?X.data:Promise.resolve(X.data);return w0(W.then((Y)=>{return this._def.type.parseAsync(Y,{path:X.path,errorMap:X.common.contextualErrorMap})}))}}Y6.create=(Q,X)=>{return new Y6({type:Q,typeName:N.ZodPromise,...h(X)})};class Q1 extends l{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===N.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(Q){let{status:X,ctx:W}=this._processInputParams(Q),Y=this._def.effect||null,$={addIssue:(J)=>{if(b(W,J),J.fatal)X.abort();else X.dirty()},get path(){return W.path}};if($.addIssue=$.addIssue.bind($),Y.type==="preprocess"){let J=Y.transform(W.data,$);if(W.common.async)return Promise.resolve(J).then(async(G)=>{if(X.value==="aborted")return _;let H=await this._def.schema._parseAsync({data:G,path:W.path,parent:W});if(H.status==="aborted")return _;if(H.status==="dirty")return s1(H.value);if(X.value==="dirty")return s1(H.value);return H});else{if(X.value==="aborted")return _;let G=this._def.schema._parseSync({data:J,path:W.path,parent:W});if(G.status==="aborted")return _;if(G.status==="dirty")return s1(G.value);if(X.value==="dirty")return s1(G.value);return G}}if(Y.type==="refinement"){let J=(G)=>{let H=Y.refinement(G,$);if(W.common.async)return Promise.resolve(H);if(H instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return G};if(W.common.async===!1){let G=this._def.schema._parseSync({data:W.data,path:W.path,parent:W});if(G.status==="aborted")return _;if(G.status==="dirty")X.dirty();return J(G.value),{status:X.value,value:G.value}}else return this._def.schema._parseAsync({data:W.data,path:W.path,parent:W}).then((G)=>{if(G.status==="aborted")return _;if(G.status==="dirty")X.dirty();return J(G.value).then(()=>{return{status:X.value,value:G.value}})})}if(Y.type==="transform")if(W.common.async===!1){let J=this._def.schema._parseSync({data:W.data,path:W.path,parent:W});if(!y1(J))return _;let G=Y.transform(J.value,$);if(G instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:X.value,value:G}}else return this._def.schema._parseAsync({data:W.data,path:W.path,parent:W}).then((J)=>{if(!y1(J))return _;return Promise.resolve(Y.transform(J.value,$)).then((G)=>({status:X.value,value:G}))});c.assertNever(Y)}}Q1.create=(Q,X,W)=>{return new Q1({schema:Q,typeName:N.ZodEffects,effect:X,...h(W)})};Q1.createWithPreprocess=(Q,X,W)=>{return new Q1({schema:X,effect:{type:"preprocess",transform:Q},typeName:N.ZodEffects,...h(W)})};class e0 extends l{_parse(Q){if(this._getType(Q)===M.undefined)return w0(void 0);return this._def.innerType._parse(Q)}unwrap(){return this._def.innerType}}e0.create=(Q,X)=>{return new e0({innerType:Q,typeName:N.ZodOptional,...h(X)})};class N1 extends l{_parse(Q){if(this._getType(Q)===M.null)return w0(null);return this._def.innerType._parse(Q)}unwrap(){return this._def.innerType}}N1.create=(Q,X)=>{return new N1({innerType:Q,typeName:N.ZodNullable,...h(X)})};class g6 extends l{_parse(Q){let{ctx:X}=this._processInputParams(Q),W=X.data;if(X.parsedType===M.undefined)W=this._def.defaultValue();return this._def.innerType._parse({data:W,path:X.path,parent:X})}removeDefault(){return this._def.innerType}}g6.create=(Q,X)=>{return new g6({innerType:Q,typeName:N.ZodDefault,defaultValue:typeof X.default==="function"?X.default:()=>X.default,...h(X)})};class y6 extends l{_parse(Q){let{ctx:X}=this._processInputParams(Q),W={...X,common:{...X.common,issues:[]}},Y=this._def.innerType._parse({data:W.data,path:W.path,parent:{...W}});if(S6(Y))return Y.then(($)=>{return{status:"valid",value:$.status==="valid"?$.value:this._def.catchValue({get error(){return new Z0(W.common.issues)},input:W.data})}});else return{status:"valid",value:Y.status==="valid"?Y.value:this._def.catchValue({get error(){return new Z0(W.common.issues)},input:W.data})}}removeCatch(){return this._def.innerType}}y6.create=(Q,X)=>{return new y6({innerType:Q,typeName:N.ZodCatch,catchValue:typeof X.catch==="function"?X.catch:()=>X.catch,...h(X)})};class n4 extends l{_parse(Q){if(this._getType(Q)!==M.nan){let W=this._getOrReturnCtx(Q);return b(W,{code:O.invalid_type,expected:M.nan,received:W.parsedType}),_}return{status:"valid",value:Q.data}}}n4.create=(Q)=>{return new n4({typeName:N.ZodNaN,...h(Q)})};var TE=Symbol("zod_brand");class hQ extends l{_parse(Q){let{ctx:X}=this._processInputParams(Q),W=X.data;return this._def.type._parse({data:W,path:X.path,parent:X})}unwrap(){return this._def.type}}class r4 extends l{_parse(Q){let{status:X,ctx:W}=this._processInputParams(Q);if(W.common.async)return(async()=>{let $=await this._def.in._parseAsync({data:W.data,path:W.path,parent:W});if($.status==="aborted")return _;if($.status==="dirty")return X.dirty(),s1($.value);else return this._def.out._parseAsync({data:$.value,path:W.path,parent:W})})();else{let Y=this._def.in._parseSync({data:W.data,path:W.path,parent:W});if(Y.status==="aborted")return _;if(Y.status==="dirty")return X.dirty(),{status:"dirty",value:Y.value};else return this._def.out._parseSync({data:Y.value,path:W.path,parent:W})}}static create(Q,X){return new r4({in:Q,out:X,typeName:N.ZodPipeline})}}class h6 extends l{_parse(Q){let X=this._def.innerType._parse(Q),W=(Y)=>{if(y1(Y))Y.value=Object.freeze(Y.value);return Y};return S6(X)?X.then((Y)=>W(Y)):W(X)}unwrap(){return this._def.innerType}}h6.create=(Q,X)=>{return new h6({innerType:Q,typeName:N.ZodReadonly,...h(X)})};var ZE={object:A0.lazycreate},N;(function(Q){Q.ZodString="ZodString",Q.ZodNumber="ZodNumber",Q.ZodNaN="ZodNaN",Q.ZodBigInt="ZodBigInt",Q.ZodBoolean="ZodBoolean",Q.ZodDate="ZodDate",Q.ZodSymbol="ZodSymbol",Q.ZodUndefined="ZodUndefined",Q.ZodNull="ZodNull",Q.ZodAny="ZodAny",Q.ZodUnknown="ZodUnknown",Q.ZodNever="ZodNever",Q.ZodVoid="ZodVoid",Q.ZodArray="ZodArray",Q.ZodObject="ZodObject",Q.ZodUnion="ZodUnion",Q.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Q.ZodIntersection="ZodIntersection",Q.ZodTuple="ZodTuple",Q.ZodRecord="ZodRecord",Q.ZodMap="ZodMap",Q.ZodSet="ZodSet",Q.ZodFunction="ZodFunction",Q.ZodLazy="ZodLazy",Q.ZodLiteral="ZodLiteral",Q.ZodEnum="ZodEnum",Q.ZodEffects="ZodEffects",Q.ZodNativeEnum="ZodNativeEnum",Q.ZodOptional="ZodOptional",Q.ZodNullable="ZodNullable",Q.ZodDefault="ZodDefault",Q.ZodCatch="ZodCatch",Q.ZodPromise="ZodPromise",Q.ZodBranded="ZodBranded",Q.ZodPipeline="ZodPipeline",Q.ZodReadonly="ZodReadonly"})(N||(N={}));var vE=H1.create,kE=Q6.create,_E=n4.create,xE=X6.create,gE=l4.create,yE=P6.create,hE=m4.create,fE=C6.create,uE=T6.create,lE=c4.create,mE=h1.create,cE=z1.create,pE=p4.create,dE=s0.create,W$=A0.create,iE=A0.strictCreate,nE=Z6.create,rE=yQ.create,oE=v6.create,tE=B1.create,aE=d4.create,sE=i4.create,eE=W6.create,Qb=R6.create,Xb=k6.create,Wb=_6.create,Yb=f1.create,$b=x6.create,Jb=Y6.create,Gb=Q1.create,Hb=e0.create,zb=N1.create,Bb=Q1.createWithPreprocess,Ab=r4.create;var qb=Object.freeze({status:"aborted"});function L(Q,X,W){function Y(H,z){if(!H._zod)Object.defineProperty(H,"_zod",{value:{def:z,constr:G,traits:new Set},enumerable:!1});if(H._zod.traits.has(Q))return;H._zod.traits.add(Q),X(H,z);let B=G.prototype,A=Object.keys(B);for(let K=0;K<A.length;K++){let q=A[K];if(!(q in H))H[q]=B[q].bind(H)}}let $=W?.Parent??Object;class J extends ${}Object.defineProperty(J,"name",{value:Q});function G(H){var z;let B=W?.Parent?new J:this;Y(B,H),(z=B._zod).deferred??(z.deferred=[]);for(let A of B._zod.deferred)A();return B}return Object.defineProperty(G,"init",{value:Y}),Object.defineProperty(G,Symbol.hasInstance,{value:(H)=>{if(W?.Parent&&H instanceof W.Parent)return!0;return H?._zod?.traits?.has(Q)}}),Object.defineProperty(G,"name",{value:Q}),G}var Db=Symbol("zod_brand");class A1 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class f6 extends Error{constructor(Q){super(`Encountered unidirectional transform during encode: ${Q}`);this.name="ZodEncodeError"}}var o4={};function x0(Q){if(Q)Object.assign(o4,Q);return o4}var p={};tY(p,{unwrapMessage:()=>u6,uint8ArrayToHex:()=>UA,uint8ArrayToBase64url:()=>LA,uint8ArrayToBase64:()=>B$,stringifyPrimitive:()=>e4,slugify:()=>lQ,shallowClone:()=>$$,safeExtend:()=>zA,required:()=>KA,randomString:()=>XA,propertyKeyTypes:()=>cQ,promiseAllObject:()=>QA,primitiveTypes:()=>J$,prefixIssues:()=>q1,pick:()=>JA,partial:()=>AA,optionalKeys:()=>pQ,omit:()=>GA,objectClone:()=>aB,numKeys:()=>WA,nullish:()=>m6,normalizeParams:()=>Z,mergeDefs:()=>M1,merge:()=>BA,jsonStringifyReplacer:()=>$6,joinValues:()=>t4,issue:()=>G6,isPlainObject:()=>E1,isObject:()=>u1,hexToUint8Array:()=>VA,getSizableOrigin:()=>H$,getParsedType:()=>YA,getLengthableOrigin:()=>p6,getEnumValues:()=>l6,getElementAtPath:()=>eB,floatSafeRemainder:()=>uQ,finalizeIssue:()=>m0,extend:()=>HA,escapeRegex:()=>K1,esc:()=>a4,defineLazy:()=>a,createTransparentProxy:()=>$A,cloneDef:()=>sB,clone:()=>v0,cleanRegex:()=>c6,cleanEnum:()=>qA,captureStackTrace:()=>s4,cached:()=>J6,base64urlToUint8Array:()=>DA,base64ToUint8Array:()=>z$,assignProp:()=>w1,assertNotEqual:()=>nB,assertNever:()=>oB,assertIs:()=>rB,assertEqual:()=>iB,assert:()=>tB,allowsEval:()=>mQ,aborted:()=>b1,NUMBER_FORMAT_RANGES:()=>dQ,Class:()=>A$,BIGINT_FORMAT_RANGES:()=>G$});function iB(Q){return Q}function nB(Q){return Q}function rB(Q){}function oB(Q){throw Error("Unexpected value in exhaustive check")}function tB(Q){}function l6(Q){let X=Object.values(Q).filter((Y)=>typeof Y==="number");return Object.entries(Q).filter(([Y,$])=>X.indexOf(+Y)===-1).map(([Y,$])=>$)}function t4(Q,X="|"){return Q.map((W)=>e4(W)).join(X)}function $6(Q,X){if(typeof X==="bigint")return X.toString();return X}function J6(Q){return{get value(){{let W=Q();return Object.defineProperty(this,"value",{value:W}),W}throw Error("cached value already set")}}}function m6(Q){return Q===null||Q===void 0}function c6(Q){let X=Q.startsWith("^")?1:0,W=Q.endsWith("$")?Q.length-1:Q.length;return Q.slice(X,W)}function uQ(Q,X){let W=(Q.toString().split(".")[1]||"").length,Y=X.toString(),$=(Y.split(".")[1]||"").length;if($===0&&/\d?e-\d?/.test(Y)){let z=Y.match(/\d?e-(\d?)/);if(z?.[1])$=Number.parseInt(z[1])}let J=W>$?W:$,G=Number.parseInt(Q.toFixed(J).replace(".","")),H=Number.parseInt(X.toFixed(J).replace(".",""));return G%H/10**J}var Y$=Symbol("evaluating");function a(Q,X,W){let Y=void 0;Object.defineProperty(Q,X,{get(){if(Y===Y$)return;if(Y===void 0)Y=Y$,Y=W();return Y},set($){Object.defineProperty(Q,X,{value:$})},configurable:!0})}function aB(Q){return Object.create(Object.getPrototypeOf(Q),Object.getOwnPropertyDescriptors(Q))}function w1(Q,X,W){Object.defineProperty(Q,X,{value:W,writable:!0,enumerable:!0,configurable:!0})}function M1(...Q){let X={};for(let W of Q){let Y=Object.getOwnPropertyDescriptors(W);Object.assign(X,Y)}return Object.defineProperties({},X)}function sB(Q){return M1(Q._zod.def)}function eB(Q,X){if(!X)return Q;return X.reduce((W,Y)=>W?.[Y],Q)}function QA(Q){let X=Object.keys(Q),W=X.map((Y)=>Q[Y]);return Promise.all(W).then((Y)=>{let $={};for(let J=0;J<X.length;J++)$[X[J]]=Y[J];return $})}function XA(Q=10){let W="";for(let Y=0;Y<Q;Y++)W+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return W}function a4(Q){return JSON.stringify(Q)}function lQ(Q){return Q.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var s4="captureStackTrace"in Error?Error.captureStackTrace:(...Q)=>{};function u1(Q){return typeof Q==="object"&&Q!==null&&!Array.isArray(Q)}var mQ=J6(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(Q){return!1}});function E1(Q){if(u1(Q)===!1)return!1;let X=Q.constructor;if(X===void 0)return!0;if(typeof X!=="function")return!0;let W=X.prototype;if(u1(W)===!1)return!1;if(Object.prototype.hasOwnProperty.call(W,"isPrototypeOf")===!1)return!1;return!0}function $$(Q){if(E1(Q))return{...Q};if(Array.isArray(Q))return[...Q];return Q}function WA(Q){let X=0;for(let W in Q)if(Object.prototype.hasOwnProperty.call(Q,W))X++;return X}var YA=(Q)=>{let X=typeof Q;switch(X){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(Q)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(Q))return"array";if(Q===null)return"null";if(Q.then&&typeof Q.then==="function"&&Q.catch&&typeof Q.catch==="function")return"promise";if(typeof Map<"u"&&Q instanceof Map)return"map";if(typeof Set<"u"&&Q instanceof Set)return"set";if(typeof Date<"u"&&Q instanceof Date)return"date";if(typeof File<"u"&&Q instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${X}`)}},cQ=new Set(["string","number","symbol"]),J$=new Set(["string","number","bigint","boolean","symbol","undefined"]);function K1(Q){return Q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v0(Q,X,W){let Y=new Q._zod.constr(X??Q._zod.def);if(!X||W?.parent)Y._zod.parent=Q;return Y}function Z(Q){let X=Q;if(!X)return{};if(typeof X==="string")return{error:()=>X};if(X?.message!==void 0){if(X?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");X.error=X.message}if(delete X.message,typeof X.error==="string")return{...X,error:()=>X.error};return X}function $A(Q){let X;return new Proxy({},{get(W,Y,$){return X??(X=Q()),Reflect.get(X,Y,$)},set(W,Y,$,J){return X??(X=Q()),Reflect.set(X,Y,$,J)},has(W,Y){return X??(X=Q()),Reflect.has(X,Y)},deleteProperty(W,Y){return X??(X=Q()),Reflect.deleteProperty(X,Y)},ownKeys(W){return X??(X=Q()),Reflect.ownKeys(X)},getOwnPropertyDescriptor(W,Y){return X??(X=Q()),Reflect.getOwnPropertyDescriptor(X,Y)},defineProperty(W,Y,$){return X??(X=Q()),Reflect.defineProperty(X,Y,$)}})}function e4(Q){if(typeof Q==="bigint")return Q.toString()+"n";if(typeof Q==="string")return`"${Q}"`;return`${Q}`}function pQ(Q){return Object.keys(Q).filter((X)=>{return Q[X]._zod.optin==="optional"&&Q[X]._zod.optout==="optional"})}var dQ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},G$={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function JA(Q,X){let W=Q._zod.def,Y=M1(Q._zod.def,{get shape(){let $={};for(let J in X){if(!(J in W.shape))throw Error(`Unrecognized key: "${J}"`);if(!X[J])continue;$[J]=W.shape[J]}return w1(this,"shape",$),$},checks:[]});return v0(Q,Y)}function GA(Q,X){let W=Q._zod.def,Y=M1(Q._zod.def,{get shape(){let $={...Q._zod.def.shape};for(let J in X){if(!(J in W.shape))throw Error(`Unrecognized key: "${J}"`);if(!X[J])continue;delete $[J]}return w1(this,"shape",$),$},checks:[]});return v0(Q,Y)}function HA(Q,X){if(!E1(X))throw Error("Invalid input to extend: expected a plain object");let W=Q._zod.def.checks;if(W&&W.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let $=M1(Q._zod.def,{get shape(){let J={...Q._zod.def.shape,...X};return w1(this,"shape",J),J},checks:[]});return v0(Q,$)}function zA(Q,X){if(!E1(X))throw Error("Invalid input to safeExtend: expected a plain object");let W={...Q._zod.def,get shape(){let Y={...Q._zod.def.shape,...X};return w1(this,"shape",Y),Y},checks:Q._zod.def.checks};return v0(Q,W)}function BA(Q,X){let W=M1(Q._zod.def,{get shape(){let Y={...Q._zod.def.shape,...X._zod.def.shape};return w1(this,"shape",Y),Y},get catchall(){return X._zod.def.catchall},checks:[]});return v0(Q,W)}function AA(Q,X,W){let Y=M1(X._zod.def,{get shape(){let $=X._zod.def.shape,J={...$};if(W)for(let G in W){if(!(G in $))throw Error(`Unrecognized key: "${G}"`);if(!W[G])continue;J[G]=Q?new Q({type:"optional",innerType:$[G]}):$[G]}else for(let G in $)J[G]=Q?new Q({type:"optional",innerType:$[G]}):$[G];return w1(this,"shape",J),J},checks:[]});return v0(X,Y)}function KA(Q,X,W){let Y=M1(X._zod.def,{get shape(){let $=X._zod.def.shape,J={...$};if(W)for(let G in W){if(!(G in J))throw Error(`Unrecognized key: "${G}"`);if(!W[G])continue;J[G]=new Q({type:"nonoptional",innerType:$[G]})}else for(let G in $)J[G]=new Q({type:"nonoptional",innerType:$[G]});return w1(this,"shape",J),J},checks:[]});return v0(X,Y)}function b1(Q,X=0){if(Q.aborted===!0)return!0;for(let W=X;W<Q.issues.length;W++)if(Q.issues[W]?.continue!==!0)return!0;return!1}function q1(Q,X){return X.map((W)=>{var Y;return(Y=W).path??(Y.path=[]),W.path.unshift(Q),W})}function u6(Q){return typeof Q==="string"?Q:Q?.message}function m0(Q,X,W){let Y={...Q,path:Q.path??[]};if(!Q.message){let $=u6(Q.inst?._zod.def?.error?.(Q))??u6(X?.error?.(Q))??u6(W.customError?.(Q))??u6(W.localeError?.(Q))??"Invalid input";Y.message=$}if(delete Y.inst,delete Y.continue,!X?.reportInput)delete Y.input;return Y}function H$(Q){if(Q instanceof Set)return"set";if(Q instanceof Map)return"map";if(Q instanceof File)return"file";return"unknown"}function p6(Q){if(Array.isArray(Q))return"array";if(typeof Q==="string")return"string";return"unknown"}function G6(...Q){let[X,W,Y]=Q;if(typeof X==="string")return{message:X,code:"custom",input:W,inst:Y};return{...X}}function qA(Q){return Object.entries(Q).filter(([X,W])=>{return Number.isNaN(Number.parseInt(X,10))}).map((X)=>X[1])}function z$(Q){let X=atob(Q),W=new Uint8Array(X.length);for(let Y=0;Y<X.length;Y++)W[Y]=X.charCodeAt(Y);return W}function B$(Q){let X="";for(let W=0;W<Q.length;W++)X+=String.fromCharCode(Q[W]);return btoa(X)}function DA(Q){let X=Q.replace(/-/g,"+").replace(/_/g,"/"),W="=".repeat((4-X.length%4)%4);return z$(X+W)}function LA(Q){return B$(Q).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function VA(Q){let X=Q.replace(/^0x/,"");if(X.length%2!==0)throw Error("Invalid hex string length");let W=new Uint8Array(X.length/2);for(let Y=0;Y<X.length;Y+=2)W[Y/2]=Number.parseInt(X.slice(Y,Y+2),16);return W}function UA(Q){return Array.from(Q).map((X)=>X.toString(16).padStart(2,"0")).join("")}class A${constructor(...Q){}}var K$=(Q,X)=>{Q.name="$ZodError",Object.defineProperty(Q,"_zod",{value:Q._zod,enumerable:!1}),Object.defineProperty(Q,"issues",{value:X,enumerable:!1}),Q.message=JSON.stringify(X,$6,2),Object.defineProperty(Q,"toString",{value:()=>Q.message,enumerable:!1})},Q9=L("$ZodError",K$),d6=L("$ZodError",K$,{Parent:Error});function q$(Q,X=(W)=>W.message){let W={},Y=[];for(let $ of Q.issues)if($.path.length>0)W[$.path[0]]=W[$.path[0]]||[],W[$.path[0]].push(X($));else Y.push(X($));return{formErrors:Y,fieldErrors:W}}function D$(Q,X=(W)=>W.message){let W={_errors:[]},Y=($)=>{for(let J of $.issues)if(J.code==="invalid_union"&&J.errors.length)J.errors.map((G)=>Y({issues:G}));else if(J.code==="invalid_key")Y({issues:J.issues});else if(J.code==="invalid_element")Y({issues:J.issues});else if(J.path.length===0)W._errors.push(X(J));else{let G=W,H=0;while(H<J.path.length){let z=J.path[H];if(H!==J.path.length-1)G[z]=G[z]||{_errors:[]};else G[z]=G[z]||{_errors:[]},G[z]._errors.push(X(J));G=G[z],H++}}};return Y(Q),W}var i6=(Q)=>(X,W,Y,$)=>{let J=Y?Object.assign(Y,{async:!1}):{async:!1},G=X._zod.run({value:W,issues:[]},J);if(G instanceof Promise)throw new A1;if(G.issues.length){let H=new($?.Err??Q)(G.issues.map((z)=>m0(z,J,x0())));throw s4(H,$?.callee),H}return G.value},X9=i6(d6),n6=(Q)=>async(X,W,Y,$)=>{let J=Y?Object.assign(Y,{async:!0}):{async:!0},G=X._zod.run({value:W,issues:[]},J);if(G instanceof Promise)G=await G;if(G.issues.length){let H=new($?.Err??Q)(G.issues.map((z)=>m0(z,J,x0())));throw s4(H,$?.callee),H}return G.value},W9=n6(d6),r6=(Q)=>(X,W,Y)=>{let $=Y?{...Y,async:!1}:{async:!1},J=X._zod.run({value:W,issues:[]},$);if(J instanceof Promise)throw new A1;return J.issues.length?{success:!1,error:new(Q??Q9)(J.issues.map((G)=>m0(G,$,x0())))}:{success:!0,data:J.value}},l1=r6(d6),o6=(Q)=>async(X,W,Y)=>{let $=Y?Object.assign(Y,{async:!0}):{async:!0},J=X._zod.run({value:W,issues:[]},$);if(J instanceof Promise)J=await J;return J.issues.length?{success:!1,error:new Q(J.issues.map((G)=>m0(G,$,x0())))}:{success:!0,data:J.value}},m1=o6(d6),L$=(Q)=>(X,W,Y)=>{let $=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return i6(Q)(X,W,$)};var V$=(Q)=>(X,W,Y)=>{return i6(Q)(X,W,Y)};var U$=(Q)=>async(X,W,Y)=>{let $=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return n6(Q)(X,W,$)};var F$=(Q)=>async(X,W,Y)=>{return n6(Q)(X,W,Y)};var O$=(Q)=>(X,W,Y)=>{let $=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return r6(Q)(X,W,$)};var N$=(Q)=>(X,W,Y)=>{return r6(Q)(X,W,Y)};var w$=(Q)=>async(X,W,Y)=>{let $=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return o6(Q)(X,W,$)};var M$=(Q)=>async(X,W,Y)=>{return o6(Q)(X,W,Y)};var E$=/^[cC][^\s-]{8,}$/,b$=/^[0-9a-z]+$/,j$=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,I$=/^[0-9a-vA-V]{20}$/,S$=/^[A-Za-z0-9]{27}$/,R$=/^[a-zA-Z0-9_-]{21}$/,P$=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;var C$=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,iQ=(Q)=>{if(!Q)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${Q}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)};var T$=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var OA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Z$(){return new RegExp(OA,"u")}var v$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,k$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;var _$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,x$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,g$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,nQ=/^[A-Za-z0-9_-]*$/;var y$=/^\+(?:[0-9]){6,14}[0-9]$/,h$="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",f$=new RegExp(`^${h$}$`);function u$(Q){return typeof Q.precision==="number"?Q.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":Q.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${Q.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function l$(Q){return new RegExp(`^${u$(Q)}$`)}function m$(Q){let X=u$({precision:Q.precision}),W=["Z"];if(Q.local)W.push("");if(Q.offset)W.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let Y=`${X}(?:${W.join("|")})`;return new RegExp(`^${h$}T(?:${Y})$`)}var c$=(Q)=>{let X=Q?`[\\s\\S]{${Q?.minimum??0},${Q?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${X}$`)};var p$=/^-?\d+$/,d$=/^-?\d+(?:\.\d+)?/,i$=/^(?:true|false)$/i,n$=/^null$/i;var r$=/^[^A-Z]*$/,o$=/^[^a-z]*$/;var q0=L("$ZodCheck",(Q,X)=>{var W;Q._zod??(Q._zod={}),Q._zod.def=X,(W=Q._zod).onattach??(W.onattach=[])}),t$={number:"number",bigint:"bigint",object:"date"},rQ=L("$ZodCheckLessThan",(Q,X)=>{q0.init(Q,X);let W=t$[typeof X.value];Q._zod.onattach.push((Y)=>{let $=Y._zod.bag,J=(X.inclusive?$.maximum:$.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(X.value<J)if(X.inclusive)$.maximum=X.value;else $.exclusiveMaximum=X.value}),Q._zod.check=(Y)=>{if(X.inclusive?Y.value<=X.value:Y.value<X.value)return;Y.issues.push({origin:W,code:"too_big",maximum:X.value,input:Y.value,inclusive:X.inclusive,inst:Q,continue:!X.abort})}}),oQ=L("$ZodCheckGreaterThan",(Q,X)=>{q0.init(Q,X);let W=t$[typeof X.value];Q._zod.onattach.push((Y)=>{let $=Y._zod.bag,J=(X.inclusive?$.minimum:$.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(X.value>J)if(X.inclusive)$.minimum=X.value;else $.exclusiveMinimum=X.value}),Q._zod.check=(Y)=>{if(X.inclusive?Y.value>=X.value:Y.value>X.value)return;Y.issues.push({origin:W,code:"too_small",minimum:X.value,input:Y.value,inclusive:X.inclusive,inst:Q,continue:!X.abort})}}),a$=L("$ZodCheckMultipleOf",(Q,X)=>{q0.init(Q,X),Q._zod.onattach.push((W)=>{var Y;(Y=W._zod.bag).multipleOf??(Y.multipleOf=X.value)}),Q._zod.check=(W)=>{if(typeof W.value!==typeof X.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof W.value==="bigint"?W.value%X.value===BigInt(0):uQ(W.value,X.value)===0)return;W.issues.push({origin:typeof W.value,code:"not_multiple_of",divisor:X.value,input:W.value,inst:Q,continue:!X.abort})}}),s$=L("$ZodCheckNumberFormat",(Q,X)=>{q0.init(Q,X),X.format=X.format||"float64";let W=X.format?.includes("int"),Y=W?"int":"number",[$,J]=dQ[X.format];Q._zod.onattach.push((G)=>{let H=G._zod.bag;if(H.format=X.format,H.minimum=$,H.maximum=J,W)H.pattern=p$}),Q._zod.check=(G)=>{let H=G.value;if(W){if(!Number.isInteger(H)){G.issues.push({expected:Y,format:X.format,code:"invalid_type",continue:!1,input:H,inst:Q});return}if(!Number.isSafeInteger(H)){if(H>0)G.issues.push({input:H,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Q,origin:Y,continue:!X.abort});else G.issues.push({input:H,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Q,origin:Y,continue:!X.abort});return}}if(H<$)G.issues.push({origin:"number",input:H,code:"too_small",minimum:$,inclusive:!0,inst:Q,continue:!X.abort});if(H>J)G.issues.push({origin:"number",input:H,code:"too_big",maximum:J,inst:Q})}});var e$=L("$ZodCheckMaxLength",(Q,X)=>{var W;q0.init(Q,X),(W=Q._zod.def).when??(W.when=(Y)=>{let $=Y.value;return!m6($)&&$.length!==void 0}),Q._zod.onattach.push((Y)=>{let $=Y._zod.bag.maximum??Number.POSITIVE_INFINITY;if(X.maximum<$)Y._zod.bag.maximum=X.maximum}),Q._zod.check=(Y)=>{let $=Y.value;if($.length<=X.maximum)return;let G=p6($);Y.issues.push({origin:G,code:"too_big",maximum:X.maximum,inclusive:!0,input:$,inst:Q,continue:!X.abort})}}),QJ=L("$ZodCheckMinLength",(Q,X)=>{var W;q0.init(Q,X),(W=Q._zod.def).when??(W.when=(Y)=>{let $=Y.value;return!m6($)&&$.length!==void 0}),Q._zod.onattach.push((Y)=>{let $=Y._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(X.minimum>$)Y._zod.bag.minimum=X.minimum}),Q._zod.check=(Y)=>{let $=Y.value;if($.length>=X.minimum)return;let G=p6($);Y.issues.push({origin:G,code:"too_small",minimum:X.minimum,inclusive:!0,input:$,inst:Q,continue:!X.abort})}}),XJ=L("$ZodCheckLengthEquals",(Q,X)=>{var W;q0.init(Q,X),(W=Q._zod.def).when??(W.when=(Y)=>{let $=Y.value;return!m6($)&&$.length!==void 0}),Q._zod.onattach.push((Y)=>{let $=Y._zod.bag;$.minimum=X.length,$.maximum=X.length,$.length=X.length}),Q._zod.check=(Y)=>{let $=Y.value,J=$.length;if(J===X.length)return;let G=p6($),H=J>X.length;Y.issues.push({origin:G,...H?{code:"too_big",maximum:X.length}:{code:"too_small",minimum:X.length},inclusive:!0,exact:!0,input:Y.value,inst:Q,continue:!X.abort})}}),a6=L("$ZodCheckStringFormat",(Q,X)=>{var W,Y;if(q0.init(Q,X),Q._zod.onattach.push(($)=>{let J=$._zod.bag;if(J.format=X.format,X.pattern)J.patterns??(J.patterns=new Set),J.patterns.add(X.pattern)}),X.pattern)(W=Q._zod).check??(W.check=($)=>{if(X.pattern.lastIndex=0,X.pattern.test($.value))return;$.issues.push({origin:"string",code:"invalid_format",format:X.format,input:$.value,...X.pattern?{pattern:X.pattern.toString()}:{},inst:Q,continue:!X.abort})});else(Y=Q._zod).check??(Y.check=()=>{})}),WJ=L("$ZodCheckRegex",(Q,X)=>{a6.init(Q,X),Q._zod.check=(W)=>{if(X.pattern.lastIndex=0,X.pattern.test(W.value))return;W.issues.push({origin:"string",code:"invalid_format",format:"regex",input:W.value,pattern:X.pattern.toString(),inst:Q,continue:!X.abort})}}),YJ=L("$ZodCheckLowerCase",(Q,X)=>{X.pattern??(X.pattern=r$),a6.init(Q,X)}),$J=L("$ZodCheckUpperCase",(Q,X)=>{X.pattern??(X.pattern=o$),a6.init(Q,X)}),JJ=L("$ZodCheckIncludes",(Q,X)=>{q0.init(Q,X);let W=K1(X.includes),Y=new RegExp(typeof X.position==="number"?`^.{${X.position}}${W}`:W);X.pattern=Y,Q._zod.onattach.push(($)=>{let J=$._zod.bag;J.patterns??(J.patterns=new Set),J.patterns.add(Y)}),Q._zod.check=($)=>{if($.value.includes(X.includes,X.position))return;$.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:X.includes,input:$.value,inst:Q,continue:!X.abort})}}),GJ=L("$ZodCheckStartsWith",(Q,X)=>{q0.init(Q,X);let W=new RegExp(`^${K1(X.prefix)}.*`);X.pattern??(X.pattern=W),Q._zod.onattach.push((Y)=>{let $=Y._zod.bag;$.patterns??($.patterns=new Set),$.patterns.add(W)}),Q._zod.check=(Y)=>{if(Y.value.startsWith(X.prefix))return;Y.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:X.prefix,input:Y.value,inst:Q,continue:!X.abort})}}),HJ=L("$ZodCheckEndsWith",(Q,X)=>{q0.init(Q,X);let W=new RegExp(`.*${K1(X.suffix)}$`);X.pattern??(X.pattern=W),Q._zod.onattach.push((Y)=>{let $=Y._zod.bag;$.patterns??($.patterns=new Set),$.patterns.add(W)}),Q._zod.check=(Y)=>{if(Y.value.endsWith(X.suffix))return;Y.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:X.suffix,input:Y.value,inst:Q,continue:!X.abort})}});var zJ=L("$ZodCheckOverwrite",(Q,X)=>{q0.init(Q,X),Q._zod.check=(W)=>{W.value=X.tx(W.value)}});class tQ{constructor(Q=[]){if(this.content=[],this.indent=0,this)this.args=Q}indented(Q){this.indent+=1,Q(this),this.indent-=1}write(Q){if(typeof Q==="function"){Q(this,{execution:"sync"}),Q(this,{execution:"async"});return}let W=Q.split(`
`).filter((J)=>J),Y=Math.min(...W.map((J)=>J.length-J.trimStart().length)),$=W.map((J)=>J.slice(Y)).map((J)=>" ".repeat(this.indent*2)+J);for(let J of $)this.content.push(J)}compile(){let Q=Function,X=this?.args,Y=[...(this?.content??[""]).map(($)=>`  ${$}`)];return new Q(...X,Y.join(`
`))}}var AJ={major:4,minor:2,patch:1};var s=L("$ZodType",(Q,X)=>{var W;Q??(Q={}),Q._zod.def=X,Q._zod.bag=Q._zod.bag||{},Q._zod.version=AJ;let Y=[...Q._zod.def.checks??[]];if(Q._zod.traits.has("$ZodCheck"))Y.unshift(Q);for(let $ of Y)for(let J of $._zod.onattach)J(Q);if(Y.length===0)(W=Q._zod).deferred??(W.deferred=[]),Q._zod.deferred?.push(()=>{Q._zod.run=Q._zod.parse});else{let $=(G,H,z)=>{let B=b1(G),A;for(let K of H){if(K._zod.def.when){if(!K._zod.def.when(G))continue}else if(B)continue;let q=G.issues.length,V=K._zod.check(G);if(V instanceof Promise&&z?.async===!1)throw new A1;if(A||V instanceof Promise)A=(A??Promise.resolve()).then(async()=>{if(await V,G.issues.length===q)return;if(!B)B=b1(G,q)});else{if(G.issues.length===q)continue;if(!B)B=b1(G,q)}}if(A)return A.then(()=>{return G});return G},J=(G,H,z)=>{if(b1(G))return G.aborted=!0,G;let B=$(H,Y,z);if(B instanceof Promise){if(z.async===!1)throw new A1;return B.then((A)=>Q._zod.parse(A,z))}return Q._zod.parse(B,z)};Q._zod.run=(G,H)=>{if(H.skipChecks)return Q._zod.parse(G,H);if(H.direction==="backward"){let B=Q._zod.parse({value:G.value,issues:[]},{...H,skipChecks:!0});if(B instanceof Promise)return B.then((A)=>{return J(A,G,H)});return J(B,G,H)}let z=Q._zod.parse(G,H);if(z instanceof Promise){if(H.async===!1)throw new A1;return z.then((B)=>$(B,Y,H))}return $(z,Y,H)}}Q["~standard"]={validate:($)=>{try{let J=l1(Q,$);return J.success?{value:J.data}:{issues:J.error?.issues}}catch(J){return m1(Q,$).then((G)=>G.success?{value:G.data}:{issues:G.error?.issues})}},vendor:"zod",version:1}}),s6=L("$ZodString",(Q,X)=>{s.init(Q,X),Q._zod.pattern=[...Q?._zod.bag?.patterns??[]].pop()??c$(Q._zod.bag),Q._zod.parse=(W,Y)=>{if(X.coerce)try{W.value=String(W.value)}catch($){}if(typeof W.value==="string")return W;return W.issues.push({expected:"string",code:"invalid_type",input:W.value,inst:Q}),W}}),Q0=L("$ZodStringFormat",(Q,X)=>{a6.init(Q,X),s6.init(Q,X)}),sQ=L("$ZodGUID",(Q,X)=>{X.pattern??(X.pattern=C$),Q0.init(Q,X)}),eQ=L("$ZodUUID",(Q,X)=>{if(X.version){let Y={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[X.version];if(Y===void 0)throw Error(`Invalid UUID version: "${X.version}"`);X.pattern??(X.pattern=iQ(Y))}else X.pattern??(X.pattern=iQ());Q0.init(Q,X)}),Q8=L("$ZodEmail",(Q,X)=>{X.pattern??(X.pattern=T$),Q0.init(Q,X)}),X8=L("$ZodURL",(Q,X)=>{Q0.init(Q,X),Q._zod.check=(W)=>{try{let Y=W.value.trim(),$=new URL(Y);if(X.hostname){if(X.hostname.lastIndex=0,!X.hostname.test($.hostname))W.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:X.hostname.source,input:W.value,inst:Q,continue:!X.abort})}if(X.protocol){if(X.protocol.lastIndex=0,!X.protocol.test($.protocol.endsWith(":")?$.protocol.slice(0,-1):$.protocol))W.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:X.protocol.source,input:W.value,inst:Q,continue:!X.abort})}if(X.normalize)W.value=$.href;else W.value=Y;return}catch(Y){W.issues.push({code:"invalid_format",format:"url",input:W.value,inst:Q,continue:!X.abort})}}}),W8=L("$ZodEmoji",(Q,X)=>{X.pattern??(X.pattern=Z$()),Q0.init(Q,X)}),Y8=L("$ZodNanoID",(Q,X)=>{X.pattern??(X.pattern=R$),Q0.init(Q,X)}),$8=L("$ZodCUID",(Q,X)=>{X.pattern??(X.pattern=E$),Q0.init(Q,X)}),J8=L("$ZodCUID2",(Q,X)=>{X.pattern??(X.pattern=b$),Q0.init(Q,X)}),G8=L("$ZodULID",(Q,X)=>{X.pattern??(X.pattern=j$),Q0.init(Q,X)}),H8=L("$ZodXID",(Q,X)=>{X.pattern??(X.pattern=I$),Q0.init(Q,X)}),z8=L("$ZodKSUID",(Q,X)=>{X.pattern??(X.pattern=S$),Q0.init(Q,X)}),NJ=L("$ZodISODateTime",(Q,X)=>{X.pattern??(X.pattern=m$(X)),Q0.init(Q,X)}),wJ=L("$ZodISODate",(Q,X)=>{X.pattern??(X.pattern=f$),Q0.init(Q,X)}),MJ=L("$ZodISOTime",(Q,X)=>{X.pattern??(X.pattern=l$(X)),Q0.init(Q,X)}),EJ=L("$ZodISODuration",(Q,X)=>{X.pattern??(X.pattern=P$),Q0.init(Q,X)}),B8=L("$ZodIPv4",(Q,X)=>{X.pattern??(X.pattern=v$),Q0.init(Q,X),Q._zod.bag.format="ipv4"}),A8=L("$ZodIPv6",(Q,X)=>{X.pattern??(X.pattern=k$),Q0.init(Q,X),Q._zod.bag.format="ipv6",Q._zod.check=(W)=>{try{new URL(`http://[${W.value}]`)}catch{W.issues.push({code:"invalid_format",format:"ipv6",input:W.value,inst:Q,continue:!X.abort})}}});var K8=L("$ZodCIDRv4",(Q,X)=>{X.pattern??(X.pattern=_$),Q0.init(Q,X)}),q8=L("$ZodCIDRv6",(Q,X)=>{X.pattern??(X.pattern=x$),Q0.init(Q,X),Q._zod.check=(W)=>{let Y=W.value.split("/");try{if(Y.length!==2)throw Error();let[$,J]=Y;if(!J)throw Error();let G=Number(J);if(`${G}`!==J)throw Error();if(G<0||G>128)throw Error();new URL(`http://[${$}]`)}catch{W.issues.push({code:"invalid_format",format:"cidrv6",input:W.value,inst:Q,continue:!X.abort})}}});function bJ(Q){if(Q==="")return!0;if(Q.length%4!==0)return!1;try{return atob(Q),!0}catch{return!1}}var D8=L("$ZodBase64",(Q,X)=>{X.pattern??(X.pattern=g$),Q0.init(Q,X),Q._zod.bag.contentEncoding="base64",Q._zod.check=(W)=>{if(bJ(W.value))return;W.issues.push({code:"invalid_format",format:"base64",input:W.value,inst:Q,continue:!X.abort})}});function NA(Q){if(!nQ.test(Q))return!1;let X=Q.replace(/[-_]/g,(Y)=>Y==="-"?"+":"/"),W=X.padEnd(Math.ceil(X.length/4)*4,"=");return bJ(W)}var L8=L("$ZodBase64URL",(Q,X)=>{X.pattern??(X.pattern=nQ),Q0.init(Q,X),Q._zod.bag.contentEncoding="base64url",Q._zod.check=(W)=>{if(NA(W.value))return;W.issues.push({code:"invalid_format",format:"base64url",input:W.value,inst:Q,continue:!X.abort})}}),V8=L("$ZodE164",(Q,X)=>{X.pattern??(X.pattern=y$),Q0.init(Q,X)});function wA(Q,X=null){try{let W=Q.split(".");if(W.length!==3)return!1;let[Y]=W;if(!Y)return!1;let $=JSON.parse(atob(Y));if("typ"in $&&$?.typ!=="JWT")return!1;if(!$.alg)return!1;if(X&&(!("alg"in $)||$.alg!==X))return!1;return!0}catch{return!1}}var U8=L("$ZodJWT",(Q,X)=>{Q0.init(Q,X),Q._zod.check=(W)=>{if(wA(W.value,X.alg))return;W.issues.push({code:"invalid_format",format:"jwt",input:W.value,inst:Q,continue:!X.abort})}});var J9=L("$ZodNumber",(Q,X)=>{s.init(Q,X),Q._zod.pattern=Q._zod.bag.pattern??d$,Q._zod.parse=(W,Y)=>{if(X.coerce)try{W.value=Number(W.value)}catch(G){}let $=W.value;if(typeof $==="number"&&!Number.isNaN($)&&Number.isFinite($))return W;let J=typeof $==="number"?Number.isNaN($)?"NaN":!Number.isFinite($)?"Infinity":void 0:void 0;return W.issues.push({expected:"number",code:"invalid_type",input:$,inst:Q,...J?{received:J}:{}}),W}}),F8=L("$ZodNumberFormat",(Q,X)=>{s$.init(Q,X),J9.init(Q,X)}),O8=L("$ZodBoolean",(Q,X)=>{s.init(Q,X),Q._zod.pattern=i$,Q._zod.parse=(W,Y)=>{if(X.coerce)try{W.value=Boolean(W.value)}catch(J){}let $=W.value;if(typeof $==="boolean")return W;return W.issues.push({expected:"boolean",code:"invalid_type",input:$,inst:Q}),W}});var N8=L("$ZodNull",(Q,X)=>{s.init(Q,X),Q._zod.pattern=n$,Q._zod.values=new Set([null]),Q._zod.parse=(W,Y)=>{let $=W.value;if($===null)return W;return W.issues.push({expected:"null",code:"invalid_type",input:$,inst:Q}),W}});var w8=L("$ZodUnknown",(Q,X)=>{s.init(Q,X),Q._zod.parse=(W)=>W}),M8=L("$ZodNever",(Q,X)=>{s.init(Q,X),Q._zod.parse=(W,Y)=>{return W.issues.push({expected:"never",code:"invalid_type",input:W.value,inst:Q}),W}});function KJ(Q,X,W){if(Q.issues.length)X.issues.push(...q1(W,Q.issues));X.value[W]=Q.value}var E8=L("$ZodArray",(Q,X)=>{s.init(Q,X),Q._zod.parse=(W,Y)=>{let $=W.value;if(!Array.isArray($))return W.issues.push({expected:"array",code:"invalid_type",input:$,inst:Q}),W;W.value=Array($.length);let J=[];for(let G=0;G<$.length;G++){let H=$[G],z=X.element._zod.run({value:H,issues:[]},Y);if(z instanceof Promise)J.push(z.then((B)=>KJ(B,W,G)));else KJ(z,W,G)}if(J.length)return Promise.all(J).then(()=>W);return W}});function $9(Q,X,W,Y){if(Q.issues.length)X.issues.push(...q1(W,Q.issues));if(Q.value===void 0){if(W in Y)X.value[W]=void 0}else X.value[W]=Q.value}function jJ(Q){let X=Object.keys(Q.shape);for(let Y of X)if(!Q.shape?.[Y]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${Y}": expected a Zod schema`);let W=pQ(Q.shape);return{...Q,keys:X,keySet:new Set(X),numKeys:X.length,optionalKeys:new Set(W)}}function IJ(Q,X,W,Y,$,J){let G=[],H=$.keySet,z=$.catchall._zod,B=z.def.type;for(let A in X){if(H.has(A))continue;if(B==="never"){G.push(A);continue}let K=z.run({value:X[A],issues:[]},Y);if(K instanceof Promise)Q.push(K.then((q)=>$9(q,W,A,X)));else $9(K,W,A,X)}if(G.length)W.issues.push({code:"unrecognized_keys",keys:G,input:X,inst:J});if(!Q.length)return W;return Promise.all(Q).then(()=>{return W})}var b8=L("$ZodObject",(Q,X)=>{if(s.init(Q,X),!Object.getOwnPropertyDescriptor(X,"shape")?.get){let H=X.shape;Object.defineProperty(X,"shape",{get:()=>{let z={...H};return Object.defineProperty(X,"shape",{value:z}),z}})}let Y=J6(()=>jJ(X));a(Q._zod,"propValues",()=>{let H=X.shape,z={};for(let B in H){let A=H[B]._zod;if(A.values){z[B]??(z[B]=new Set);for(let K of A.values)z[B].add(K)}}return z});let $=u1,J=X.catchall,G;Q._zod.parse=(H,z)=>{G??(G=Y.value);let B=H.value;if(!$(B))return H.issues.push({expected:"object",code:"invalid_type",input:B,inst:Q}),H;H.value={};let A=[],K=G.shape;for(let q of G.keys){let U=K[q]._zod.run({value:B[q],issues:[]},z);if(U instanceof Promise)A.push(U.then((F)=>$9(F,H,q,B)));else $9(U,H,q,B)}if(!J)return A.length?Promise.all(A).then(()=>H):H;return IJ(A,B,H,z,Y.value,Q)}}),SJ=L("$ZodObjectJIT",(Q,X)=>{b8.init(Q,X);let W=Q._zod.parse,Y=J6(()=>jJ(X)),$=(q)=>{let V=new tQ(["shape","payload","ctx"]),U=Y.value,F=(v)=>{let m=a4(v);return`shape[${m}]._zod.run({ value: input[${m}], issues: [] }, ctx)`};V.write("const input = payload.value;");let E=Object.create(null),w=0;for(let v of U.keys)E[v]=`key_${w++}`;V.write("const newResult = {};");for(let v of U.keys){let m=E[v],k=a4(v);V.write(`const ${m} = ${F(v)};`),V.write(`
        if (${m}.issues.length) {
          payload.issues = payload.issues.concat(${m}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        
        if (${m}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${m}.value;
        }
        
      `)}V.write("payload.value = newResult;"),V.write("return payload;");let g=V.compile();return(v,m)=>g(q,v,m)},J,G=u1,H=!o4.jitless,B=H&&mQ.value,A=X.catchall,K;Q._zod.parse=(q,V)=>{K??(K=Y.value);let U=q.value;if(!G(U))return q.issues.push({expected:"object",code:"invalid_type",input:U,inst:Q}),q;if(H&&B&&V?.async===!1&&V.jitless!==!0){if(!J)J=$(X.shape);if(q=J(q,V),!A)return q;return IJ([],U,q,V,K,Q)}return W(q,V)}});function qJ(Q,X,W,Y){for(let J of Q)if(J.issues.length===0)return X.value=J.value,X;let $=Q.filter((J)=>!b1(J));if($.length===1)return X.value=$[0].value,$[0];return X.issues.push({code:"invalid_union",input:X.value,inst:W,errors:Q.map((J)=>J.issues.map((G)=>m0(G,Y,x0())))}),X}var G9=L("$ZodUnion",(Q,X)=>{s.init(Q,X),a(Q._zod,"optin",()=>X.options.some(($)=>$._zod.optin==="optional")?"optional":void 0),a(Q._zod,"optout",()=>X.options.some(($)=>$._zod.optout==="optional")?"optional":void 0),a(Q._zod,"values",()=>{if(X.options.every(($)=>$._zod.values))return new Set(X.options.flatMap(($)=>Array.from($._zod.values)));return}),a(Q._zod,"pattern",()=>{if(X.options.every(($)=>$._zod.pattern)){let $=X.options.map((J)=>J._zod.pattern);return new RegExp(`^(${$.map((J)=>c6(J.source)).join("|")})$`)}return});let W=X.options.length===1,Y=X.options[0]._zod.run;Q._zod.parse=($,J)=>{if(W)return Y($,J);let G=!1,H=[];for(let z of X.options){let B=z._zod.run({value:$.value,issues:[]},J);if(B instanceof Promise)H.push(B),G=!0;else{if(B.issues.length===0)return B;H.push(B)}}if(!G)return qJ(H,$,Q,J);return Promise.all(H).then((z)=>{return qJ(z,$,Q,J)})}});var j8=L("$ZodDiscriminatedUnion",(Q,X)=>{X.inclusive=!1,G9.init(Q,X);let W=Q._zod.parse;a(Q._zod,"propValues",()=>{let $={};for(let J of X.options){let G=J._zod.propValues;if(!G||Object.keys(G).length===0)throw Error(`Invalid discriminated union option at index "${X.options.indexOf(J)}"`);for(let[H,z]of Object.entries(G)){if(!$[H])$[H]=new Set;for(let B of z)$[H].add(B)}}return $});let Y=J6(()=>{let $=X.options,J=new Map;for(let G of $){let H=G._zod.propValues?.[X.discriminator];if(!H||H.size===0)throw Error(`Invalid discriminated union option at index "${X.options.indexOf(G)}"`);for(let z of H){if(J.has(z))throw Error(`Duplicate discriminator value "${String(z)}"`);J.set(z,G)}}return J});Q._zod.parse=($,J)=>{let G=$.value;if(!u1(G))return $.issues.push({code:"invalid_type",expected:"object",input:G,inst:Q}),$;let H=Y.value.get(G?.[X.discriminator]);if(H)return H._zod.run($,J);if(X.unionFallback)return W($,J);return $.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:X.discriminator,input:G,path:[X.discriminator],inst:Q}),$}}),I8=L("$ZodIntersection",(Q,X)=>{s.init(Q,X),Q._zod.parse=(W,Y)=>{let $=W.value,J=X.left._zod.run({value:$,issues:[]},Y),G=X.right._zod.run({value:$,issues:[]},Y);if(J instanceof Promise||G instanceof Promise)return Promise.all([J,G]).then(([z,B])=>{return DJ(W,z,B)});return DJ(W,J,G)}});function aQ(Q,X){if(Q===X)return{valid:!0,data:Q};if(Q instanceof Date&&X instanceof Date&&+Q===+X)return{valid:!0,data:Q};if(E1(Q)&&E1(X)){let W=Object.keys(X),Y=Object.keys(Q).filter((J)=>W.indexOf(J)!==-1),$={...Q,...X};for(let J of Y){let G=aQ(Q[J],X[J]);if(!G.valid)return{valid:!1,mergeErrorPath:[J,...G.mergeErrorPath]};$[J]=G.data}return{valid:!0,data:$}}if(Array.isArray(Q)&&Array.isArray(X)){if(Q.length!==X.length)return{valid:!1,mergeErrorPath:[]};let W=[];for(let Y=0;Y<Q.length;Y++){let $=Q[Y],J=X[Y],G=aQ($,J);if(!G.valid)return{valid:!1,mergeErrorPath:[Y,...G.mergeErrorPath]};W.push(G.data)}return{valid:!0,data:W}}return{valid:!1,mergeErrorPath:[]}}function DJ(Q,X,W){if(X.issues.length)Q.issues.push(...X.issues);if(W.issues.length)Q.issues.push(...W.issues);if(b1(Q))return Q;let Y=aQ(X.value,W.value);if(!Y.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(Y.mergeErrorPath)}`);return Q.value=Y.data,Q}var S8=L("$ZodRecord",(Q,X)=>{s.init(Q,X),Q._zod.parse=(W,Y)=>{let $=W.value;if(!E1($))return W.issues.push({expected:"record",code:"invalid_type",input:$,inst:Q}),W;let J=[],G=X.keyType._zod.values;if(G){W.value={};let H=new Set;for(let B of G)if(typeof B==="string"||typeof B==="number"||typeof B==="symbol"){H.add(typeof B==="number"?B.toString():B);let A=X.valueType._zod.run({value:$[B],issues:[]},Y);if(A instanceof Promise)J.push(A.then((K)=>{if(K.issues.length)W.issues.push(...q1(B,K.issues));W.value[B]=K.value}));else{if(A.issues.length)W.issues.push(...q1(B,A.issues));W.value[B]=A.value}}let z;for(let B in $)if(!H.has(B))z=z??[],z.push(B);if(z&&z.length>0)W.issues.push({code:"unrecognized_keys",input:$,inst:Q,keys:z})}else{W.value={};for(let H of Reflect.ownKeys($)){if(H==="__proto__")continue;let z=X.keyType._zod.run({value:H,issues:[]},Y);if(z instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(z.issues.length){if(X.mode==="loose")W.value[H]=$[H];else W.issues.push({code:"invalid_key",origin:"record",issues:z.issues.map((A)=>m0(A,Y,x0())),input:H,path:[H],inst:Q});continue}let B=X.valueType._zod.run({value:$[H],issues:[]},Y);if(B instanceof Promise)J.push(B.then((A)=>{if(A.issues.length)W.issues.push(...q1(H,A.issues));W.value[z.value]=A.value}));else{if(B.issues.length)W.issues.push(...q1(H,B.issues));W.value[z.value]=B.value}}}if(J.length)return Promise.all(J).then(()=>W);return W}});var R8=L("$ZodEnum",(Q,X)=>{s.init(Q,X);let W=l6(X.entries),Y=new Set(W);Q._zod.values=Y,Q._zod.pattern=new RegExp(`^(${W.filter(($)=>cQ.has(typeof $)).map(($)=>typeof $==="string"?K1($):$.toString()).join("|")})$`),Q._zod.parse=($,J)=>{let G=$.value;if(Y.has(G))return $;return $.issues.push({code:"invalid_value",values:W,input:G,inst:Q}),$}}),P8=L("$ZodLiteral",(Q,X)=>{if(s.init(Q,X),X.values.length===0)throw Error("Cannot create literal schema with no valid values");let W=new Set(X.values);Q._zod.values=W,Q._zod.pattern=new RegExp(`^(${X.values.map((Y)=>typeof Y==="string"?K1(Y):Y?K1(Y.toString()):String(Y)).join("|")})$`),Q._zod.parse=(Y,$)=>{let J=Y.value;if(W.has(J))return Y;return Y.issues.push({code:"invalid_value",values:X.values,input:J,inst:Q}),Y}});var C8=L("$ZodTransform",(Q,X)=>{s.init(Q,X),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")throw new f6(Q.constructor.name);let $=X.transform(W.value,W);if(Y.async)return($ instanceof Promise?$:Promise.resolve($)).then((G)=>{return W.value=G,W});if($ instanceof Promise)throw new A1;return W.value=$,W}});function LJ(Q,X){if(Q.issues.length&&X===void 0)return{issues:[],value:void 0};return Q}var T8=L("$ZodOptional",(Q,X)=>{s.init(Q,X),Q._zod.optin="optional",Q._zod.optout="optional",a(Q._zod,"values",()=>{return X.innerType._zod.values?new Set([...X.innerType._zod.values,void 0]):void 0}),a(Q._zod,"pattern",()=>{let W=X.innerType._zod.pattern;return W?new RegExp(`^(${c6(W.source)})?$`):void 0}),Q._zod.parse=(W,Y)=>{if(X.innerType._zod.optin==="optional"){let $=X.innerType._zod.run(W,Y);if($ instanceof Promise)return $.then((J)=>LJ(J,W.value));return LJ($,W.value)}if(W.value===void 0)return W;return X.innerType._zod.run(W,Y)}}),Z8=L("$ZodNullable",(Q,X)=>{s.init(Q,X),a(Q._zod,"optin",()=>X.innerType._zod.optin),a(Q._zod,"optout",()=>X.innerType._zod.optout),a(Q._zod,"pattern",()=>{let W=X.innerType._zod.pattern;return W?new RegExp(`^(${c6(W.source)}|null)$`):void 0}),a(Q._zod,"values",()=>{return X.innerType._zod.values?new Set([...X.innerType._zod.values,null]):void 0}),Q._zod.parse=(W,Y)=>{if(W.value===null)return W;return X.innerType._zod.run(W,Y)}}),v8=L("$ZodDefault",(Q,X)=>{s.init(Q,X),Q._zod.optin="optional",a(Q._zod,"values",()=>X.innerType._zod.values),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")return X.innerType._zod.run(W,Y);if(W.value===void 0)return W.value=X.defaultValue,W;let $=X.innerType._zod.run(W,Y);if($ instanceof Promise)return $.then((J)=>VJ(J,X));return VJ($,X)}});function VJ(Q,X){if(Q.value===void 0)Q.value=X.defaultValue;return Q}var k8=L("$ZodPrefault",(Q,X)=>{s.init(Q,X),Q._zod.optin="optional",a(Q._zod,"values",()=>X.innerType._zod.values),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")return X.innerType._zod.run(W,Y);if(W.value===void 0)W.value=X.defaultValue;return X.innerType._zod.run(W,Y)}}),_8=L("$ZodNonOptional",(Q,X)=>{s.init(Q,X),a(Q._zod,"values",()=>{let W=X.innerType._zod.values;return W?new Set([...W].filter((Y)=>Y!==void 0)):void 0}),Q._zod.parse=(W,Y)=>{let $=X.innerType._zod.run(W,Y);if($ instanceof Promise)return $.then((J)=>UJ(J,Q));return UJ($,Q)}});function UJ(Q,X){if(!Q.issues.length&&Q.value===void 0)Q.issues.push({code:"invalid_type",expected:"nonoptional",input:Q.value,inst:X});return Q}var x8=L("$ZodCatch",(Q,X)=>{s.init(Q,X),a(Q._zod,"optin",()=>X.innerType._zod.optin),a(Q._zod,"optout",()=>X.innerType._zod.optout),a(Q._zod,"values",()=>X.innerType._zod.values),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")return X.innerType._zod.run(W,Y);let $=X.innerType._zod.run(W,Y);if($ instanceof Promise)return $.then((J)=>{if(W.value=J.value,J.issues.length)W.value=X.catchValue({...W,error:{issues:J.issues.map((G)=>m0(G,Y,x0()))},input:W.value}),W.issues=[];return W});if(W.value=$.value,$.issues.length)W.value=X.catchValue({...W,error:{issues:$.issues.map((J)=>m0(J,Y,x0()))},input:W.value}),W.issues=[];return W}});var g8=L("$ZodPipe",(Q,X)=>{s.init(Q,X),a(Q._zod,"values",()=>X.in._zod.values),a(Q._zod,"optin",()=>X.in._zod.optin),a(Q._zod,"optout",()=>X.out._zod.optout),a(Q._zod,"propValues",()=>X.in._zod.propValues),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward"){let J=X.out._zod.run(W,Y);if(J instanceof Promise)return J.then((G)=>Y9(G,X.in,Y));return Y9(J,X.in,Y)}let $=X.in._zod.run(W,Y);if($ instanceof Promise)return $.then((J)=>Y9(J,X.out,Y));return Y9($,X.out,Y)}});function Y9(Q,X,W){if(Q.issues.length)return Q.aborted=!0,Q;return X._zod.run({value:Q.value,issues:Q.issues},W)}var y8=L("$ZodReadonly",(Q,X)=>{s.init(Q,X),a(Q._zod,"propValues",()=>X.innerType._zod.propValues),a(Q._zod,"values",()=>X.innerType._zod.values),a(Q._zod,"optin",()=>X.innerType?._zod?.optin),a(Q._zod,"optout",()=>X.innerType?._zod?.optout),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")return X.innerType._zod.run(W,Y);let $=X.innerType._zod.run(W,Y);if($ instanceof Promise)return $.then(FJ);return FJ($)}});function FJ(Q){return Q.value=Object.freeze(Q.value),Q}var h8=L("$ZodCustom",(Q,X)=>{q0.init(Q,X),s.init(Q,X),Q._zod.parse=(W,Y)=>{return W},Q._zod.check=(W)=>{let Y=W.value,$=X.fn(Y);if($ instanceof Promise)return $.then((J)=>OJ(J,W,Y,Q));OJ($,W,Y,Q);return}});function OJ(Q,X,W,Y){if(!Q){let $={code:"custom",input:W,inst:Y,path:[...Y._zod.def.path??[]],continue:!Y._zod.def.abort};if(Y._zod.def.params)$.params=Y._zod.def.params;X.issues.push(G6($))}}var MA=(Q)=>{let X=typeof Q;switch(X){case"number":return Number.isNaN(Q)?"NaN":"number";case"object":{if(Array.isArray(Q))return"array";if(Q===null)return"null";if(Object.getPrototypeOf(Q)!==Object.prototype&&Q.constructor)return Q.constructor.name}}return X},EA=()=>{let Q={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function X(Y){return Q[Y]??null}let W={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return(Y)=>{switch(Y.code){case"invalid_type":return`Invalid input: expected ${Y.expected}, received ${MA(Y.input)}`;case"invalid_value":if(Y.values.length===1)return`Invalid input: expected ${e4(Y.values[0])}`;return`Invalid option: expected one of ${t4(Y.values,"|")}`;case"too_big":{let $=Y.inclusive?"<=":"<",J=X(Y.origin);if(J)return`Too big: expected ${Y.origin??"value"} to have ${$}${Y.maximum.toString()} ${J.unit??"elements"}`;return`Too big: expected ${Y.origin??"value"} to be ${$}${Y.maximum.toString()}`}case"too_small":{let $=Y.inclusive?">=":">",J=X(Y.origin);if(J)return`Too small: expected ${Y.origin} to have ${$}${Y.minimum.toString()} ${J.unit}`;return`Too small: expected ${Y.origin} to be ${$}${Y.minimum.toString()}`}case"invalid_format":{let $=Y;if($.format==="starts_with")return`Invalid string: must start with "${$.prefix}"`;if($.format==="ends_with")return`Invalid string: must end with "${$.suffix}"`;if($.format==="includes")return`Invalid string: must include "${$.includes}"`;if($.format==="regex")return`Invalid string: must match pattern ${$.pattern}`;return`Invalid ${W[$.format]??Y.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${Y.divisor}`;case"unrecognized_keys":return`Unrecognized key${Y.keys.length>1?"s":""}: ${t4(Y.keys,", ")}`;case"invalid_key":return`Invalid key in ${Y.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${Y.origin}`;default:return"Invalid input"}}};function f8(){return{localeError:EA()}}var RJ,Pb=Symbol("ZodOutput"),Cb=Symbol("ZodInput");class PJ{constructor(){this._map=new WeakMap,this._idmap=new Map}add(Q,...X){let W=X[0];if(this._map.set(Q,W),W&&typeof W==="object"&&"id"in W){if(this._idmap.has(W.id))throw Error(`ID ${W.id} already exists in the registry`);this._idmap.set(W.id,Q)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(Q){let X=this._map.get(Q);if(X&&typeof X==="object"&&"id"in X)this._idmap.delete(X.id);return this._map.delete(Q),this}get(Q){let X=Q._zod.parent;if(X){let W={...this.get(X)??{}};delete W.id;let Y={...W,...this._map.get(Q)};return Object.keys(Y).length?Y:void 0}return this._map.get(Q)}has(Q){return this._map.has(Q)}}function bA(){return new PJ}(RJ=globalThis).__zod_globalRegistry??(RJ.__zod_globalRegistry=bA());var c1=globalThis.__zod_globalRegistry;function u8(Q,X){return new Q({type:"string",...Z(X)})}function l8(Q,X){return new Q({type:"string",format:"email",check:"string_format",abort:!1,...Z(X)})}function H9(Q,X){return new Q({type:"string",format:"guid",check:"string_format",abort:!1,...Z(X)})}function m8(Q,X){return new Q({type:"string",format:"uuid",check:"string_format",abort:!1,...Z(X)})}function c8(Q,X){return new Q({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Z(X)})}function p8(Q,X){return new Q({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Z(X)})}function d8(Q,X){return new Q({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Z(X)})}function i8(Q,X){return new Q({type:"string",format:"url",check:"string_format",abort:!1,...Z(X)})}function n8(Q,X){return new Q({type:"string",format:"emoji",check:"string_format",abort:!1,...Z(X)})}function r8(Q,X){return new Q({type:"string",format:"nanoid",check:"string_format",abort:!1,...Z(X)})}function o8(Q,X){return new Q({type:"string",format:"cuid",check:"string_format",abort:!1,...Z(X)})}function t8(Q,X){return new Q({type:"string",format:"cuid2",check:"string_format",abort:!1,...Z(X)})}function a8(Q,X){return new Q({type:"string",format:"ulid",check:"string_format",abort:!1,...Z(X)})}function s8(Q,X){return new Q({type:"string",format:"xid",check:"string_format",abort:!1,...Z(X)})}function e8(Q,X){return new Q({type:"string",format:"ksuid",check:"string_format",abort:!1,...Z(X)})}function QX(Q,X){return new Q({type:"string",format:"ipv4",check:"string_format",abort:!1,...Z(X)})}function XX(Q,X){return new Q({type:"string",format:"ipv6",check:"string_format",abort:!1,...Z(X)})}function WX(Q,X){return new Q({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Z(X)})}function YX(Q,X){return new Q({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Z(X)})}function $X(Q,X){return new Q({type:"string",format:"base64",check:"string_format",abort:!1,...Z(X)})}function JX(Q,X){return new Q({type:"string",format:"base64url",check:"string_format",abort:!1,...Z(X)})}function GX(Q,X){return new Q({type:"string",format:"e164",check:"string_format",abort:!1,...Z(X)})}function HX(Q,X){return new Q({type:"string",format:"jwt",check:"string_format",abort:!1,...Z(X)})}function CJ(Q,X){return new Q({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Z(X)})}function TJ(Q,X){return new Q({type:"string",format:"date",check:"string_format",...Z(X)})}function ZJ(Q,X){return new Q({type:"string",format:"time",check:"string_format",precision:null,...Z(X)})}function vJ(Q,X){return new Q({type:"string",format:"duration",check:"string_format",...Z(X)})}function zX(Q,X){return new Q({type:"number",checks:[],...Z(X)})}function BX(Q,X){return new Q({type:"number",check:"number_format",abort:!1,format:"safeint",...Z(X)})}function AX(Q,X){return new Q({type:"boolean",...Z(X)})}function KX(Q,X){return new Q({type:"null",...Z(X)})}function qX(Q){return new Q({type:"unknown"})}function DX(Q,X){return new Q({type:"never",...Z(X)})}function z9(Q,X){return new rQ({check:"less_than",...Z(X),value:Q,inclusive:!1})}function e6(Q,X){return new rQ({check:"less_than",...Z(X),value:Q,inclusive:!0})}function B9(Q,X){return new oQ({check:"greater_than",...Z(X),value:Q,inclusive:!1})}function Q4(Q,X){return new oQ({check:"greater_than",...Z(X),value:Q,inclusive:!0})}function A9(Q,X){return new a$({check:"multiple_of",...Z(X),value:Q})}function K9(Q,X){return new e$({check:"max_length",...Z(X),maximum:Q})}function H6(Q,X){return new QJ({check:"min_length",...Z(X),minimum:Q})}function q9(Q,X){return new XJ({check:"length_equals",...Z(X),length:Q})}function LX(Q,X){return new WJ({check:"string_format",format:"regex",...Z(X),pattern:Q})}function VX(Q){return new YJ({check:"string_format",format:"lowercase",...Z(Q)})}function UX(Q){return new $J({check:"string_format",format:"uppercase",...Z(Q)})}function FX(Q,X){return new JJ({check:"string_format",format:"includes",...Z(X),includes:Q})}function OX(Q,X){return new GJ({check:"string_format",format:"starts_with",...Z(X),prefix:Q})}function NX(Q,X){return new HJ({check:"string_format",format:"ends_with",...Z(X),suffix:Q})}function j1(Q){return new zJ({check:"overwrite",tx:Q})}function wX(Q){return j1((X)=>X.normalize(Q))}function MX(){return j1((Q)=>Q.trim())}function EX(){return j1((Q)=>Q.toLowerCase())}function bX(){return j1((Q)=>Q.toUpperCase())}function jX(){return j1((Q)=>lQ(Q))}function kJ(Q,X,W){return new Q({type:"array",element:X,...Z(W)})}function IX(Q,X,W){let Y=Z(W);return Y.abort??(Y.abort=!0),new Q({type:"custom",check:"custom",fn:X,...Y})}function SX(Q,X,W){return new Q({type:"custom",check:"custom",fn:X,...Z(W)})}function RX(Q){let X=jA((W)=>{return W.addIssue=(Y)=>{if(typeof Y==="string")W.issues.push(G6(Y,W.value,X._zod.def));else{let $=Y;if($.fatal)$.continue=!1;$.code??($.code="custom"),$.input??($.input=W.value),$.inst??($.inst=X),$.continue??($.continue=!X._zod.def.abort),W.issues.push(G6($))}},Q(W.value,W)});return X}function jA(Q,X){let W=new q0({check:"custom",...Z(X)});return W._zod.check=Q,W}function W4(Q){let X=Q?.target??"draft-2020-12";if(X==="draft-4")X="draft-04";if(X==="draft-7")X="draft-07";return{processors:Q.processors??{},metadataRegistry:Q?.metadata??c1,target:X,unrepresentable:Q?.unrepresentable??"throw",override:Q?.override??(()=>{}),io:Q?.io??"output",counter:0,seen:new Map,cycles:Q?.cycles??"ref",reused:Q?.reused??"inline",external:Q?.external??void 0}}function X0(Q,X,W={path:[],schemaPath:[]}){var Y;let $=Q._zod.def,J=X.seen.get(Q);if(J){if(J.count++,W.schemaPath.includes(Q))J.cycle=W.path;return J.schema}let G={schema:{},count:1,cycle:void 0,path:W.path};X.seen.set(Q,G);let H=Q._zod.toJSONSchema?.();if(H)G.schema=H;else{let A={...W,schemaPath:[...W.schemaPath,Q],path:W.path},K=Q._zod.parent;if(K)G.ref=K,X0(K,X,A),X.seen.get(K).isParent=!0;else if(Q._zod.processJSONSchema)Q._zod.processJSONSchema(X,G.schema,A);else{let q=G.schema,V=X.processors[$.type];if(!V)throw Error(`[toJSONSchema]: Non-representable type encountered: ${$.type}`);V(Q,X,q,A)}}let z=X.metadataRegistry.get(Q);if(z)Object.assign(G.schema,z);if(X.io==="input"&&M0(Q))delete G.schema.examples,delete G.schema.default;if(X.io==="input"&&G.schema._prefault)(Y=G.schema).default??(Y.default=G.schema._prefault);return delete G.schema._prefault,X.seen.get(Q).schema}function Y4(Q,X){let W=Q.seen.get(X);if(!W)throw Error("Unprocessed schema. This is a bug in Zod.");let Y=(J)=>{let G=Q.target==="draft-2020-12"?"$defs":"definitions";if(Q.external){let A=Q.external.registry.get(J[0])?.id,K=Q.external.uri??((V)=>V);if(A)return{ref:K(A)};let q=J[1].defId??J[1].schema.id??`schema${Q.counter++}`;return J[1].defId=q,{defId:q,ref:`${K("__shared")}#/${G}/${q}`}}if(J[1]===W)return{ref:"#"};let z=`${"#"}/${G}/`,B=J[1].schema.id??`__schema${Q.counter++}`;return{defId:B,ref:z+B}},$=(J)=>{if(J[1].schema.$ref)return;let G=J[1],{ref:H,defId:z}=Y(J);if(G.def={...G.schema},z)G.defId=z;let B=G.schema;for(let A in B)delete B[A];B.$ref=H};if(Q.cycles==="throw")for(let J of Q.seen.entries()){let G=J[1];if(G.cycle)throw Error(`Cycle detected: #/${G.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let J of Q.seen.entries()){let G=J[1];if(X===J[0]){$(J);continue}if(Q.external){let z=Q.external.registry.get(J[0])?.id;if(X!==J[0]&&z){$(J);continue}}if(Q.metadataRegistry.get(J[0])?.id){$(J);continue}if(G.cycle){$(J);continue}if(G.count>1){if(Q.reused==="ref"){$(J);continue}}}}function $4(Q,X){let W=Q.seen.get(X);if(!W)throw Error("Unprocessed schema. This is a bug in Zod.");let Y=(G)=>{let H=Q.seen.get(G),z=H.def??H.schema,B={...z};if(H.ref===null)return;let A=H.ref;if(H.ref=null,A){Y(A);let K=Q.seen.get(A).schema;if(K.$ref&&(Q.target==="draft-07"||Q.target==="draft-04"||Q.target==="openapi-3.0"))z.allOf=z.allOf??[],z.allOf.push(K);else Object.assign(z,K),Object.assign(z,B)}if(!H.isParent)Q.override({zodSchema:G,jsonSchema:z,path:H.path??[]})};for(let G of[...Q.seen.entries()].reverse())Y(G[0]);let $={};if(Q.target==="draft-2020-12")$.$schema="https://json-schema.org/draft/2020-12/schema";else if(Q.target==="draft-07")$.$schema="http://json-schema.org/draft-07/schema#";else if(Q.target==="draft-04")$.$schema="http://json-schema.org/draft-04/schema#";else if(Q.target==="openapi-3.0");if(Q.external?.uri){let G=Q.external.registry.get(X)?.id;if(!G)throw Error("Schema is missing an `id` property");$.$id=Q.external.uri(G)}Object.assign($,W.def??W.schema);let J=Q.external?.defs??{};for(let G of Q.seen.entries()){let H=G[1];if(H.def&&H.defId)J[H.defId]=H.def}if(Q.external);else if(Object.keys(J).length>0)if(Q.target==="draft-2020-12")$.$defs=J;else $.definitions=J;try{let G=JSON.parse(JSON.stringify($));return Object.defineProperty(G,"~standard",{value:{...X["~standard"],jsonSchema:{input:X4(X,"input"),output:X4(X,"output")}},enumerable:!1,writable:!1}),G}catch(G){throw Error("Error converting schema to JSON.")}}function M0(Q,X){let W=X??{seen:new Set};if(W.seen.has(Q))return!1;W.seen.add(Q);let Y=Q._zod.def;if(Y.type==="transform")return!0;if(Y.type==="array")return M0(Y.element,W);if(Y.type==="set")return M0(Y.valueType,W);if(Y.type==="lazy")return M0(Y.getter(),W);if(Y.type==="promise"||Y.type==="optional"||Y.type==="nonoptional"||Y.type==="nullable"||Y.type==="readonly"||Y.type==="default"||Y.type==="prefault")return M0(Y.innerType,W);if(Y.type==="intersection")return M0(Y.left,W)||M0(Y.right,W);if(Y.type==="record"||Y.type==="map")return M0(Y.keyType,W)||M0(Y.valueType,W);if(Y.type==="pipe")return M0(Y.in,W)||M0(Y.out,W);if(Y.type==="object"){for(let $ in Y.shape)if(M0(Y.shape[$],W))return!0;return!1}if(Y.type==="union"){for(let $ of Y.options)if(M0($,W))return!0;return!1}if(Y.type==="tuple"){for(let $ of Y.items)if(M0($,W))return!0;if(Y.rest&&M0(Y.rest,W))return!0;return!1}return!1}var _J=(Q,X={})=>(W)=>{let Y=W4({...W,processors:X});return X0(Q,Y),Y4(Y,Q),$4(Y,Q)},X4=(Q,X)=>(W)=>{let{libraryOptions:Y,target:$}=W??{},J=W4({...Y??{},target:$,io:X,processors:{}});return X0(Q,J),Y4(J,Q),$4(J,Q)};var IA={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},PX=(Q,X,W,Y)=>{let $=W;$.type="string";let{minimum:J,maximum:G,format:H,patterns:z,contentEncoding:B}=Q._zod.bag;if(typeof J==="number")$.minLength=J;if(typeof G==="number")$.maxLength=G;if(H){if($.format=IA[H]??H,$.format==="")delete $.format}if(B)$.contentEncoding=B;if(z&&z.size>0){let A=[...z];if(A.length===1)$.pattern=A[0].source;else if(A.length>1)$.allOf=[...A.map((K)=>({...X.target==="draft-07"||X.target==="draft-04"||X.target==="openapi-3.0"?{type:"string"}:{},pattern:K.source}))]}},CX=(Q,X,W,Y)=>{let $=W,{minimum:J,maximum:G,format:H,multipleOf:z,exclusiveMaximum:B,exclusiveMinimum:A}=Q._zod.bag;if(typeof H==="string"&&H.includes("int"))$.type="integer";else $.type="number";if(typeof A==="number")if(X.target==="draft-04"||X.target==="openapi-3.0")$.minimum=A,$.exclusiveMinimum=!0;else $.exclusiveMinimum=A;if(typeof J==="number"){if($.minimum=J,typeof A==="number"&&X.target!=="draft-04")if(A>=J)delete $.minimum;else delete $.exclusiveMinimum}if(typeof B==="number")if(X.target==="draft-04"||X.target==="openapi-3.0")$.maximum=B,$.exclusiveMaximum=!0;else $.exclusiveMaximum=B;if(typeof G==="number"){if($.maximum=G,typeof B==="number"&&X.target!=="draft-04")if(B<=G)delete $.maximum;else delete $.exclusiveMaximum}if(typeof z==="number")$.multipleOf=z},TX=(Q,X,W,Y)=>{W.type="boolean"},gJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("BigInt cannot be represented in JSON Schema")},yJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Symbols cannot be represented in JSON Schema")},ZX=(Q,X,W,Y)=>{if(X.target==="openapi-3.0")W.type="string",W.nullable=!0,W.enum=[null];else W.type="null"},hJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Undefined cannot be represented in JSON Schema")},fJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Void cannot be represented in JSON Schema")},vX=(Q,X,W,Y)=>{W.not={}},uJ=(Q,X,W,Y)=>{},kX=(Q,X,W,Y)=>{},lJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Date cannot be represented in JSON Schema")},_X=(Q,X,W,Y)=>{let $=Q._zod.def,J=l6($.entries);if(J.every((G)=>typeof G==="number"))W.type="number";if(J.every((G)=>typeof G==="string"))W.type="string";W.enum=J},xX=(Q,X,W,Y)=>{let $=Q._zod.def,J=[];for(let G of $.values)if(G===void 0){if(X.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof G==="bigint")if(X.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");else J.push(Number(G));else J.push(G);if(J.length===0);else if(J.length===1){let G=J[0];if(W.type=G===null?"null":typeof G,X.target==="draft-04"||X.target==="openapi-3.0")W.enum=[G];else W.const=G}else{if(J.every((G)=>typeof G==="number"))W.type="number";if(J.every((G)=>typeof G==="string"))W.type="string";if(J.every((G)=>typeof G==="boolean"))W.type="boolean";if(J.every((G)=>G===null))W.type="null";W.enum=J}},mJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("NaN cannot be represented in JSON Schema")},cJ=(Q,X,W,Y)=>{let $=W,J=Q._zod.pattern;if(!J)throw Error("Pattern not found in template literal");$.type="string",$.pattern=J.source},pJ=(Q,X,W,Y)=>{let $=W,J={type:"string",format:"binary",contentEncoding:"binary"},{minimum:G,maximum:H,mime:z}=Q._zod.bag;if(G!==void 0)J.minLength=G;if(H!==void 0)J.maxLength=H;if(z)if(z.length===1)J.contentMediaType=z[0],Object.assign($,J);else $.anyOf=z.map((B)=>{return{...J,contentMediaType:B}});else Object.assign($,J)},dJ=(Q,X,W,Y)=>{W.type="boolean"},gX=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")},iJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Function types cannot be represented in JSON Schema")},yX=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")},nJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Map cannot be represented in JSON Schema")},rJ=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Set cannot be represented in JSON Schema")},hX=(Q,X,W,Y)=>{let $=W,J=Q._zod.def,{minimum:G,maximum:H}=Q._zod.bag;if(typeof G==="number")$.minItems=G;if(typeof H==="number")$.maxItems=H;$.type="array",$.items=X0(J.element,X,{...Y,path:[...Y.path,"items"]})},fX=(Q,X,W,Y)=>{let $=W,J=Q._zod.def;$.type="object",$.properties={};let G=J.shape;for(let B in G)$.properties[B]=X0(G[B],X,{...Y,path:[...Y.path,"properties",B]});let H=new Set(Object.keys(G)),z=new Set([...H].filter((B)=>{let A=J.shape[B]._zod;if(X.io==="input")return A.optin===void 0;else return A.optout===void 0}));if(z.size>0)$.required=Array.from(z);if(J.catchall?._zod.def.type==="never")$.additionalProperties=!1;else if(!J.catchall){if(X.io==="output")$.additionalProperties=!1}else if(J.catchall)$.additionalProperties=X0(J.catchall,X,{...Y,path:[...Y.path,"additionalProperties"]})},uX=(Q,X,W,Y)=>{let $=Q._zod.def,J=$.inclusive===!1,G=$.options.map((H,z)=>X0(H,X,{...Y,path:[...Y.path,J?"oneOf":"anyOf",z]}));if(J)W.oneOf=G;else W.anyOf=G},lX=(Q,X,W,Y)=>{let $=Q._zod.def,J=X0($.left,X,{...Y,path:[...Y.path,"allOf",0]}),G=X0($.right,X,{...Y,path:[...Y.path,"allOf",1]}),H=(B)=>("allOf"in B)&&Object.keys(B).length===1,z=[...H(J)?J.allOf:[J],...H(G)?G.allOf:[G]];W.allOf=z},oJ=(Q,X,W,Y)=>{let $=W,J=Q._zod.def;$.type="array";let G=X.target==="draft-2020-12"?"prefixItems":"items",H=X.target==="draft-2020-12"?"items":X.target==="openapi-3.0"?"items":"additionalItems",z=J.items.map((q,V)=>X0(q,X,{...Y,path:[...Y.path,G,V]})),B=J.rest?X0(J.rest,X,{...Y,path:[...Y.path,H,...X.target==="openapi-3.0"?[J.items.length]:[]]}):null;if(X.target==="draft-2020-12"){if($.prefixItems=z,B)$.items=B}else if(X.target==="openapi-3.0"){if($.items={anyOf:z},B)$.items.anyOf.push(B);if($.minItems=z.length,!B)$.maxItems=z.length}else if($.items=z,B)$.additionalItems=B;let{minimum:A,maximum:K}=Q._zod.bag;if(typeof A==="number")$.minItems=A;if(typeof K==="number")$.maxItems=K},mX=(Q,X,W,Y)=>{let $=W,J=Q._zod.def;if($.type="object",X.target==="draft-07"||X.target==="draft-2020-12")$.propertyNames=X0(J.keyType,X,{...Y,path:[...Y.path,"propertyNames"]});$.additionalProperties=X0(J.valueType,X,{...Y,path:[...Y.path,"additionalProperties"]})},cX=(Q,X,W,Y)=>{let $=Q._zod.def,J=X0($.innerType,X,Y),G=X.seen.get(Q);if(X.target==="openapi-3.0")G.ref=$.innerType,W.nullable=!0;else W.anyOf=[J,{type:"null"}]},pX=(Q,X,W,Y)=>{let $=Q._zod.def;X0($.innerType,X,Y);let J=X.seen.get(Q);J.ref=$.innerType},dX=(Q,X,W,Y)=>{let $=Q._zod.def;X0($.innerType,X,Y);let J=X.seen.get(Q);J.ref=$.innerType,W.default=JSON.parse(JSON.stringify($.defaultValue))},iX=(Q,X,W,Y)=>{let $=Q._zod.def;X0($.innerType,X,Y);let J=X.seen.get(Q);if(J.ref=$.innerType,X.io==="input")W._prefault=JSON.parse(JSON.stringify($.defaultValue))},nX=(Q,X,W,Y)=>{let $=Q._zod.def;X0($.innerType,X,Y);let J=X.seen.get(Q);J.ref=$.innerType;let G;try{G=$.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}W.default=G},rX=(Q,X,W,Y)=>{let $=Q._zod.def,J=X.io==="input"?$.in._zod.def.type==="transform"?$.out:$.in:$.out;X0(J,X,Y);let G=X.seen.get(Q);G.ref=J},oX=(Q,X,W,Y)=>{let $=Q._zod.def;X0($.innerType,X,Y);let J=X.seen.get(Q);J.ref=$.innerType,W.readOnly=!0},tJ=(Q,X,W,Y)=>{let $=Q._zod.def;X0($.innerType,X,Y);let J=X.seen.get(Q);J.ref=$.innerType},tX=(Q,X,W,Y)=>{let $=Q._zod.def;X0($.innerType,X,Y);let J=X.seen.get(Q);J.ref=$.innerType},aJ=(Q,X,W,Y)=>{let $=Q._zod.innerType;X0($,X,Y);let J=X.seen.get(Q);J.ref=$},xJ={string:PX,number:CX,boolean:TX,bigint:gJ,symbol:yJ,null:ZX,undefined:hJ,void:fJ,never:vX,any:uJ,unknown:kX,date:lJ,enum:_X,literal:xX,nan:mJ,template_literal:cJ,file:pJ,success:dJ,custom:gX,function:iJ,transform:yX,map:nJ,set:rJ,array:hX,object:fX,union:uX,intersection:lX,tuple:oJ,record:mX,nullable:cX,nonoptional:pX,default:dX,prefault:iX,catch:nX,pipe:rX,readonly:oX,promise:tJ,optional:tX,lazy:aJ};function aX(Q,X){if("_idmap"in Q){let Y=Q,$=W4({...X,processors:xJ}),J={};for(let z of Y._idmap.entries()){let[B,A]=z;X0(A,$)}let G={},H={registry:Y,uri:X?.uri,defs:J};$.external=H;for(let z of Y._idmap.entries()){let[B,A]=z;Y4($,A),G[B]=$4($,A)}if(Object.keys(J).length>0){let z=$.target==="draft-2020-12"?"$defs":"definitions";G.__shared={[z]:J}}return{schemas:G}}let W=W4({...X,processors:xJ});return X0(Q,W),Y4(W,Q),$4(W,Q)}var LK=L("ZodMiniType",(Q,X)=>{if(!Q._zod)throw Error("Uninitialized schema in ZodMiniType.");s.init(Q,X),Q.def=X,Q.type=X.type,Q.parse=(W,Y)=>X9(Q,W,Y,{callee:Q.parse}),Q.safeParse=(W,Y)=>l1(Q,W,Y),Q.parseAsync=async(W,Y)=>W9(Q,W,Y,{callee:Q.parseAsync}),Q.safeParseAsync=async(W,Y)=>m1(Q,W,Y),Q.check=(...W)=>{return Q.clone({...X,checks:[...X.checks??[],...W.map((Y)=>typeof Y==="function"?{_zod:{check:Y,def:{check:"custom"},onattach:[]}}:Y)]})},Q.clone=(W,Y)=>v0(Q,W,Y),Q.brand=()=>Q,Q.register=(W,Y)=>{return W.add(Q,Y),Q}});var VK=L("ZodMiniObject",(Q,X)=>{b8.init(Q,X),LK.init(Q,X),p.defineLazy(Q,"shape",()=>X.shape)});function sX(Q,X){let W={type:"object",shape:Q??{},...p.normalizeParams(X)};return new VK(W)}function g0(Q){return!!Q._zod}function d1(Q){let X=Object.values(Q);if(X.length===0)return sX({});let W=X.every(g0),Y=X.every(($)=>!g0($));if(W)return sX(Q);if(Y)return W$(Q);throw Error("Mixed Zod versions detected in object shape.")}function I1(Q,X){if(g0(Q))return l1(Q,X);return Q.safeParse(X)}async function D9(Q,X){if(g0(Q))return await m1(Q,X);return await Q.safeParseAsync(X)}function S1(Q){if(!Q)return;let X;if(g0(Q))X=Q._zod?.def?.shape;else X=Q.shape;if(!X)return;if(typeof X==="function")try{return X()}catch{return}return X}function z6(Q){if(!Q)return;if(typeof Q==="object"){let X=Q,W=Q;if(!X._def&&!W._zod){let Y=Object.values(Q);if(Y.length>0&&Y.every(($)=>typeof $==="object"&&$!==null&&($._def!==void 0||$._zod!==void 0||typeof $.parse==="function")))return d1(Q)}}if(g0(Q)){let W=Q._zod?.def;if(W&&(W.type==="object"||W.shape!==void 0))return Q}else if(Q.shape!==void 0)return Q;return}function L9(Q){if(Q&&typeof Q==="object"){if("message"in Q&&typeof Q.message==="string")return Q.message;if("issues"in Q&&Array.isArray(Q.issues)&&Q.issues.length>0){let X=Q.issues[0];if(X&&typeof X==="object"&&"message"in X)return String(X.message)}try{return JSON.stringify(Q)}catch{return String(Q)}}return String(Q)}function eJ(Q){return Q.description}function QG(Q){if(g0(Q))return Q._zod?.def?.type==="optional";let X=Q;if(typeof Q.isOptional==="function")return Q.isOptional();return X._def?.typeName==="ZodOptional"}function V9(Q){if(g0(Q)){let J=Q._zod?.def;if(J){if(J.value!==void 0)return J.value;if(Array.isArray(J.values)&&J.values.length>0)return J.values[0]}}let W=Q._def;if(W){if(W.value!==void 0)return W.value;if(Array.isArray(W.values)&&W.values.length>0)return W.values[0]}let Y=Q.value;if(Y!==void 0)return Y;return}var J4={};tY(J4,{time:()=>XW,duration:()=>WW,datetime:()=>eX,date:()=>QW,ZodISOTime:()=>YG,ZodISODuration:()=>$G,ZodISODateTime:()=>XG,ZodISODate:()=>WG});var XG=L("ZodISODateTime",(Q,X)=>{NJ.init(Q,X),$0.init(Q,X)});function eX(Q){return CJ(XG,Q)}var WG=L("ZodISODate",(Q,X)=>{wJ.init(Q,X),$0.init(Q,X)});function QW(Q){return TJ(WG,Q)}var YG=L("ZodISOTime",(Q,X)=>{MJ.init(Q,X),$0.init(Q,X)});function XW(Q){return ZJ(YG,Q)}var $G=L("ZodISODuration",(Q,X)=>{EJ.init(Q,X),$0.init(Q,X)});function WW(Q){return vJ($G,Q)}var JG=(Q,X)=>{Q9.init(Q,X),Q.name="ZodError",Object.defineProperties(Q,{format:{value:(W)=>D$(Q,W)},flatten:{value:(W)=>q$(Q,W)},addIssue:{value:(W)=>{Q.issues.push(W),Q.message=JSON.stringify(Q.issues,$6,2)}},addIssues:{value:(W)=>{Q.issues.push(...W),Q.message=JSON.stringify(Q.issues,$6,2)}},isEmpty:{get(){return Q.issues.length===0}}})},Ij=L("ZodError",JG),k0=L("ZodError",JG,{Parent:Error});var GG=i6(k0),HG=n6(k0),zG=r6(k0),BG=o6(k0),AG=L$(k0),KG=V$(k0),qG=U$(k0),DG=F$(k0),LG=O$(k0),VG=N$(k0),UG=w$(k0),FG=M$(k0);var B0=L("ZodType",(Q,X)=>{return s.init(Q,X),Object.assign(Q["~standard"],{jsonSchema:{input:X4(Q,"input"),output:X4(Q,"output")}}),Q.toJSONSchema=_J(Q,{}),Q.def=X,Q.type=X.type,Object.defineProperty(Q,"_def",{value:X}),Q.check=(...W)=>{return Q.clone(p.mergeDefs(X,{checks:[...X.checks??[],...W.map((Y)=>typeof Y==="function"?{_zod:{check:Y,def:{check:"custom"},onattach:[]}}:Y)]}))},Q.clone=(W,Y)=>v0(Q,W,Y),Q.brand=()=>Q,Q.register=(W,Y)=>{return W.add(Q,Y),Q},Q.parse=(W,Y)=>GG(Q,W,Y,{callee:Q.parse}),Q.safeParse=(W,Y)=>zG(Q,W,Y),Q.parseAsync=async(W,Y)=>HG(Q,W,Y,{callee:Q.parseAsync}),Q.safeParseAsync=async(W,Y)=>BG(Q,W,Y),Q.spa=Q.safeParseAsync,Q.encode=(W,Y)=>AG(Q,W,Y),Q.decode=(W,Y)=>KG(Q,W,Y),Q.encodeAsync=async(W,Y)=>qG(Q,W,Y),Q.decodeAsync=async(W,Y)=>DG(Q,W,Y),Q.safeEncode=(W,Y)=>LG(Q,W,Y),Q.safeDecode=(W,Y)=>VG(Q,W,Y),Q.safeEncodeAsync=async(W,Y)=>UG(Q,W,Y),Q.safeDecodeAsync=async(W,Y)=>FG(Q,W,Y),Q.refine=(W,Y)=>Q.check(Kq(W,Y)),Q.superRefine=(W)=>Q.check(qq(W)),Q.overwrite=(W)=>Q.check(j1(W)),Q.optional=()=>z0(Q),Q.nullable=()=>wG(Q),Q.nullish=()=>z0(wG(Q)),Q.nonoptional=(W)=>Jq(Q,W),Q.array=()=>d(Q),Q.or=(W)=>W0([Q,W]),Q.and=(W)=>F9(Q,W),Q.transform=(W)=>$W(Q,IG(W)),Q.default=(W)=>Wq(Q,W),Q.prefault=(W)=>$q(Q,W),Q.catch=(W)=>Hq(Q,W),Q.pipe=(W)=>$W(Q,W),Q.readonly=()=>Aq(Q),Q.describe=(W)=>{let Y=Q.clone();return c1.add(Y,{description:W}),Y},Object.defineProperty(Q,"description",{get(){return c1.get(Q)?.description},configurable:!0}),Q.meta=(...W)=>{if(W.length===0)return c1.get(Q);let Y=Q.clone();return c1.add(Y,W[0]),Y},Q.isOptional=()=>Q.safeParse(void 0).success,Q.isNullable=()=>Q.safeParse(null).success,Q}),MG=L("_ZodString",(Q,X)=>{s6.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(Y,$,J)=>PX(Q,Y,$,J);let W=Q._zod.bag;Q.format=W.format??null,Q.minLength=W.minimum??null,Q.maxLength=W.maximum??null,Q.regex=(...Y)=>Q.check(LX(...Y)),Q.includes=(...Y)=>Q.check(FX(...Y)),Q.startsWith=(...Y)=>Q.check(OX(...Y)),Q.endsWith=(...Y)=>Q.check(NX(...Y)),Q.min=(...Y)=>Q.check(H6(...Y)),Q.max=(...Y)=>Q.check(K9(...Y)),Q.length=(...Y)=>Q.check(q9(...Y)),Q.nonempty=(...Y)=>Q.check(H6(1,...Y)),Q.lowercase=(Y)=>Q.check(VX(Y)),Q.uppercase=(Y)=>Q.check(UX(Y)),Q.trim=()=>Q.check(MX()),Q.normalize=(...Y)=>Q.check(wX(...Y)),Q.toLowerCase=()=>Q.check(EX()),Q.toUpperCase=()=>Q.check(bX()),Q.slugify=()=>Q.check(jX())}),jK=L("ZodString",(Q,X)=>{s6.init(Q,X),MG.init(Q,X),Q.email=(W)=>Q.check(l8(IK,W)),Q.url=(W)=>Q.check(i8(SK,W)),Q.jwt=(W)=>Q.check(HX(lK,W)),Q.emoji=(W)=>Q.check(n8(RK,W)),Q.guid=(W)=>Q.check(H9(OG,W)),Q.uuid=(W)=>Q.check(m8(U9,W)),Q.uuidv4=(W)=>Q.check(c8(U9,W)),Q.uuidv6=(W)=>Q.check(p8(U9,W)),Q.uuidv7=(W)=>Q.check(d8(U9,W)),Q.nanoid=(W)=>Q.check(r8(PK,W)),Q.guid=(W)=>Q.check(H9(OG,W)),Q.cuid=(W)=>Q.check(o8(CK,W)),Q.cuid2=(W)=>Q.check(t8(TK,W)),Q.ulid=(W)=>Q.check(a8(ZK,W)),Q.base64=(W)=>Q.check($X(hK,W)),Q.base64url=(W)=>Q.check(JX(fK,W)),Q.xid=(W)=>Q.check(s8(vK,W)),Q.ksuid=(W)=>Q.check(e8(kK,W)),Q.ipv4=(W)=>Q.check(QX(_K,W)),Q.ipv6=(W)=>Q.check(XX(xK,W)),Q.cidrv4=(W)=>Q.check(WX(gK,W)),Q.cidrv6=(W)=>Q.check(YX(yK,W)),Q.e164=(W)=>Q.check(GX(uK,W)),Q.datetime=(W)=>Q.check(eX(W)),Q.date=(W)=>Q.check(QW(W)),Q.time=(W)=>Q.check(XW(W)),Q.duration=(W)=>Q.check(WW(W))});function D(Q){return u8(jK,Q)}var $0=L("ZodStringFormat",(Q,X)=>{Q0.init(Q,X),MG.init(Q,X)}),IK=L("ZodEmail",(Q,X)=>{Q8.init(Q,X),$0.init(Q,X)});var OG=L("ZodGUID",(Q,X)=>{sQ.init(Q,X),$0.init(Q,X)});var U9=L("ZodUUID",(Q,X)=>{eQ.init(Q,X),$0.init(Q,X)});var SK=L("ZodURL",(Q,X)=>{X8.init(Q,X),$0.init(Q,X)});var RK=L("ZodEmoji",(Q,X)=>{W8.init(Q,X),$0.init(Q,X)});var PK=L("ZodNanoID",(Q,X)=>{Y8.init(Q,X),$0.init(Q,X)});var CK=L("ZodCUID",(Q,X)=>{$8.init(Q,X),$0.init(Q,X)});var TK=L("ZodCUID2",(Q,X)=>{J8.init(Q,X),$0.init(Q,X)});var ZK=L("ZodULID",(Q,X)=>{G8.init(Q,X),$0.init(Q,X)});var vK=L("ZodXID",(Q,X)=>{H8.init(Q,X),$0.init(Q,X)});var kK=L("ZodKSUID",(Q,X)=>{z8.init(Q,X),$0.init(Q,X)});var _K=L("ZodIPv4",(Q,X)=>{B8.init(Q,X),$0.init(Q,X)});var xK=L("ZodIPv6",(Q,X)=>{A8.init(Q,X),$0.init(Q,X)});var gK=L("ZodCIDRv4",(Q,X)=>{K8.init(Q,X),$0.init(Q,X)});var yK=L("ZodCIDRv6",(Q,X)=>{q8.init(Q,X),$0.init(Q,X)});var hK=L("ZodBase64",(Q,X)=>{D8.init(Q,X),$0.init(Q,X)});var fK=L("ZodBase64URL",(Q,X)=>{L8.init(Q,X),$0.init(Q,X)});var uK=L("ZodE164",(Q,X)=>{V8.init(Q,X),$0.init(Q,X)});var lK=L("ZodJWT",(Q,X)=>{U8.init(Q,X),$0.init(Q,X)});var EG=L("ZodNumber",(Q,X)=>{J9.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(Y,$,J)=>CX(Q,Y,$,J),Q.gt=(Y,$)=>Q.check(B9(Y,$)),Q.gte=(Y,$)=>Q.check(Q4(Y,$)),Q.min=(Y,$)=>Q.check(Q4(Y,$)),Q.lt=(Y,$)=>Q.check(z9(Y,$)),Q.lte=(Y,$)=>Q.check(e6(Y,$)),Q.max=(Y,$)=>Q.check(e6(Y,$)),Q.int=(Y)=>Q.check(NG(Y)),Q.safe=(Y)=>Q.check(NG(Y)),Q.positive=(Y)=>Q.check(B9(0,Y)),Q.nonnegative=(Y)=>Q.check(Q4(0,Y)),Q.negative=(Y)=>Q.check(z9(0,Y)),Q.nonpositive=(Y)=>Q.check(e6(0,Y)),Q.multipleOf=(Y,$)=>Q.check(A9(Y,$)),Q.step=(Y,$)=>Q.check(A9(Y,$)),Q.finite=()=>Q;let W=Q._zod.bag;Q.minValue=Math.max(W.minimum??Number.NEGATIVE_INFINITY,W.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,Q.maxValue=Math.min(W.maximum??Number.POSITIVE_INFINITY,W.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,Q.isInt=(W.format??"").includes("int")||Number.isSafeInteger(W.multipleOf??0.5),Q.isFinite=!0,Q.format=W.format??null});function t(Q){return zX(EG,Q)}var mK=L("ZodNumberFormat",(Q,X)=>{F8.init(Q,X),EG.init(Q,X)});function NG(Q){return BX(mK,Q)}var cK=L("ZodBoolean",(Q,X)=>{O8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>TX(Q,W,Y,$)});function D0(Q){return AX(cK,Q)}var pK=L("ZodNull",(Q,X)=>{N8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>ZX(Q,W,Y,$)});function JW(Q){return KX(pK,Q)}var dK=L("ZodUnknown",(Q,X)=>{w8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>kX(Q,W,Y,$)});function J0(){return qX(dK)}var iK=L("ZodNever",(Q,X)=>{M8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>vX(Q,W,Y,$)});function nK(Q){return DX(iK,Q)}var rK=L("ZodArray",(Q,X)=>{E8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>hX(Q,W,Y,$),Q.element=X.element,Q.min=(W,Y)=>Q.check(H6(W,Y)),Q.nonempty=(W)=>Q.check(H6(1,W)),Q.max=(W,Y)=>Q.check(K9(W,Y)),Q.length=(W,Y)=>Q.check(q9(W,Y)),Q.unwrap=()=>Q.element});function d(Q,X){return kJ(rK,Q,X)}var bG=L("ZodObject",(Q,X)=>{SJ.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>fX(Q,W,Y,$),p.defineLazy(Q,"shape",()=>{return X.shape}),Q.keyof=()=>S0(Object.keys(Q._zod.def.shape)),Q.catchall=(W)=>Q.clone({...Q._zod.def,catchall:W}),Q.passthrough=()=>Q.clone({...Q._zod.def,catchall:J0()}),Q.loose=()=>Q.clone({...Q._zod.def,catchall:J0()}),Q.strict=()=>Q.clone({...Q._zod.def,catchall:nK()}),Q.strip=()=>Q.clone({...Q._zod.def,catchall:void 0}),Q.extend=(W)=>{return p.extend(Q,W)},Q.safeExtend=(W)=>{return p.safeExtend(Q,W)},Q.merge=(W)=>p.merge(Q,W),Q.pick=(W)=>p.pick(Q,W),Q.omit=(W)=>p.omit(Q,W),Q.partial=(...W)=>p.partial(O9,Q,W[0]),Q.required=(...W)=>p.required(SG,Q,W[0])});function I(Q,X){let W={type:"object",shape:Q??{},...p.normalizeParams(X)};return new bG(W)}function E0(Q,X){return new bG({type:"object",shape:Q,catchall:J0(),...p.normalizeParams(X)})}var jG=L("ZodUnion",(Q,X)=>{G9.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>uX(Q,W,Y,$),Q.options=X.options});function W0(Q,X){return new jG({type:"union",options:Q,...p.normalizeParams(X)})}var oK=L("ZodDiscriminatedUnion",(Q,X)=>{jG.init(Q,X),j8.init(Q,X)});function GW(Q,X,W){return new oK({type:"union",options:X,discriminator:Q,...p.normalizeParams(W)})}var tK=L("ZodIntersection",(Q,X)=>{I8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>lX(Q,W,Y,$)});function F9(Q,X){return new tK({type:"intersection",left:Q,right:X})}var aK=L("ZodRecord",(Q,X)=>{S8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>mX(Q,W,Y,$),Q.keyType=X.keyType,Q.valueType=X.valueType});function G0(Q,X,W){return new aK({type:"record",keyType:Q,valueType:X,...p.normalizeParams(W)})}var YW=L("ZodEnum",(Q,X)=>{R8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(Y,$,J)=>_X(Q,Y,$,J),Q.enum=X.entries,Q.options=Object.values(X.entries);let W=new Set(Object.keys(X.entries));Q.extract=(Y,$)=>{let J={};for(let G of Y)if(W.has(G))J[G]=X.entries[G];else throw Error(`Key ${G} not found in enum`);return new YW({...X,checks:[],...p.normalizeParams($),entries:J})},Q.exclude=(Y,$)=>{let J={...X.entries};for(let G of Y)if(W.has(G))delete J[G];else throw Error(`Key ${G} not found in enum`);return new YW({...X,checks:[],...p.normalizeParams($),entries:J})}});function S0(Q,X){let W=Array.isArray(Q)?Object.fromEntries(Q.map((Y)=>[Y,Y])):Q;return new YW({type:"enum",entries:W,...p.normalizeParams(X)})}var sK=L("ZodLiteral",(Q,X)=>{P8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>xX(Q,W,Y,$),Q.values=new Set(X.values),Object.defineProperty(Q,"value",{get(){if(X.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return X.values[0]}})});function P(Q,X){return new sK({type:"literal",values:Array.isArray(Q)?Q:[Q],...p.normalizeParams(X)})}var eK=L("ZodTransform",(Q,X)=>{C8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>yX(Q,W,Y,$),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")throw new f6(Q.constructor.name);W.addIssue=(J)=>{if(typeof J==="string")W.issues.push(p.issue(J,W.value,X));else{let G=J;if(G.fatal)G.continue=!1;G.code??(G.code="custom"),G.input??(G.input=W.value),G.inst??(G.inst=Q),W.issues.push(p.issue(G))}};let $=X.transform(W.value,W);if($ instanceof Promise)return $.then((J)=>{return W.value=J,W});return W.value=$,W}});function IG(Q){return new eK({type:"transform",transform:Q})}var O9=L("ZodOptional",(Q,X)=>{T8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>tX(Q,W,Y,$),Q.unwrap=()=>Q._zod.def.innerType});function z0(Q){return new O9({type:"optional",innerType:Q})}var Qq=L("ZodNullable",(Q,X)=>{Z8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>cX(Q,W,Y,$),Q.unwrap=()=>Q._zod.def.innerType});function wG(Q){return new Qq({type:"nullable",innerType:Q})}var Xq=L("ZodDefault",(Q,X)=>{v8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>dX(Q,W,Y,$),Q.unwrap=()=>Q._zod.def.innerType,Q.removeDefault=Q.unwrap});function Wq(Q,X){return new Xq({type:"default",innerType:Q,get defaultValue(){return typeof X==="function"?X():p.shallowClone(X)}})}var Yq=L("ZodPrefault",(Q,X)=>{k8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>iX(Q,W,Y,$),Q.unwrap=()=>Q._zod.def.innerType});function $q(Q,X){return new Yq({type:"prefault",innerType:Q,get defaultValue(){return typeof X==="function"?X():p.shallowClone(X)}})}var SG=L("ZodNonOptional",(Q,X)=>{_8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>pX(Q,W,Y,$),Q.unwrap=()=>Q._zod.def.innerType});function Jq(Q,X){return new SG({type:"nonoptional",innerType:Q,...p.normalizeParams(X)})}var Gq=L("ZodCatch",(Q,X)=>{x8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>nX(Q,W,Y,$),Q.unwrap=()=>Q._zod.def.innerType,Q.removeCatch=Q.unwrap});function Hq(Q,X){return new Gq({type:"catch",innerType:Q,catchValue:typeof X==="function"?X:()=>X})}var zq=L("ZodPipe",(Q,X)=>{g8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>rX(Q,W,Y,$),Q.in=X.in,Q.out=X.out});function $W(Q,X){return new zq({type:"pipe",in:Q,out:X})}var Bq=L("ZodReadonly",(Q,X)=>{y8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>oX(Q,W,Y,$),Q.unwrap=()=>Q._zod.def.innerType});function Aq(Q){return new Bq({type:"readonly",innerType:Q})}var RG=L("ZodCustom",(Q,X)=>{h8.init(Q,X),B0.init(Q,X),Q._zod.processJSONSchema=(W,Y,$)=>gX(Q,W,Y,$)});function PG(Q,X){return IX(RG,Q??(()=>!0),X)}function Kq(Q,X={}){return SX(RG,Q,X)}function qq(Q){return RX(Q)}function HW(Q,X){return $W(IG(Q),X)}x0(f8());var zW="2025-11-25";var CG=[zW,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],R1="io.modelcontextprotocol/related-task",w9="2.0",L0=PG((Q)=>Q!==null&&(typeof Q==="object"||typeof Q==="function")),TG=W0([D(),t().int()]),ZG=D(),uj=E0({ttl:W0([t(),JW()]).optional(),pollInterval:t().optional()}),Dq=I({ttl:t().optional()}),Lq=I({taskId:D()}),BW=E0({progressToken:TG.optional(),[R1]:Lq.optional()}),_0=I({_meta:BW.optional()}),G4=_0.extend({task:Dq.optional()}),vG=(Q)=>G4.safeParse(Q).success,V0=I({method:D(),params:_0.loose().optional()}),y0=I({_meta:BW.optional()}),h0=I({method:D(),params:y0.loose().optional()}),U0=E0({_meta:BW.optional()}),M9=W0([D(),t().int()]),kG=I({jsonrpc:P(w9),id:M9,...V0.shape}).strict(),AW=(Q)=>kG.safeParse(Q).success,_G=I({jsonrpc:P(w9),...h0.shape}).strict(),xG=(Q)=>_G.safeParse(Q).success,KW=I({jsonrpc:P(w9),id:M9,result:U0}).strict(),H4=(Q)=>KW.safeParse(Q).success;var T;(function(Q){Q[Q.ConnectionClosed=-32000]="ConnectionClosed",Q[Q.RequestTimeout=-32001]="RequestTimeout",Q[Q.ParseError=-32700]="ParseError",Q[Q.InvalidRequest=-32600]="InvalidRequest",Q[Q.MethodNotFound=-32601]="MethodNotFound",Q[Q.InvalidParams=-32602]="InvalidParams",Q[Q.InternalError=-32603]="InternalError",Q[Q.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(T||(T={}));var qW=I({jsonrpc:P(w9),id:M9.optional(),error:I({code:t().int(),message:D(),data:J0().optional()})}).strict();var gG=(Q)=>qW.safeParse(Q).success;var yG=W0([kG,_G,KW,qW]),lj=W0([KW,qW]),E9=U0.strict(),Vq=y0.extend({requestId:M9.optional(),reason:D().optional()}),b9=h0.extend({method:P("notifications/cancelled"),params:Vq}),Uq=I({src:D(),mimeType:D().optional(),sizes:d(D()).optional(),theme:S0(["light","dark"]).optional()}),z4=I({icons:d(Uq).optional()}),B6=I({name:D(),title:D().optional()}),hG=B6.extend({...B6.shape,...z4.shape,version:D(),websiteUrl:D().optional(),description:D().optional()}),Fq=F9(I({applyDefaults:D0().optional()}),G0(D(),J0())),Oq=HW((Q)=>{if(Q&&typeof Q==="object"&&!Array.isArray(Q)){if(Object.keys(Q).length===0)return{form:{}}}return Q},F9(I({form:Fq.optional(),url:L0.optional()}),G0(D(),J0()).optional())),Nq=E0({list:L0.optional(),cancel:L0.optional(),requests:E0({sampling:E0({createMessage:L0.optional()}).optional(),elicitation:E0({create:L0.optional()}).optional()}).optional()}),wq=E0({list:L0.optional(),cancel:L0.optional(),requests:E0({tools:E0({call:L0.optional()}).optional()}).optional()}),Mq=I({experimental:G0(D(),L0).optional(),sampling:I({context:L0.optional(),tools:L0.optional()}).optional(),elicitation:Oq.optional(),roots:I({listChanged:D0().optional()}).optional(),tasks:Nq.optional()}),Eq=_0.extend({protocolVersion:D(),capabilities:Mq,clientInfo:hG}),DW=V0.extend({method:P("initialize"),params:Eq});var bq=I({experimental:G0(D(),L0).optional(),logging:L0.optional(),completions:L0.optional(),prompts:I({listChanged:D0().optional()}).optional(),resources:I({subscribe:D0().optional(),listChanged:D0().optional()}).optional(),tools:I({listChanged:D0().optional()}).optional(),tasks:wq.optional()}),jq=U0.extend({protocolVersion:D(),capabilities:bq,serverInfo:hG,instructions:D().optional()}),LW=h0.extend({method:P("notifications/initialized"),params:y0.optional()});var j9=V0.extend({method:P("ping"),params:_0.optional()}),Iq=I({progress:t(),total:z0(t()),message:z0(D())}),Sq=I({...y0.shape,...Iq.shape,progressToken:TG}),I9=h0.extend({method:P("notifications/progress"),params:Sq}),Rq=_0.extend({cursor:ZG.optional()}),B4=V0.extend({params:Rq.optional()}),A4=U0.extend({nextCursor:ZG.optional()}),Pq=S0(["working","input_required","completed","failed","cancelled"]),K4=I({taskId:D(),status:Pq,ttl:W0([t(),JW()]),createdAt:D(),lastUpdatedAt:D(),pollInterval:z0(t()),statusMessage:z0(D())}),A6=U0.extend({task:K4}),Cq=y0.merge(K4),q4=h0.extend({method:P("notifications/tasks/status"),params:Cq}),S9=V0.extend({method:P("tasks/get"),params:_0.extend({taskId:D()})}),R9=U0.merge(K4),P9=V0.extend({method:P("tasks/result"),params:_0.extend({taskId:D()})}),mj=U0.loose(),C9=B4.extend({method:P("tasks/list")}),T9=A4.extend({tasks:d(K4)}),Z9=V0.extend({method:P("tasks/cancel"),params:_0.extend({taskId:D()})}),fG=U0.merge(K4),uG=I({uri:D(),mimeType:z0(D()),_meta:G0(D(),J0()).optional()}),lG=uG.extend({text:D()}),VW=D().refine((Q)=>{try{return atob(Q),!0}catch{return!1}},{message:"Invalid Base64 string"}),mG=uG.extend({blob:VW}),D4=S0(["user","assistant"]),K6=I({audience:d(D4).optional(),priority:t().min(0).max(1).optional(),lastModified:J4.datetime({offset:!0}).optional()}),cG=I({...B6.shape,...z4.shape,uri:D(),description:z0(D()),mimeType:z0(D()),annotations:K6.optional(),_meta:z0(E0({}))}),Tq=I({...B6.shape,...z4.shape,uriTemplate:D(),description:z0(D()),mimeType:z0(D()),annotations:K6.optional(),_meta:z0(E0({}))}),v9=B4.extend({method:P("resources/list")}),Zq=A4.extend({resources:d(cG)}),k9=B4.extend({method:P("resources/templates/list")}),vq=A4.extend({resourceTemplates:d(Tq)}),UW=_0.extend({uri:D()}),kq=UW,_9=V0.extend({method:P("resources/read"),params:kq}),_q=U0.extend({contents:d(W0([lG,mG]))}),xq=h0.extend({method:P("notifications/resources/list_changed"),params:y0.optional()}),gq=UW,yq=V0.extend({method:P("resources/subscribe"),params:gq}),hq=UW,fq=V0.extend({method:P("resources/unsubscribe"),params:hq}),uq=y0.extend({uri:D()}),lq=h0.extend({method:P("notifications/resources/updated"),params:uq}),mq=I({name:D(),description:z0(D()),required:z0(D0())}),cq=I({...B6.shape,...z4.shape,description:z0(D()),arguments:z0(d(mq)),_meta:z0(E0({}))}),x9=B4.extend({method:P("prompts/list")}),pq=A4.extend({prompts:d(cq)}),dq=_0.extend({name:D(),arguments:G0(D(),D()).optional()}),g9=V0.extend({method:P("prompts/get"),params:dq}),FW=I({type:P("text"),text:D(),annotations:K6.optional(),_meta:G0(D(),J0()).optional()}),OW=I({type:P("image"),data:VW,mimeType:D(),annotations:K6.optional(),_meta:G0(D(),J0()).optional()}),NW=I({type:P("audio"),data:VW,mimeType:D(),annotations:K6.optional(),_meta:G0(D(),J0()).optional()}),iq=I({type:P("tool_use"),name:D(),id:D(),input:G0(D(),J0()),_meta:G0(D(),J0()).optional()}),nq=I({type:P("resource"),resource:W0([lG,mG]),annotations:K6.optional(),_meta:G0(D(),J0()).optional()}),rq=cG.extend({type:P("resource_link")}),wW=W0([FW,OW,NW,rq,nq]),oq=I({role:D4,content:wW}),tq=U0.extend({description:D().optional(),messages:d(oq)}),aq=h0.extend({method:P("notifications/prompts/list_changed"),params:y0.optional()}),sq=I({title:D().optional(),readOnlyHint:D0().optional(),destructiveHint:D0().optional(),idempotentHint:D0().optional(),openWorldHint:D0().optional()}),eq=I({taskSupport:S0(["required","optional","forbidden"]).optional()}),pG=I({...B6.shape,...z4.shape,description:D().optional(),inputSchema:I({type:P("object"),properties:G0(D(),L0).optional(),required:d(D()).optional()}).catchall(J0()),outputSchema:I({type:P("object"),properties:G0(D(),L0).optional(),required:d(D()).optional()}).catchall(J0()).optional(),annotations:sq.optional(),execution:eq.optional(),_meta:G0(D(),J0()).optional()}),y9=B4.extend({method:P("tools/list")}),QD=A4.extend({tools:d(pG)}),h9=U0.extend({content:d(wW).default([]),structuredContent:G0(D(),J0()).optional(),isError:D0().optional()}),cj=h9.or(U0.extend({toolResult:J0()})),XD=G4.extend({name:D(),arguments:G0(D(),J0()).optional()}),q6=V0.extend({method:P("tools/call"),params:XD}),WD=h0.extend({method:P("notifications/tools/list_changed"),params:y0.optional()}),pj=I({autoRefresh:D0().default(!0),debounceMs:t().int().nonnegative().default(300)}),L4=S0(["debug","info","notice","warning","error","critical","alert","emergency"]),YD=_0.extend({level:L4}),MW=V0.extend({method:P("logging/setLevel"),params:YD}),$D=y0.extend({level:L4,logger:D().optional(),data:J0()}),JD=h0.extend({method:P("notifications/message"),params:$D}),GD=I({name:D().optional()}),HD=I({hints:d(GD).optional(),costPriority:t().min(0).max(1).optional(),speedPriority:t().min(0).max(1).optional(),intelligencePriority:t().min(0).max(1).optional()}),zD=I({mode:S0(["auto","required","none"]).optional()}),BD=I({type:P("tool_result"),toolUseId:D().describe("The unique identifier for the corresponding tool call."),content:d(wW).default([]),structuredContent:I({}).loose().optional(),isError:D0().optional(),_meta:G0(D(),J0()).optional()}),AD=GW("type",[FW,OW,NW]),N9=GW("type",[FW,OW,NW,iq,BD]),KD=I({role:D4,content:W0([N9,d(N9)]),_meta:G0(D(),J0()).optional()}),qD=G4.extend({messages:d(KD),modelPreferences:HD.optional(),systemPrompt:D().optional(),includeContext:S0(["none","thisServer","allServers"]).optional(),temperature:t().optional(),maxTokens:t().int(),stopSequences:d(D()).optional(),metadata:L0.optional(),tools:d(pG).optional(),toolChoice:zD.optional()}),DD=V0.extend({method:P("sampling/createMessage"),params:qD}),EW=U0.extend({model:D(),stopReason:z0(S0(["endTurn","stopSequence","maxTokens"]).or(D())),role:D4,content:AD}),bW=U0.extend({model:D(),stopReason:z0(S0(["endTurn","stopSequence","maxTokens","toolUse"]).or(D())),role:D4,content:W0([N9,d(N9)])}),LD=I({type:P("boolean"),title:D().optional(),description:D().optional(),default:D0().optional()}),VD=I({type:P("string"),title:D().optional(),description:D().optional(),minLength:t().optional(),maxLength:t().optional(),format:S0(["email","uri","date","date-time"]).optional(),default:D().optional()}),UD=I({type:S0(["number","integer"]),title:D().optional(),description:D().optional(),minimum:t().optional(),maximum:t().optional(),default:t().optional()}),FD=I({type:P("string"),title:D().optional(),description:D().optional(),enum:d(D()),default:D().optional()}),OD=I({type:P("string"),title:D().optional(),description:D().optional(),oneOf:d(I({const:D(),title:D()})),default:D().optional()}),ND=I({type:P("string"),title:D().optional(),description:D().optional(),enum:d(D()),enumNames:d(D()).optional(),default:D().optional()}),wD=W0([FD,OD]),MD=I({type:P("array"),title:D().optional(),description:D().optional(),minItems:t().optional(),maxItems:t().optional(),items:I({type:P("string"),enum:d(D())}),default:d(D()).optional()}),ED=I({type:P("array"),title:D().optional(),description:D().optional(),minItems:t().optional(),maxItems:t().optional(),items:I({anyOf:d(I({const:D(),title:D()}))}),default:d(D()).optional()}),bD=W0([MD,ED]),jD=W0([ND,wD,bD]),ID=W0([jD,LD,VD,UD]),SD=G4.extend({mode:P("form").optional(),message:D(),requestedSchema:I({type:P("object"),properties:G0(D(),ID),required:d(D()).optional()})}),RD=G4.extend({mode:P("url"),message:D(),elicitationId:D(),url:D().url()}),PD=W0([SD,RD]),CD=V0.extend({method:P("elicitation/create"),params:PD}),TD=y0.extend({elicitationId:D()}),ZD=h0.extend({method:P("notifications/elicitation/complete"),params:TD}),f9=U0.extend({action:S0(["accept","decline","cancel"]),content:HW((Q)=>Q===null?void 0:Q,G0(D(),W0([D(),t(),D0(),d(D())])).optional())}),vD=I({type:P("ref/resource"),uri:D()});var kD=I({type:P("ref/prompt"),name:D()}),_D=_0.extend({ref:W0([kD,vD]),argument:I({name:D(),value:D()}),context:I({arguments:G0(D(),D()).optional()}).optional()}),u9=V0.extend({method:P("completion/complete"),params:_D});function dG(Q){if(Q.params.ref.type!=="ref/prompt")throw TypeError(`Expected CompleteRequestPrompt, but got ${Q.params.ref.type}`)}function iG(Q){if(Q.params.ref.type!=="ref/resource")throw TypeError(`Expected CompleteRequestResourceTemplate, but got ${Q.params.ref.type}`)}var xD=U0.extend({completion:E0({values:d(D()).max(100),total:z0(t().int()),hasMore:z0(D0())})}),gD=I({uri:D().startsWith("file://"),name:D().optional(),_meta:G0(D(),J0()).optional()}),yD=V0.extend({method:P("roots/list"),params:_0.optional()}),jW=U0.extend({roots:d(gD)}),hD=h0.extend({method:P("notifications/roots/list_changed"),params:y0.optional()}),dj=W0([j9,DW,u9,MW,g9,x9,v9,k9,_9,yq,fq,q6,y9,S9,P9,C9,Z9]),ij=W0([b9,I9,LW,hD,q4]),nj=W0([E9,EW,bW,f9,jW,R9,T9,A6]),rj=W0([j9,DD,CD,yD,S9,P9,C9,Z9]),oj=W0([b9,I9,JD,lq,xq,WD,aq,q4,ZD]),tj=W0([E9,jq,xD,tq,pq,Zq,vq,_q,h9,QD,R9,T9,A6]);class R extends Error{constructor(Q,X,W){super(`MCP error ${Q}: ${X}`);this.code=Q,this.data=W,this.name="McpError"}static fromError(Q,X,W){if(Q===T.UrlElicitationRequired&&W){let Y=W;if(Y.elicitations)return new nG(Y.elicitations,X)}return new R(Q,X,W)}}class nG extends R{constructor(Q,X=`URL elicitation${Q.length>1?"s":""} required`){super(T.UrlElicitationRequired,X,{elicitations:Q})}get elicitations(){return this.data?.elicitations??[]}}function P1(Q){return Q==="completed"||Q==="failed"||Q==="cancelled"}var oG=Symbol("Let zodToJsonSchema decide on which parser to use");var rG={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},tG=(Q)=>typeof Q==="string"?{...rG,name:Q}:{...rG,...Q};var aG=(Q)=>{let X=tG(Q),W=X.name!==void 0?[...X.basePath,X.definitionPath,X.name]:X.basePath;return{...X,flags:{hasReferencedOpenAiAnyType:!1},currentPath:W,propertyPath:void 0,seen:new Map(Object.entries(X.definitions).map(([Y,$])=>[$._def,{def:$._def,path:[...X.basePath,X.definitionPath,Y],jsonSchema:void 0}]))}};function IW(Q,X,W,Y){if(!Y?.errorMessages)return;if(W)Q.errorMessage={...Q.errorMessage,[X]:W}}function i(Q,X,W,Y,$){Q[X]=W,IW(Q,X,Y,$)}var l9=(Q,X)=>{let W=0;for(;W<Q.length&&W<X.length;W++)if(Q[W]!==X[W])break;return[(Q.length-W).toString(),...X.slice(W)].join("/")};function H0(Q){if(Q.target!=="openAi")return{};let X=[...Q.basePath,Q.definitionPath,Q.openAiAnyTypeName];return Q.flags.hasReferencedOpenAiAnyType=!0,{$ref:Q.$refStrategy==="relative"?l9(X,Q.currentPath):X.join("/")}}function sG(Q,X){let W={type:"array"};if(Q.type?._def&&Q.type?._def?.typeName!==N.ZodAny)W.items=x(Q.type._def,{...X,currentPath:[...X.currentPath,"items"]});if(Q.minLength)i(W,"minItems",Q.minLength.value,Q.minLength.message,X);if(Q.maxLength)i(W,"maxItems",Q.maxLength.value,Q.maxLength.message,X);if(Q.exactLength)i(W,"minItems",Q.exactLength.value,Q.exactLength.message,X),i(W,"maxItems",Q.exactLength.value,Q.exactLength.message,X);return W}function eG(Q,X){let W={type:"integer",format:"int64"};if(!Q.checks)return W;for(let Y of Q.checks)switch(Y.kind){case"min":if(X.target==="jsonSchema7")if(Y.inclusive)i(W,"minimum",Y.value,Y.message,X);else i(W,"exclusiveMinimum",Y.value,Y.message,X);else{if(!Y.inclusive)W.exclusiveMinimum=!0;i(W,"minimum",Y.value,Y.message,X)}break;case"max":if(X.target==="jsonSchema7")if(Y.inclusive)i(W,"maximum",Y.value,Y.message,X);else i(W,"exclusiveMaximum",Y.value,Y.message,X);else{if(!Y.inclusive)W.exclusiveMaximum=!0;i(W,"maximum",Y.value,Y.message,X)}break;case"multipleOf":i(W,"multipleOf",Y.value,Y.message,X);break}return W}function Q7(){return{type:"boolean"}}function m9(Q,X){return x(Q.type._def,X)}var X7=(Q,X)=>{return x(Q.innerType._def,X)};function SW(Q,X,W){let Y=W??X.dateStrategy;if(Array.isArray(Y))return{anyOf:Y.map(($,J)=>SW(Q,X,$))};switch(Y){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return fD(Q,X)}}var fD=(Q,X)=>{let W={type:"integer",format:"unix-time"};if(X.target==="openApi3")return W;for(let Y of Q.checks)switch(Y.kind){case"min":i(W,"minimum",Y.value,Y.message,X);break;case"max":i(W,"maximum",Y.value,Y.message,X);break}return W};function W7(Q,X){return{...x(Q.innerType._def,X),default:Q.defaultValue()}}function Y7(Q,X){return X.effectStrategy==="input"?x(Q.schema._def,X):H0(X)}function $7(Q){return{type:"string",enum:Array.from(Q.values)}}var uD=(Q)=>{if("type"in Q&&Q.type==="string")return!1;return"allOf"in Q};function J7(Q,X){let W=[x(Q.left._def,{...X,currentPath:[...X.currentPath,"allOf","0"]}),x(Q.right._def,{...X,currentPath:[...X.currentPath,"allOf","1"]})].filter((J)=>!!J),Y=X.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,$=[];return W.forEach((J)=>{if(uD(J)){if($.push(...J.allOf),J.unevaluatedProperties===void 0)Y=void 0}else{let G=J;if("additionalProperties"in J&&J.additionalProperties===!1){let{additionalProperties:H,...z}=J;G=z}else Y=void 0;$.push(G)}}),$.length?{allOf:$,...Y}:void 0}function G7(Q,X){let W=typeof Q.value;if(W!=="bigint"&&W!=="number"&&W!=="boolean"&&W!=="string")return{type:Array.isArray(Q.value)?"array":"object"};if(X.target==="openApi3")return{type:W==="bigint"?"integer":W,enum:[Q.value]};return{type:W==="bigint"?"integer":W,const:Q.value}}var RW=void 0,c0={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>{if(RW===void 0)RW=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u");return RW},uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function c9(Q,X){let W={type:"string"};if(Q.checks)for(let Y of Q.checks)switch(Y.kind){case"min":i(W,"minLength",typeof W.minLength==="number"?Math.max(W.minLength,Y.value):Y.value,Y.message,X);break;case"max":i(W,"maxLength",typeof W.maxLength==="number"?Math.min(W.maxLength,Y.value):Y.value,Y.message,X);break;case"email":switch(X.emailStrategy){case"format:email":p0(W,"email",Y.message,X);break;case"format:idn-email":p0(W,"idn-email",Y.message,X);break;case"pattern:zod":b0(W,c0.email,Y.message,X);break}break;case"url":p0(W,"uri",Y.message,X);break;case"uuid":p0(W,"uuid",Y.message,X);break;case"regex":b0(W,Y.regex,Y.message,X);break;case"cuid":b0(W,c0.cuid,Y.message,X);break;case"cuid2":b0(W,c0.cuid2,Y.message,X);break;case"startsWith":b0(W,RegExp(`^${PW(Y.value,X)}`),Y.message,X);break;case"endsWith":b0(W,RegExp(`${PW(Y.value,X)}$`),Y.message,X);break;case"datetime":p0(W,"date-time",Y.message,X);break;case"date":p0(W,"date",Y.message,X);break;case"time":p0(W,"time",Y.message,X);break;case"duration":p0(W,"duration",Y.message,X);break;case"length":i(W,"minLength",typeof W.minLength==="number"?Math.max(W.minLength,Y.value):Y.value,Y.message,X),i(W,"maxLength",typeof W.maxLength==="number"?Math.min(W.maxLength,Y.value):Y.value,Y.message,X);break;case"includes":{b0(W,RegExp(PW(Y.value,X)),Y.message,X);break}case"ip":{if(Y.version!=="v6")p0(W,"ipv4",Y.message,X);if(Y.version!=="v4")p0(W,"ipv6",Y.message,X);break}case"base64url":b0(W,c0.base64url,Y.message,X);break;case"jwt":b0(W,c0.jwt,Y.message,X);break;case"cidr":{if(Y.version!=="v6")b0(W,c0.ipv4Cidr,Y.message,X);if(Y.version!=="v4")b0(W,c0.ipv6Cidr,Y.message,X);break}case"emoji":b0(W,c0.emoji(),Y.message,X);break;case"ulid":{b0(W,c0.ulid,Y.message,X);break}case"base64":{switch(X.base64Strategy){case"format:binary":{p0(W,"binary",Y.message,X);break}case"contentEncoding:base64":{i(W,"contentEncoding","base64",Y.message,X);break}case"pattern:zod":{b0(W,c0.base64,Y.message,X);break}}break}case"nanoid":b0(W,c0.nanoid,Y.message,X);case"toLowerCase":case"toUpperCase":case"trim":break;default:(($)=>{})(Y)}return W}function PW(Q,X){return X.patternStrategy==="escape"?mD(Q):Q}var lD=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function mD(Q){let X="";for(let W=0;W<Q.length;W++){if(!lD.has(Q[W]))X+="\\";X+=Q[W]}return X}function p0(Q,X,W,Y){if(Q.format||Q.anyOf?.some(($)=>$.format)){if(!Q.anyOf)Q.anyOf=[];if(Q.format){if(Q.anyOf.push({format:Q.format,...Q.errorMessage&&Y.errorMessages&&{errorMessage:{format:Q.errorMessage.format}}}),delete Q.format,Q.errorMessage){if(delete Q.errorMessage.format,Object.keys(Q.errorMessage).length===0)delete Q.errorMessage}}Q.anyOf.push({format:X,...W&&Y.errorMessages&&{errorMessage:{format:W}}})}else i(Q,"format",X,W,Y)}function b0(Q,X,W,Y){if(Q.pattern||Q.allOf?.some(($)=>$.pattern)){if(!Q.allOf)Q.allOf=[];if(Q.pattern){if(Q.allOf.push({pattern:Q.pattern,...Q.errorMessage&&Y.errorMessages&&{errorMessage:{pattern:Q.errorMessage.pattern}}}),delete Q.pattern,Q.errorMessage){if(delete Q.errorMessage.pattern,Object.keys(Q.errorMessage).length===0)delete Q.errorMessage}}Q.allOf.push({pattern:H7(X,Y),...W&&Y.errorMessages&&{errorMessage:{pattern:W}}})}else i(Q,"pattern",H7(X,Y),W,Y)}function H7(Q,X){if(!X.applyRegexFlags||!Q.flags)return Q.source;let W={i:Q.flags.includes("i"),m:Q.flags.includes("m"),s:Q.flags.includes("s")},Y=W.i?Q.source.toLowerCase():Q.source,$="",J=!1,G=!1,H=!1;for(let z=0;z<Y.length;z++){if(J){$+=Y[z],J=!1;continue}if(W.i){if(G){if(Y[z].match(/[a-z]/)){if(H)$+=Y[z],$+=`${Y[z-2]}-${Y[z]}`.toUpperCase(),H=!1;else if(Y[z+1]==="-"&&Y[z+2]?.match(/[a-z]/))$+=Y[z],H=!0;else $+=`${Y[z]}${Y[z].toUpperCase()}`;continue}}else if(Y[z].match(/[a-z]/)){$+=`[${Y[z]}${Y[z].toUpperCase()}]`;continue}}if(W.m){if(Y[z]==="^"){$+=`(^|(?<=[\r
]))`;continue}else if(Y[z]==="$"){$+=`($|(?=[\r
]))`;continue}}if(W.s&&Y[z]==="."){$+=G?`${Y[z]}\r
`:`[${Y[z]}\r
]`;continue}if($+=Y[z],Y[z]==="\\")J=!0;else if(G&&Y[z]==="]")G=!1;else if(!G&&Y[z]==="[")G=!0}try{new RegExp($)}catch{return console.warn(`Could not convert regex pattern at ${X.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),Q.source}return $}function p9(Q,X){if(X.target==="openAi")console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.");if(X.target==="openApi3"&&Q.keyType?._def.typeName===N.ZodEnum)return{type:"object",required:Q.keyType._def.values,properties:Q.keyType._def.values.reduce((Y,$)=>({...Y,[$]:x(Q.valueType._def,{...X,currentPath:[...X.currentPath,"properties",$]})??H0(X)}),{}),additionalProperties:X.rejectedAdditionalProperties};let W={type:"object",additionalProperties:x(Q.valueType._def,{...X,currentPath:[...X.currentPath,"additionalProperties"]})??X.allowedAdditionalProperties};if(X.target==="openApi3")return W;if(Q.keyType?._def.typeName===N.ZodString&&Q.keyType._def.checks?.length){let{type:Y,...$}=c9(Q.keyType._def,X);return{...W,propertyNames:$}}else if(Q.keyType?._def.typeName===N.ZodEnum)return{...W,propertyNames:{enum:Q.keyType._def.values}};else if(Q.keyType?._def.typeName===N.ZodBranded&&Q.keyType._def.type._def.typeName===N.ZodString&&Q.keyType._def.type._def.checks?.length){let{type:Y,...$}=m9(Q.keyType._def,X);return{...W,propertyNames:$}}return W}function z7(Q,X){if(X.mapStrategy==="record")return p9(Q,X);let W=x(Q.keyType._def,{...X,currentPath:[...X.currentPath,"items","items","0"]})||H0(X),Y=x(Q.valueType._def,{...X,currentPath:[...X.currentPath,"items","items","1"]})||H0(X);return{type:"array",maxItems:125,items:{type:"array",items:[W,Y],minItems:2,maxItems:2}}}function B7(Q){let X=Q.values,Y=Object.keys(Q.values).filter((J)=>{return typeof X[X[J]]!=="number"}).map((J)=>X[J]),$=Array.from(new Set(Y.map((J)=>typeof J)));return{type:$.length===1?$[0]==="string"?"string":"number":["string","number"],enum:Y}}function A7(Q){return Q.target==="openAi"?void 0:{not:H0({...Q,currentPath:[...Q.currentPath,"not"]})}}function K7(Q){return Q.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var V4={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function D7(Q,X){if(X.target==="openApi3")return q7(Q,X);let W=Q.options instanceof Map?Array.from(Q.options.values()):Q.options;if(W.every((Y)=>(Y._def.typeName in V4)&&(!Y._def.checks||!Y._def.checks.length))){let Y=W.reduce(($,J)=>{let G=V4[J._def.typeName];return G&&!$.includes(G)?[...$,G]:$},[]);return{type:Y.length>1?Y:Y[0]}}else if(W.every((Y)=>Y._def.typeName==="ZodLiteral"&&!Y.description)){let Y=W.reduce(($,J)=>{let G=typeof J._def.value;switch(G){case"string":case"number":case"boolean":return[...$,G];case"bigint":return[...$,"integer"];case"object":if(J._def.value===null)return[...$,"null"];case"symbol":case"undefined":case"function":default:return $}},[]);if(Y.length===W.length){let $=Y.filter((J,G,H)=>H.indexOf(J)===G);return{type:$.length>1?$:$[0],enum:W.reduce((J,G)=>{return J.includes(G._def.value)?J:[...J,G._def.value]},[])}}}else if(W.every((Y)=>Y._def.typeName==="ZodEnum"))return{type:"string",enum:W.reduce((Y,$)=>[...Y,...$._def.values.filter((J)=>!Y.includes(J))],[])};return q7(Q,X)}var q7=(Q,X)=>{let W=(Q.options instanceof Map?Array.from(Q.options.values()):Q.options).map((Y,$)=>x(Y._def,{...X,currentPath:[...X.currentPath,"anyOf",`${$}`]})).filter((Y)=>!!Y&&(!X.strictUnions||typeof Y==="object"&&Object.keys(Y).length>0));return W.length?{anyOf:W}:void 0};function L7(Q,X){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(Q.innerType._def.typeName)&&(!Q.innerType._def.checks||!Q.innerType._def.checks.length)){if(X.target==="openApi3")return{type:V4[Q.innerType._def.typeName],nullable:!0};return{type:[V4[Q.innerType._def.typeName],"null"]}}if(X.target==="openApi3"){let Y=x(Q.innerType._def,{...X,currentPath:[...X.currentPath]});if(Y&&"$ref"in Y)return{allOf:[Y],nullable:!0};return Y&&{...Y,nullable:!0}}let W=x(Q.innerType._def,{...X,currentPath:[...X.currentPath,"anyOf","0"]});return W&&{anyOf:[W,{type:"null"}]}}function V7(Q,X){let W={type:"number"};if(!Q.checks)return W;for(let Y of Q.checks)switch(Y.kind){case"int":W.type="integer",IW(W,"type",Y.message,X);break;case"min":if(X.target==="jsonSchema7")if(Y.inclusive)i(W,"minimum",Y.value,Y.message,X);else i(W,"exclusiveMinimum",Y.value,Y.message,X);else{if(!Y.inclusive)W.exclusiveMinimum=!0;i(W,"minimum",Y.value,Y.message,X)}break;case"max":if(X.target==="jsonSchema7")if(Y.inclusive)i(W,"maximum",Y.value,Y.message,X);else i(W,"exclusiveMaximum",Y.value,Y.message,X);else{if(!Y.inclusive)W.exclusiveMaximum=!0;i(W,"maximum",Y.value,Y.message,X)}break;case"multipleOf":i(W,"multipleOf",Y.value,Y.message,X);break}return W}function U7(Q,X){let W=X.target==="openAi",Y={type:"object",properties:{}},$=[],J=Q.shape();for(let H in J){let z=J[H];if(z===void 0||z._def===void 0)continue;let B=pD(z);if(B&&W){if(z._def.typeName==="ZodOptional")z=z._def.innerType;if(!z.isNullable())z=z.nullable();B=!1}let A=x(z._def,{...X,currentPath:[...X.currentPath,"properties",H],propertyPath:[...X.currentPath,"properties",H]});if(A===void 0)continue;if(Y.properties[H]=A,!B)$.push(H)}if($.length)Y.required=$;let G=cD(Q,X);if(G!==void 0)Y.additionalProperties=G;return Y}function cD(Q,X){if(Q.catchall._def.typeName!=="ZodNever")return x(Q.catchall._def,{...X,currentPath:[...X.currentPath,"additionalProperties"]});switch(Q.unknownKeys){case"passthrough":return X.allowedAdditionalProperties;case"strict":return X.rejectedAdditionalProperties;case"strip":return X.removeAdditionalStrategy==="strict"?X.allowedAdditionalProperties:X.rejectedAdditionalProperties}}function pD(Q){try{return Q.isOptional()}catch{return!0}}var F7=(Q,X)=>{if(X.currentPath.toString()===X.propertyPath?.toString())return x(Q.innerType._def,X);let W=x(Q.innerType._def,{...X,currentPath:[...X.currentPath,"anyOf","1"]});return W?{anyOf:[{not:H0(X)},W]}:H0(X)};var O7=(Q,X)=>{if(X.pipeStrategy==="input")return x(Q.in._def,X);else if(X.pipeStrategy==="output")return x(Q.out._def,X);let W=x(Q.in._def,{...X,currentPath:[...X.currentPath,"allOf","0"]}),Y=x(Q.out._def,{...X,currentPath:[...X.currentPath,"allOf",W?"1":"0"]});return{allOf:[W,Y].filter(($)=>$!==void 0)}};function N7(Q,X){return x(Q.type._def,X)}function w7(Q,X){let Y={type:"array",uniqueItems:!0,items:x(Q.valueType._def,{...X,currentPath:[...X.currentPath,"items"]})};if(Q.minSize)i(Y,"minItems",Q.minSize.value,Q.minSize.message,X);if(Q.maxSize)i(Y,"maxItems",Q.maxSize.value,Q.maxSize.message,X);return Y}function M7(Q,X){if(Q.rest)return{type:"array",minItems:Q.items.length,items:Q.items.map((W,Y)=>x(W._def,{...X,currentPath:[...X.currentPath,"items",`${Y}`]})).reduce((W,Y)=>Y===void 0?W:[...W,Y],[]),additionalItems:x(Q.rest._def,{...X,currentPath:[...X.currentPath,"additionalItems"]})};else return{type:"array",minItems:Q.items.length,maxItems:Q.items.length,items:Q.items.map((W,Y)=>x(W._def,{...X,currentPath:[...X.currentPath,"items",`${Y}`]})).reduce((W,Y)=>Y===void 0?W:[...W,Y],[])}}function E7(Q){return{not:H0(Q)}}function b7(Q){return H0(Q)}var j7=(Q,X)=>{return x(Q.innerType._def,X)};var I7=(Q,X,W)=>{switch(X){case N.ZodString:return c9(Q,W);case N.ZodNumber:return V7(Q,W);case N.ZodObject:return U7(Q,W);case N.ZodBigInt:return eG(Q,W);case N.ZodBoolean:return Q7();case N.ZodDate:return SW(Q,W);case N.ZodUndefined:return E7(W);case N.ZodNull:return K7(W);case N.ZodArray:return sG(Q,W);case N.ZodUnion:case N.ZodDiscriminatedUnion:return D7(Q,W);case N.ZodIntersection:return J7(Q,W);case N.ZodTuple:return M7(Q,W);case N.ZodRecord:return p9(Q,W);case N.ZodLiteral:return G7(Q,W);case N.ZodEnum:return $7(Q);case N.ZodNativeEnum:return B7(Q);case N.ZodNullable:return L7(Q,W);case N.ZodOptional:return F7(Q,W);case N.ZodMap:return z7(Q,W);case N.ZodSet:return w7(Q,W);case N.ZodLazy:return()=>Q.getter()._def;case N.ZodPromise:return N7(Q,W);case N.ZodNaN:case N.ZodNever:return A7(W);case N.ZodEffects:return Y7(Q,W);case N.ZodAny:return H0(W);case N.ZodUnknown:return b7(W);case N.ZodDefault:return W7(Q,W);case N.ZodBranded:return m9(Q,W);case N.ZodReadonly:return j7(Q,W);case N.ZodCatch:return X7(Q,W);case N.ZodPipeline:return O7(Q,W);case N.ZodFunction:case N.ZodVoid:case N.ZodSymbol:return;default:return((Y)=>{return})(X)}};function x(Q,X,W=!1){let Y=X.seen.get(Q);if(X.override){let H=X.override?.(Q,X,Y,W);if(H!==oG)return H}if(Y&&!W){let H=dD(Y,X);if(H!==void 0)return H}let $={def:Q,path:X.currentPath,jsonSchema:void 0};X.seen.set(Q,$);let J=I7(Q,Q.typeName,X),G=typeof J==="function"?x(J(),X):J;if(G)iD(Q,X,G);if(X.postProcess){let H=X.postProcess(G,Q,X);return $.jsonSchema=G,H}return $.jsonSchema=G,G}var dD=(Q,X)=>{switch(X.$refStrategy){case"root":return{$ref:Q.path.join("/")};case"relative":return{$ref:l9(X.currentPath,Q.path)};case"none":case"seen":{if(Q.path.length<X.currentPath.length&&Q.path.every((W,Y)=>X.currentPath[Y]===W))return console.warn(`Recursive reference detected at ${X.currentPath.join("/")}! Defaulting to any`),H0(X);return X.$refStrategy==="seen"?H0(X):void 0}}},iD=(Q,X,W)=>{if(Q.description){if(W.description=Q.description,X.markdownDescription)W.markdownDescription=Q.description}return W};var CW=(Q,X)=>{let W=aG(X),Y=typeof X==="object"&&X.definitions?Object.entries(X.definitions).reduce((z,[B,A])=>({...z,[B]:x(A._def,{...W,currentPath:[...W.basePath,W.definitionPath,B]},!0)??H0(W)}),{}):void 0,$=typeof X==="string"?X:X?.nameStrategy==="title"?void 0:X?.name,J=x(Q._def,$===void 0?W:{...W,currentPath:[...W.basePath,W.definitionPath,$]},!1)??H0(W),G=typeof X==="object"&&X.name!==void 0&&X.nameStrategy==="title"?X.name:void 0;if(G!==void 0)J.title=G;if(W.flags.hasReferencedOpenAiAnyType){if(!Y)Y={};if(!Y[W.openAiAnyTypeName])Y[W.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:W.$refStrategy==="relative"?"1":[...W.basePath,W.definitionPath,W.openAiAnyTypeName].join("/")}}}let H=$===void 0?Y?{...J,[W.definitionPath]:Y}:J:{$ref:[...W.$refStrategy==="relative"?[]:W.basePath,W.definitionPath,$].join("/"),[W.definitionPath]:{...Y,[$]:J}};if(W.target==="jsonSchema7")H.$schema="http://json-schema.org/draft-07/schema#";else if(W.target==="jsonSchema2019-09"||W.target==="openAi")H.$schema="https://json-schema.org/draft/2019-09/schema#";if(W.target==="openAi"&&(("anyOf"in H)||("oneOf"in H)||("allOf"in H)||("type"in H)&&Array.isArray(H.type)))console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.");return H};function nD(Q){if(!Q)return"draft-7";if(Q==="jsonSchema7"||Q==="draft-7")return"draft-7";if(Q==="jsonSchema2019-09"||Q==="draft-2020-12")return"draft-2020-12";return"draft-7"}function TW(Q,X){if(g0(Q))return aX(Q,{target:nD(X?.target),io:X?.pipeStrategy??"input"});return CW(Q,{strictUnions:X?.strictUnions??!0,pipeStrategy:X?.pipeStrategy??"input"})}function ZW(Q){let W=S1(Q)?.method;if(!W)throw Error("Schema is missing a method literal");let Y=V9(W);if(typeof Y!=="string")throw Error("Schema method literal must be a string");return Y}function vW(Q,X){let W=I1(Q,X);if(!W.success)throw W.error;return W.data}var rD=60000;class kW{constructor(Q){if(this._options=Q,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(b9,(X)=>{this._oncancel(X)}),this.setNotificationHandler(I9,(X)=>{this._onprogress(X)}),this.setRequestHandler(j9,(X)=>({})),this._taskStore=Q?.taskStore,this._taskMessageQueue=Q?.taskMessageQueue,this._taskStore)this.setRequestHandler(S9,async(X,W)=>{let Y=await this._taskStore.getTask(X.params.taskId,W.sessionId);if(!Y)throw new R(T.InvalidParams,"Failed to retrieve task: Task not found");return{...Y}}),this.setRequestHandler(P9,async(X,W)=>{let Y=async()=>{let $=X.params.taskId;if(this._taskMessageQueue){let G;while(G=await this._taskMessageQueue.dequeue($,W.sessionId)){if(G.type==="response"||G.type==="error"){let H=G.message,z=H.id,B=this._requestResolvers.get(z);if(B)if(this._requestResolvers.delete(z),G.type==="response")B(H);else{let A=H,K=new R(A.error.code,A.error.message,A.error.data);B(K)}else{let A=G.type==="response"?"Response":"Error";this._onerror(Error(`${A} handler missing for request ${z}`))}continue}await this._transport?.send(G.message,{relatedRequestId:W.requestId})}}let J=await this._taskStore.getTask($,W.sessionId);if(!J)throw new R(T.InvalidParams,`Task not found: ${$}`);if(!P1(J.status))return await this._waitForTaskUpdate($,W.signal),await Y();if(P1(J.status)){let G=await this._taskStore.getTaskResult($,W.sessionId);return this._clearTaskQueue($),{...G,_meta:{...G._meta,[R1]:{taskId:$}}}}return await Y()};return await Y()}),this.setRequestHandler(C9,async(X,W)=>{try{let{tasks:Y,nextCursor:$}=await this._taskStore.listTasks(X.params?.cursor,W.sessionId);return{tasks:Y,nextCursor:$,_meta:{}}}catch(Y){throw new R(T.InvalidParams,`Failed to list tasks: ${Y instanceof Error?Y.message:String(Y)}`)}}),this.setRequestHandler(Z9,async(X,W)=>{try{let Y=await this._taskStore.getTask(X.params.taskId,W.sessionId);if(!Y)throw new R(T.InvalidParams,`Task not found: ${X.params.taskId}`);if(P1(Y.status))throw new R(T.InvalidParams,`Cannot cancel task in terminal status: ${Y.status}`);await this._taskStore.updateTaskStatus(X.params.taskId,"cancelled","Client cancelled task execution.",W.sessionId),this._clearTaskQueue(X.params.taskId);let $=await this._taskStore.getTask(X.params.taskId,W.sessionId);if(!$)throw new R(T.InvalidParams,`Task not found after cancellation: ${X.params.taskId}`);return{_meta:{},...$}}catch(Y){if(Y instanceof R)throw Y;throw new R(T.InvalidRequest,`Failed to cancel task: ${Y instanceof Error?Y.message:String(Y)}`)}})}async _oncancel(Q){if(!Q.params.requestId)return;this._requestHandlerAbortControllers.get(Q.params.requestId)?.abort(Q.params.reason)}_setupTimeout(Q,X,W,Y,$=!1){this._timeoutInfo.set(Q,{timeoutId:setTimeout(Y,X),startTime:Date.now(),timeout:X,maxTotalTimeout:W,resetTimeoutOnProgress:$,onTimeout:Y})}_resetTimeout(Q){let X=this._timeoutInfo.get(Q);if(!X)return!1;let W=Date.now()-X.startTime;if(X.maxTotalTimeout&&W>=X.maxTotalTimeout)throw this._timeoutInfo.delete(Q),R.fromError(T.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:X.maxTotalTimeout,totalElapsed:W});return clearTimeout(X.timeoutId),X.timeoutId=setTimeout(X.onTimeout,X.timeout),!0}_cleanupTimeout(Q){let X=this._timeoutInfo.get(Q);if(X)clearTimeout(X.timeoutId),this._timeoutInfo.delete(Q)}async connect(Q){this._transport=Q;let X=this.transport?.onclose;this._transport.onclose=()=>{X?.(),this._onclose()};let W=this.transport?.onerror;this._transport.onerror=($)=>{W?.($),this._onerror($)};let Y=this._transport?.onmessage;this._transport.onmessage=($,J)=>{if(Y?.($,J),H4($)||gG($))this._onresponse($);else if(AW($))this._onrequest($,J);else if(xG($))this._onnotification($);else this._onerror(Error(`Unknown message type: ${JSON.stringify($)}`))},await this._transport.start()}_onclose(){let Q=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();let X=R.fromError(T.ConnectionClosed,"Connection closed");this._transport=void 0,this.onclose?.();for(let W of Q.values())W(X)}_onerror(Q){this.onerror?.(Q)}_onnotification(Q){let X=this._notificationHandlers.get(Q.method)??this.fallbackNotificationHandler;if(X===void 0)return;Promise.resolve().then(()=>X(Q)).catch((W)=>this._onerror(Error(`Uncaught error in notification handler: ${W}`)))}_onrequest(Q,X){let W=this._requestHandlers.get(Q.method)??this.fallbackRequestHandler,Y=this._transport,$=Q.params?._meta?.[R1]?.taskId;if(W===void 0){let B={jsonrpc:"2.0",id:Q.id,error:{code:T.MethodNotFound,message:"Method not found"}};if($&&this._taskMessageQueue)this._enqueueTaskMessage($,{type:"error",message:B,timestamp:Date.now()},Y?.sessionId).catch((A)=>this._onerror(Error(`Failed to enqueue error response: ${A}`)));else Y?.send(B).catch((A)=>this._onerror(Error(`Failed to send an error response: ${A}`)));return}let J=new AbortController;this._requestHandlerAbortControllers.set(Q.id,J);let G=vG(Q.params)?Q.params.task:void 0,H=this._taskStore?this.requestTaskStore(Q,Y?.sessionId):void 0,z={signal:J.signal,sessionId:Y?.sessionId,_meta:Q.params?._meta,sendNotification:async(B)=>{let A={relatedRequestId:Q.id};if($)A.relatedTask={taskId:$};await this.notification(B,A)},sendRequest:async(B,A,K)=>{let q={...K,relatedRequestId:Q.id};if($&&!q.relatedTask)q.relatedTask={taskId:$};let V=q.relatedTask?.taskId??$;if(V&&H)await H.updateTaskStatus(V,"input_required");return await this.request(B,A,q)},authInfo:X?.authInfo,requestId:Q.id,requestInfo:X?.requestInfo,taskId:$,taskStore:H,taskRequestedTtl:G?.ttl,closeSSEStream:X?.closeSSEStream,closeStandaloneSSEStream:X?.closeStandaloneSSEStream};Promise.resolve().then(()=>{if(G)this.assertTaskHandlerCapability(Q.method)}).then(()=>W(Q,z)).then(async(B)=>{if(J.signal.aborted)return;let A={result:B,jsonrpc:"2.0",id:Q.id};if($&&this._taskMessageQueue)await this._enqueueTaskMessage($,{type:"response",message:A,timestamp:Date.now()},Y?.sessionId);else await Y?.send(A)},async(B)=>{if(J.signal.aborted)return;let A={jsonrpc:"2.0",id:Q.id,error:{code:Number.isSafeInteger(B.code)?B.code:T.InternalError,message:B.message??"Internal error",...B.data!==void 0&&{data:B.data}}};if($&&this._taskMessageQueue)await this._enqueueTaskMessage($,{type:"error",message:A,timestamp:Date.now()},Y?.sessionId);else await Y?.send(A)}).catch((B)=>this._onerror(Error(`Failed to send response: ${B}`))).finally(()=>{this._requestHandlerAbortControllers.delete(Q.id)})}_onprogress(Q){let{progressToken:X,...W}=Q.params,Y=Number(X),$=this._progressHandlers.get(Y);if(!$){this._onerror(Error(`Received a progress notification for an unknown token: ${JSON.stringify(Q)}`));return}let J=this._responseHandlers.get(Y),G=this._timeoutInfo.get(Y);if(G&&J&&G.resetTimeoutOnProgress)try{this._resetTimeout(Y)}catch(H){this._responseHandlers.delete(Y),this._progressHandlers.delete(Y),this._cleanupTimeout(Y),J(H);return}$(W)}_onresponse(Q){let X=Number(Q.id),W=this._requestResolvers.get(X);if(W){if(this._requestResolvers.delete(X),H4(Q))W(Q);else{let J=new R(Q.error.code,Q.error.message,Q.error.data);W(J)}return}let Y=this._responseHandlers.get(X);if(Y===void 0){this._onerror(Error(`Received a response for an unknown message ID: ${JSON.stringify(Q)}`));return}this._responseHandlers.delete(X),this._cleanupTimeout(X);let $=!1;if(H4(Q)&&Q.result&&typeof Q.result==="object"){let J=Q.result;if(J.task&&typeof J.task==="object"){let G=J.task;if(typeof G.taskId==="string")$=!0,this._taskProgressTokens.set(G.taskId,X)}}if(!$)this._progressHandlers.delete(X);if(H4(Q))Y(Q);else{let J=R.fromError(Q.error.code,Q.error.message,Q.error.data);Y(J)}}get transport(){return this._transport}async close(){await this._transport?.close()}async*requestStream(Q,X,W){let{task:Y}=W??{};if(!Y){try{yield{type:"result",result:await this.request(Q,X,W)}}catch(J){yield{type:"error",error:J instanceof R?J:new R(T.InternalError,String(J))}}return}let $;try{let J=await this.request(Q,A6,W);if(J.task)$=J.task.taskId,yield{type:"taskCreated",task:J.task};else throw new R(T.InternalError,"Task creation did not return a task");while(!0){let G=await this.getTask({taskId:$},W);if(yield{type:"taskStatus",task:G},P1(G.status)){if(G.status==="completed")yield{type:"result",result:await this.getTaskResult({taskId:$},X,W)};else if(G.status==="failed")yield{type:"error",error:new R(T.InternalError,`Task ${$} failed`)};else if(G.status==="cancelled")yield{type:"error",error:new R(T.InternalError,`Task ${$} was cancelled`)};return}if(G.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:$},X,W)};return}let H=G.pollInterval??this._options?.defaultTaskPollInterval??1000;await new Promise((z)=>setTimeout(z,H)),W?.signal?.throwIfAborted()}}catch(J){yield{type:"error",error:J instanceof R?J:new R(T.InternalError,String(J))}}}request(Q,X,W){let{relatedRequestId:Y,resumptionToken:$,onresumptiontoken:J,task:G,relatedTask:H}=W??{};return new Promise((z,B)=>{let A=(w)=>{B(w)};if(!this._transport){A(Error("Not connected"));return}if(this._options?.enforceStrictCapabilities===!0)try{if(this.assertCapabilityForMethod(Q.method),G)this.assertTaskCapability(Q.method)}catch(w){A(w);return}W?.signal?.throwIfAborted();let K=this._requestMessageId++,q={...Q,jsonrpc:"2.0",id:K};if(W?.onprogress)this._progressHandlers.set(K,W.onprogress),q.params={...Q.params,_meta:{...Q.params?._meta||{},progressToken:K}};if(G)q.params={...q.params,task:G};if(H)q.params={...q.params,_meta:{...q.params?._meta||{},[R1]:H}};let V=(w)=>{this._responseHandlers.delete(K),this._progressHandlers.delete(K),this._cleanupTimeout(K),this._transport?.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:K,reason:String(w)}},{relatedRequestId:Y,resumptionToken:$,onresumptiontoken:J}).catch((v)=>this._onerror(Error(`Failed to send cancellation: ${v}`)));let g=w instanceof R?w:new R(T.RequestTimeout,String(w));B(g)};this._responseHandlers.set(K,(w)=>{if(W?.signal?.aborted)return;if(w instanceof Error)return B(w);try{let g=I1(X,w.result);if(!g.success)B(g.error);else z(g.data)}catch(g){B(g)}}),W?.signal?.addEventListener("abort",()=>{V(W?.signal?.reason)});let U=W?.timeout??rD,F=()=>V(R.fromError(T.RequestTimeout,"Request timed out",{timeout:U}));this._setupTimeout(K,U,W?.maxTotalTimeout,F,W?.resetTimeoutOnProgress??!1);let E=H?.taskId;if(E){let w=(g)=>{let v=this._responseHandlers.get(K);if(v)v(g);else this._onerror(Error(`Response handler missing for side-channeled request ${K}`))};this._requestResolvers.set(K,w),this._enqueueTaskMessage(E,{type:"request",message:q,timestamp:Date.now()}).catch((g)=>{this._cleanupTimeout(K),B(g)})}else this._transport.send(q,{relatedRequestId:Y,resumptionToken:$,onresumptiontoken:J}).catch((w)=>{this._cleanupTimeout(K),B(w)})})}async getTask(Q,X){return this.request({method:"tasks/get",params:Q},R9,X)}async getTaskResult(Q,X,W){return this.request({method:"tasks/result",params:Q},X,W)}async listTasks(Q,X){return this.request({method:"tasks/list",params:Q},T9,X)}async cancelTask(Q,X){return this.request({method:"tasks/cancel",params:Q},fG,X)}async notification(Q,X){if(!this._transport)throw Error("Not connected");this.assertNotificationCapability(Q.method);let W=X?.relatedTask?.taskId;if(W){let G={...Q,jsonrpc:"2.0",params:{...Q.params,_meta:{...Q.params?._meta||{},[R1]:X.relatedTask}}};await this._enqueueTaskMessage(W,{type:"notification",message:G,timestamp:Date.now()});return}if((this._options?.debouncedNotificationMethods??[]).includes(Q.method)&&!Q.params&&!X?.relatedRequestId&&!X?.relatedTask){if(this._pendingDebouncedNotifications.has(Q.method))return;this._pendingDebouncedNotifications.add(Q.method),Promise.resolve().then(()=>{if(this._pendingDebouncedNotifications.delete(Q.method),!this._transport)return;let G={...Q,jsonrpc:"2.0"};if(X?.relatedTask)G={...G,params:{...G.params,_meta:{...G.params?._meta||{},[R1]:X.relatedTask}}};this._transport?.send(G,X).catch((H)=>this._onerror(H))});return}let J={...Q,jsonrpc:"2.0"};if(X?.relatedTask)J={...J,params:{...J.params,_meta:{...J.params?._meta||{},[R1]:X.relatedTask}}};await this._transport.send(J,X)}setRequestHandler(Q,X){let W=ZW(Q);this.assertRequestHandlerCapability(W),this._requestHandlers.set(W,(Y,$)=>{let J=vW(Q,Y);return Promise.resolve(X(J,$))})}removeRequestHandler(Q){this._requestHandlers.delete(Q)}assertCanSetRequestHandler(Q){if(this._requestHandlers.has(Q))throw Error(`A request handler for ${Q} already exists, which would be overridden`)}setNotificationHandler(Q,X){let W=ZW(Q);this._notificationHandlers.set(W,(Y)=>{let $=vW(Q,Y);return Promise.resolve(X($))})}removeNotificationHandler(Q){this._notificationHandlers.delete(Q)}_cleanupTaskProgressHandler(Q){let X=this._taskProgressTokens.get(Q);if(X!==void 0)this._progressHandlers.delete(X),this._taskProgressTokens.delete(Q)}async _enqueueTaskMessage(Q,X,W){if(!this._taskStore||!this._taskMessageQueue)throw Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");let Y=this._options?.maxTaskQueueSize;await this._taskMessageQueue.enqueue(Q,X,W,Y)}async _clearTaskQueue(Q,X){if(this._taskMessageQueue){let W=await this._taskMessageQueue.dequeueAll(Q,X);for(let Y of W)if(Y.type==="request"&&AW(Y.message)){let $=Y.message.id,J=this._requestResolvers.get($);if(J)J(new R(T.InternalError,"Task cancelled or completed")),this._requestResolvers.delete($);else this._onerror(Error(`Resolver missing for request ${$} during task ${Q} cleanup`))}}}async _waitForTaskUpdate(Q,X){let W=this._options?.defaultTaskPollInterval??1000;try{let Y=await this._taskStore?.getTask(Q);if(Y?.pollInterval)W=Y.pollInterval}catch{}return new Promise((Y,$)=>{if(X.aborted){$(new R(T.InvalidRequest,"Request cancelled"));return}let J=setTimeout(Y,W);X.addEventListener("abort",()=>{clearTimeout(J),$(new R(T.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(Q,X){let W=this._taskStore;if(!W)throw Error("No task store configured");return{createTask:async(Y)=>{if(!Q)throw Error("No request provided");return await W.createTask(Y,Q.id,{method:Q.method,params:Q.params},X)},getTask:async(Y)=>{let $=await W.getTask(Y,X);if(!$)throw new R(T.InvalidParams,"Failed to retrieve task: Task not found");return $},storeTaskResult:async(Y,$,J)=>{await W.storeTaskResult(Y,$,J,X);let G=await W.getTask(Y,X);if(G){let H=q4.parse({method:"notifications/tasks/status",params:G});if(await this.notification(H),P1(G.status))this._cleanupTaskProgressHandler(Y)}},getTaskResult:(Y)=>{return W.getTaskResult(Y,X)},updateTaskStatus:async(Y,$,J)=>{let G=await W.getTask(Y,X);if(!G)throw new R(T.InvalidParams,`Task "${Y}" not found - it may have been cleaned up`);if(P1(G.status))throw new R(T.InvalidParams,`Cannot update task "${Y}" from terminal status "${G.status}" to "${$}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await W.updateTaskStatus(Y,$,J,X);let H=await W.getTask(Y,X);if(H){let z=q4.parse({method:"notifications/tasks/status",params:H});if(await this.notification(z),P1(H.status))this._cleanupTaskProgressHandler(Y)}},listTasks:(Y)=>{return W.listTasks(Y,X)}}}}function S7(Q){return Q!==null&&typeof Q==="object"&&!Array.isArray(Q)}function R7(Q,X){let W={...Q};for(let Y in X){let $=Y,J=X[$];if(J===void 0)continue;let G=W[$];if(S7(G)&&S7(J))W[$]={...G,...J};else W[$]=J}return W}var $B=oY(RY(),1),JB=oY(YB(),1);function YE(){let Q=new $B.default({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return JB.default(Q),Q}class yY{constructor(Q){this._ajv=Q??YE()}getValidator(Q){let X="$id"in Q&&typeof Q.$id==="string"?this._ajv.getSchema(Q.$id)??this._ajv.compile(Q):this._ajv.compile(Q);return(W)=>{if(X(W))return{valid:!0,data:W,errorMessage:void 0};else return{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(X.errors)}}}}class hY{constructor(Q){this._server=Q}requestStream(Q,X,W){return this._server.requestStream(Q,X,W)}async getTask(Q,X){return this._server.getTask({taskId:Q},X)}async getTaskResult(Q,X,W){return this._server.getTaskResult({taskId:Q},X,W)}async listTasks(Q,X){return this._server.listTasks(Q?{cursor:Q}:void 0,X)}async cancelTask(Q,X){return this._server.cancelTask({taskId:Q},X)}}function GB(Q,X,W){if(!Q)throw Error(`${W} does not support task creation (required for ${X})`);switch(X){case"tools/call":if(!Q.tools?.call)throw Error(`${W} does not support task creation for tools/call (required for ${X})`);break;default:break}}function HB(Q,X,W){if(!Q)throw Error(`${W} does not support task creation (required for ${X})`);switch(X){case"sampling/createMessage":if(!Q.sampling?.createMessage)throw Error(`${W} does not support task creation for sampling/createMessage (required for ${X})`);break;case"elicitation/create":if(!Q.elicitation?.create)throw Error(`${W} does not support task creation for elicitation/create (required for ${X})`);break;default:break}}class fY extends kW{constructor(Q,X){super(X);if(this._serverInfo=Q,this._loggingLevels=new Map,this.LOG_LEVEL_SEVERITY=new Map(L4.options.map((W,Y)=>[W,Y])),this.isMessageIgnored=(W,Y)=>{let $=this._loggingLevels.get(Y);return $?this.LOG_LEVEL_SEVERITY.get(W)<this.LOG_LEVEL_SEVERITY.get($):!1},this._capabilities=X?.capabilities??{},this._instructions=X?.instructions,this._jsonSchemaValidator=X?.jsonSchemaValidator??new yY,this.setRequestHandler(DW,(W)=>this._oninitialize(W)),this.setNotificationHandler(LW,()=>this.oninitialized?.()),this._capabilities.logging)this.setRequestHandler(MW,async(W,Y)=>{let $=Y.sessionId||Y.requestInfo?.headers["mcp-session-id"]||void 0,{level:J}=W.params,G=L4.safeParse(J);if(G.success)this._loggingLevels.set($,G.data);return{}})}get experimental(){if(!this._experimental)this._experimental={tasks:new hY(this)};return this._experimental}registerCapabilities(Q){if(this.transport)throw Error("Cannot register capabilities after connecting to transport");this._capabilities=R7(this._capabilities,Q)}setRequestHandler(Q,X){let Y=S1(Q)?.method;if(!Y)throw Error("Schema is missing a method literal");let $;if(g0(Y)){let G=Y;$=G._zod?.def?.value??G.value}else{let G=Y;$=G._def?.value??G.value}if(typeof $!=="string")throw Error("Schema method literal must be a string");if($==="tools/call"){let G=async(H,z)=>{let B=I1(q6,H);if(!B.success){let V=B.error instanceof Error?B.error.message:String(B.error);throw new R(T.InvalidParams,`Invalid tools/call request: ${V}`)}let{params:A}=B.data,K=await Promise.resolve(X(H,z));if(A.task){let V=I1(A6,K);if(!V.success){let U=V.error instanceof Error?V.error.message:String(V.error);throw new R(T.InvalidParams,`Invalid task creation result: ${U}`)}return V.data}let q=I1(h9,K);if(!q.success){let V=q.error instanceof Error?q.error.message:String(q.error);throw new R(T.InvalidParams,`Invalid tools/call result: ${V}`)}return q.data};return super.setRequestHandler(Q,G)}return super.setRequestHandler(Q,X)}assertCapabilityForMethod(Q){switch(Q){case"sampling/createMessage":if(!this._clientCapabilities?.sampling)throw Error(`Client does not support sampling (required for ${Q})`);break;case"elicitation/create":if(!this._clientCapabilities?.elicitation)throw Error(`Client does not support elicitation (required for ${Q})`);break;case"roots/list":if(!this._clientCapabilities?.roots)throw Error(`Client does not support listing roots (required for ${Q})`);break;case"ping":break}}assertNotificationCapability(Q){switch(Q){case"notifications/message":if(!this._capabilities.logging)throw Error(`Server does not support logging (required for ${Q})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw Error(`Server does not support notifying about resources (required for ${Q})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw Error(`Server does not support notifying of tool list changes (required for ${Q})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw Error(`Server does not support notifying of prompt list changes (required for ${Q})`);break;case"notifications/elicitation/complete":if(!this._clientCapabilities?.elicitation?.url)throw Error(`Client does not support URL elicitation (required for ${Q})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(Q){if(!this._capabilities)return;switch(Q){case"completion/complete":if(!this._capabilities.completions)throw Error(`Server does not support completions (required for ${Q})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw Error(`Server does not support logging (required for ${Q})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw Error(`Server does not support prompts (required for ${Q})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw Error(`Server does not support resources (required for ${Q})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw Error(`Server does not support tools (required for ${Q})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw Error(`Server does not support tasks capability (required for ${Q})`);break;case"ping":case"initialize":break}}assertTaskCapability(Q){HB(this._clientCapabilities?.tasks?.requests,Q,"Client")}assertTaskHandlerCapability(Q){if(!this._capabilities)return;GB(this._capabilities.tasks?.requests,Q,"Server")}async _oninitialize(Q){let X=Q.params.protocolVersion;return this._clientCapabilities=Q.params.capabilities,this._clientVersion=Q.params.clientInfo,{protocolVersion:CG.includes(X)?X:zW,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},E9)}async createMessage(Q,X){if(Q.tools||Q.toolChoice){if(!this._clientCapabilities?.sampling?.tools)throw Error("Client does not support sampling tools capability.")}if(Q.messages.length>0){let W=Q.messages[Q.messages.length-1],Y=Array.isArray(W.content)?W.content:[W.content],$=Y.some((z)=>z.type==="tool_result"),J=Q.messages.length>1?Q.messages[Q.messages.length-2]:void 0,G=J?Array.isArray(J.content)?J.content:[J.content]:[],H=G.some((z)=>z.type==="tool_use");if($){if(Y.some((z)=>z.type!=="tool_result"))throw Error("The last message must contain only tool_result content if any is present");if(!H)throw Error("tool_result blocks are not matching any tool_use from the previous message")}if(H){let z=new Set(G.filter((A)=>A.type==="tool_use").map((A)=>A.id)),B=new Set(Y.filter((A)=>A.type==="tool_result").map((A)=>A.toolUseId));if(z.size!==B.size||![...z].every((A)=>B.has(A)))throw Error("ids of tool_result blocks and tool_use blocks from previous message do not match")}}if(Q.tools)return this.request({method:"sampling/createMessage",params:Q},bW,X);return this.request({method:"sampling/createMessage",params:Q},EW,X)}async elicitInput(Q,X){switch(Q.mode??"form"){case"url":{if(!this._clientCapabilities?.elicitation?.url)throw Error("Client does not support url elicitation.");let Y=Q;return this.request({method:"elicitation/create",params:Y},f9,X)}case"form":{if(!this._clientCapabilities?.elicitation?.form)throw Error("Client does not support form elicitation.");let Y=Q.mode==="form"?Q:{...Q,mode:"form"},$=await this.request({method:"elicitation/create",params:Y},f9,X);if($.action==="accept"&&$.content&&Y.requestedSchema)try{let G=this._jsonSchemaValidator.getValidator(Y.requestedSchema)($.content);if(!G.valid)throw new R(T.InvalidParams,`Elicitation response content does not match requested schema: ${G.errorMessage}`)}catch(J){if(J instanceof R)throw J;throw new R(T.InternalError,`Error validating elicitation response: ${J instanceof Error?J.message:String(J)}`)}return $}}}createElicitationCompletionNotifier(Q,X){if(!this._clientCapabilities?.elicitation?.url)throw Error("Client does not support URL elicitation (required for notifications/elicitation/complete)");return()=>this.notification({method:"notifications/elicitation/complete",params:{elicitationId:Q}},X)}async listRoots(Q,X){return this.request({method:"roots/list",params:Q},jW,X)}async sendLoggingMessage(Q,X){if(this._capabilities.logging){if(!this.isMessageIgnored(Q.level,X))return this.notification({method:"notifications/message",params:Q})}}async sendResourceUpdated(Q){return this.notification({method:"notifications/resources/updated",params:Q})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}}var BB=Symbol.for("mcp.completable");function uY(Q){return!!Q&&typeof Q==="object"&&BB in Q}function AB(Q){return Q[BB]?.complete}var zB;(function(Q){Q.Completable="McpCompletable"})(zB||(zB={}));var $E=/^[A-Za-z0-9._-]{1,128}$/;function JE(Q){let X=[];if(Q.length===0)return{isValid:!1,warnings:["Tool name cannot be empty"]};if(Q.length>128)return{isValid:!1,warnings:[`Tool name exceeds maximum length of 128 characters (current: ${Q.length})`]};if(Q.includes(" "))X.push("Tool name contains spaces, which may cause parsing issues");if(Q.includes(","))X.push("Tool name contains commas, which may cause parsing issues");if(Q.startsWith("-")||Q.endsWith("-"))X.push("Tool name starts or ends with a dash, which may cause parsing issues in some contexts");if(Q.startsWith(".")||Q.endsWith("."))X.push("Tool name starts or ends with a dot, which may cause parsing issues in some contexts");if(!$E.test(Q)){let W=Q.split("").filter((Y)=>!/[A-Za-z0-9._-]/.test(Y)).filter((Y,$,J)=>J.indexOf(Y)===$);return X.push(`Tool name contains invalid characters: ${W.map((Y)=>`"${Y}"`).join(", ")}`,"Allowed characters are: A-Z, a-z, 0-9, underscore (_), dash (-), and dot (.)"),{isValid:!1,warnings:X}}return{isValid:!0,warnings:X}}function GE(Q,X){if(X.length>0){console.warn(`Tool name validation warning for "${Q}":`);for(let W of X)console.warn(`  - ${W}`);console.warn("Tool registration will proceed, but this may cause compatibility issues."),console.warn("Consider updating the tool name to conform to the MCP tool naming standard."),console.warn("See SEP: Specify Format for Tool Names (https://github.com/modelcontextprotocol/modelcontextprotocol/issues/986) for more details.")}}function lY(Q){let X=JE(Q);return GE(Q,X.warnings),X.isValid}class mY{constructor(Q){this._mcpServer=Q}registerToolTask(Q,X,W){let Y={taskSupport:"required",...X.execution};if(Y.taskSupport==="forbidden")throw Error(`Cannot register task-based tool '${Q}' with taskSupport 'forbidden'. Use registerTool() instead.`);return this._mcpServer._createRegisteredTool(Q,X.title,X.description,X.inputSchema,X.outputSchema,X.annotations,Y,X._meta,W)}}class pY{constructor(Q,X){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new fY(Q,X)}get experimental(){if(!this._experimental)this._experimental={tasks:new mY(this)};return this._experimental}async connect(Q){return await this.server.connect(Q)}async close(){await this.server.close()}setToolRequestHandlers(){if(this._toolHandlersInitialized)return;this.server.assertCanSetRequestHandler(g1(y9)),this.server.assertCanSetRequestHandler(g1(q6)),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(y9,()=>({tools:Object.entries(this._registeredTools).filter(([,Q])=>Q.enabled).map(([Q,X])=>{let W={name:Q,title:X.title,description:X.description,inputSchema:(()=>{let Y=z6(X.inputSchema);return Y?TW(Y,{strictUnions:!0,pipeStrategy:"input"}):HE})(),annotations:X.annotations,execution:X.execution,_meta:X._meta};if(X.outputSchema){let Y=z6(X.outputSchema);if(Y)W.outputSchema=TW(Y,{strictUnions:!0,pipeStrategy:"output"})}return W})})),this.server.setRequestHandler(q6,async(Q,X)=>{try{let W=this._registeredTools[Q.params.name];if(!W)throw new R(T.InvalidParams,`Tool ${Q.params.name} not found`);if(!W.enabled)throw new R(T.InvalidParams,`Tool ${Q.params.name} disabled`);let Y=!!Q.params.task,$=W.execution?.taskSupport,J="createTask"in W.handler;if(($==="required"||$==="optional")&&!J)throw new R(T.InternalError,`Tool ${Q.params.name} has taskSupport '${$}' but was not registered with registerToolTask`);if($==="required"&&!Y)throw new R(T.MethodNotFound,`Tool ${Q.params.name} requires task augmentation (taskSupport: 'required')`);if($==="optional"&&!Y&&J)return await this.handleAutomaticTaskPolling(W,Q,X);let G=await this.validateToolInput(W,Q.params.arguments,Q.params.name),H=await this.executeToolHandler(W,G,X);if(Y)return H;return await this.validateToolOutput(W,H,Q.params.name),H}catch(W){if(W instanceof R){if(W.code===T.UrlElicitationRequired)throw W}return this.createToolError(W instanceof Error?W.message:String(W))}}),this._toolHandlersInitialized=!0}createToolError(Q){return{content:[{type:"text",text:Q}],isError:!0}}async validateToolInput(Q,X,W){if(!Q.inputSchema)return;let $=z6(Q.inputSchema)??Q.inputSchema,J=await D9($,X);if(!J.success){let G="error"in J?J.error:"Unknown error",H=L9(G);throw new R(T.InvalidParams,`Input validation error: Invalid arguments for tool ${W}: ${H}`)}return J.data}async validateToolOutput(Q,X,W){if(!Q.outputSchema)return;if(!("content"in X))return;if(X.isError)return;if(!X.structuredContent)throw new R(T.InvalidParams,`Output validation error: Tool ${W} has an output schema but no structured content was provided`);let Y=z6(Q.outputSchema),$=await D9(Y,X.structuredContent);if(!$.success){let J="error"in $?$.error:"Unknown error",G=L9(J);throw new R(T.InvalidParams,`Output validation error: Invalid structured content for tool ${W}: ${G}`)}}async executeToolHandler(Q,X,W){let Y=Q.handler;if("createTask"in Y){if(!W.taskStore)throw Error("No task store provided.");let J={...W,taskStore:W.taskStore};if(Q.inputSchema)return await Promise.resolve(Y.createTask(X,J));else return await Promise.resolve(Y.createTask(J))}if(Q.inputSchema)return await Promise.resolve(Y(X,W));else return await Promise.resolve(Y(W))}async handleAutomaticTaskPolling(Q,X,W){if(!W.taskStore)throw Error("No task store provided for task-capable tool.");let Y=await this.validateToolInput(Q,X.params.arguments,X.params.name),$=Q.handler,J={...W,taskStore:W.taskStore},G=Y?await Promise.resolve($.createTask(Y,J)):await Promise.resolve($.createTask(J)),H=G.task.taskId,z=G.task,B=z.pollInterval??5000;while(z.status!=="completed"&&z.status!=="failed"&&z.status!=="cancelled"){await new Promise((K)=>setTimeout(K,B));let A=await W.taskStore.getTask(H);if(!A)throw new R(T.InternalError,`Task ${H} not found during polling`);z=A}return await W.taskStore.getTaskResult(H)}setCompletionRequestHandler(){if(this._completionHandlerInitialized)return;this.server.assertCanSetRequestHandler(g1(u9)),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(u9,async(Q)=>{switch(Q.params.ref.type){case"ref/prompt":return dG(Q),this.handlePromptCompletion(Q,Q.params.ref);case"ref/resource":return iG(Q),this.handleResourceCompletion(Q,Q.params.ref);default:throw new R(T.InvalidParams,`Invalid completion reference: ${Q.params.ref}`)}}),this._completionHandlerInitialized=!0}async handlePromptCompletion(Q,X){let W=this._registeredPrompts[X.name];if(!W)throw new R(T.InvalidParams,`Prompt ${X.name} not found`);if(!W.enabled)throw new R(T.InvalidParams,`Prompt ${X.name} disabled`);if(!W.argsSchema)return f4;let $=S1(W.argsSchema)?.[Q.params.argument.name];if(!uY($))return f4;let J=AB($);if(!J)return f4;let G=await J(Q.params.argument.value,Q.params.context);return qB(G)}async handleResourceCompletion(Q,X){let W=Object.values(this._registeredResourceTemplates).find((J)=>J.resourceTemplate.uriTemplate.toString()===X.uri);if(!W){if(this._registeredResources[X.uri])return f4;throw new R(T.InvalidParams,`Resource template ${Q.params.ref.uri} not found`)}let Y=W.resourceTemplate.completeCallback(Q.params.argument.name);if(!Y)return f4;let $=await Y(Q.params.argument.value,Q.params.context);return qB($)}setResourceRequestHandlers(){if(this._resourceHandlersInitialized)return;this.server.assertCanSetRequestHandler(g1(v9)),this.server.assertCanSetRequestHandler(g1(k9)),this.server.assertCanSetRequestHandler(g1(_9)),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(v9,async(Q,X)=>{let W=Object.entries(this._registeredResources).filter(([$,J])=>J.enabled).map(([$,J])=>({uri:$,name:J.name,...J.metadata})),Y=[];for(let $ of Object.values(this._registeredResourceTemplates)){if(!$.resourceTemplate.listCallback)continue;let J=await $.resourceTemplate.listCallback(X);for(let G of J.resources)Y.push({...$.metadata,...G})}return{resources:[...W,...Y]}}),this.server.setRequestHandler(k9,async()=>{return{resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([X,W])=>({name:X,uriTemplate:W.resourceTemplate.uriTemplate.toString(),...W.metadata}))}}),this.server.setRequestHandler(_9,async(Q,X)=>{let W=new URL(Q.params.uri),Y=this._registeredResources[W.toString()];if(Y){if(!Y.enabled)throw new R(T.InvalidParams,`Resource ${W} disabled`);return Y.readCallback(W,X)}for(let $ of Object.values(this._registeredResourceTemplates)){let J=$.resourceTemplate.uriTemplate.match(W.toString());if(J)return $.readCallback(W,J,X)}throw new R(T.InvalidParams,`Resource ${W} not found`)}),this._resourceHandlersInitialized=!0}setPromptRequestHandlers(){if(this._promptHandlersInitialized)return;this.server.assertCanSetRequestHandler(g1(x9)),this.server.assertCanSetRequestHandler(g1(g9)),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(x9,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,Q])=>Q.enabled).map(([Q,X])=>{return{name:Q,title:X.title,description:X.description,arguments:X.argsSchema?BE(X.argsSchema):void 0}})})),this.server.setRequestHandler(g9,async(Q,X)=>{let W=this._registeredPrompts[Q.params.name];if(!W)throw new R(T.InvalidParams,`Prompt ${Q.params.name} not found`);if(!W.enabled)throw new R(T.InvalidParams,`Prompt ${Q.params.name} disabled`);if(W.argsSchema){let Y=z6(W.argsSchema),$=await D9(Y,Q.params.arguments);if(!$.success){let H="error"in $?$.error:"Unknown error",z=L9(H);throw new R(T.InvalidParams,`Invalid arguments for prompt ${Q.params.name}: ${z}`)}let J=$.data,G=W.callback;return await Promise.resolve(G(J,X))}else{let Y=W.callback;return await Promise.resolve(Y(X))}}),this._promptHandlersInitialized=!0}resource(Q,X,...W){let Y;if(typeof W[0]==="object")Y=W.shift();let $=W[0];if(typeof X==="string"){if(this._registeredResources[X])throw Error(`Resource ${X} is already registered`);let J=this._createRegisteredResource(Q,void 0,X,Y,$);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),J}else{if(this._registeredResourceTemplates[Q])throw Error(`Resource template ${Q} is already registered`);let J=this._createRegisteredResourceTemplate(Q,void 0,X,Y,$);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),J}}registerResource(Q,X,W,Y){if(typeof X==="string"){if(this._registeredResources[X])throw Error(`Resource ${X} is already registered`);let $=this._createRegisteredResource(Q,W.title,X,W,Y);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),$}else{if(this._registeredResourceTemplates[Q])throw Error(`Resource template ${Q} is already registered`);let $=this._createRegisteredResourceTemplate(Q,W.title,X,W,Y);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),$}}_createRegisteredResource(Q,X,W,Y,$){let J={name:Q,title:X,metadata:Y,readCallback:$,enabled:!0,disable:()=>J.update({enabled:!1}),enable:()=>J.update({enabled:!0}),remove:()=>J.update({uri:null}),update:(G)=>{if(typeof G.uri<"u"&&G.uri!==W){if(delete this._registeredResources[W],G.uri)this._registeredResources[G.uri]=J}if(typeof G.name<"u")J.name=G.name;if(typeof G.title<"u")J.title=G.title;if(typeof G.metadata<"u")J.metadata=G.metadata;if(typeof G.callback<"u")J.readCallback=G.callback;if(typeof G.enabled<"u")J.enabled=G.enabled;this.sendResourceListChanged()}};return this._registeredResources[W]=J,J}_createRegisteredResourceTemplate(Q,X,W,Y,$){let J={resourceTemplate:W,title:X,metadata:Y,readCallback:$,enabled:!0,disable:()=>J.update({enabled:!1}),enable:()=>J.update({enabled:!0}),remove:()=>J.update({name:null}),update:(z)=>{if(typeof z.name<"u"&&z.name!==Q){if(delete this._registeredResourceTemplates[Q],z.name)this._registeredResourceTemplates[z.name]=J}if(typeof z.title<"u")J.title=z.title;if(typeof z.template<"u")J.resourceTemplate=z.template;if(typeof z.metadata<"u")J.metadata=z.metadata;if(typeof z.callback<"u")J.readCallback=z.callback;if(typeof z.enabled<"u")J.enabled=z.enabled;this.sendResourceListChanged()}};this._registeredResourceTemplates[Q]=J;let G=W.uriTemplate.variableNames;if(Array.isArray(G)&&G.some((z)=>!!W.completeCallback(z)))this.setCompletionRequestHandler();return J}_createRegisteredPrompt(Q,X,W,Y,$){let J={title:X,description:W,argsSchema:Y===void 0?void 0:d1(Y),callback:$,enabled:!0,disable:()=>J.update({enabled:!1}),enable:()=>J.update({enabled:!0}),remove:()=>J.update({name:null}),update:(G)=>{if(typeof G.name<"u"&&G.name!==Q){if(delete this._registeredPrompts[Q],G.name)this._registeredPrompts[G.name]=J}if(typeof G.title<"u")J.title=G.title;if(typeof G.description<"u")J.description=G.description;if(typeof G.argsSchema<"u")J.argsSchema=d1(G.argsSchema);if(typeof G.callback<"u")J.callback=G.callback;if(typeof G.enabled<"u")J.enabled=G.enabled;this.sendPromptListChanged()}};if(this._registeredPrompts[Q]=J,Y){if(Object.values(Y).some((H)=>{let z=H instanceof O9?H._def?.innerType:H;return uY(z)}))this.setCompletionRequestHandler()}return J}_createRegisteredTool(Q,X,W,Y,$,J,G,H,z){lY(Q);let B={title:X,description:W,inputSchema:KB(Y),outputSchema:KB($),annotations:J,execution:G,_meta:H,handler:z,enabled:!0,disable:()=>B.update({enabled:!1}),enable:()=>B.update({enabled:!0}),remove:()=>B.update({name:null}),update:(A)=>{if(typeof A.name<"u"&&A.name!==Q){if(typeof A.name==="string")lY(A.name);if(delete this._registeredTools[Q],A.name)this._registeredTools[A.name]=B}if(typeof A.title<"u")B.title=A.title;if(typeof A.description<"u")B.description=A.description;if(typeof A.paramsSchema<"u")B.inputSchema=d1(A.paramsSchema);if(typeof A.outputSchema<"u")B.outputSchema=d1(A.outputSchema);if(typeof A.callback<"u")B.handler=A.callback;if(typeof A.annotations<"u")B.annotations=A.annotations;if(typeof A._meta<"u")B._meta=A._meta;if(typeof A.enabled<"u")B.enabled=A.enabled;this.sendToolListChanged()}};return this._registeredTools[Q]=B,this.setToolRequestHandlers(),this.sendToolListChanged(),B}tool(Q,...X){if(this._registeredTools[Q])throw Error(`Tool ${Q} is already registered`);let W,Y,$,J;if(typeof X[0]==="string")W=X.shift();if(X.length>1){let H=X[0];if(cY(H)){if(Y=X.shift(),X.length>1&&typeof X[0]==="object"&&X[0]!==null&&!cY(X[0]))J=X.shift()}else if(typeof H==="object"&&H!==null)J=X.shift()}let G=X[0];return this._createRegisteredTool(Q,void 0,W,Y,$,J,{taskSupport:"forbidden"},void 0,G)}registerTool(Q,X,W){if(this._registeredTools[Q])throw Error(`Tool ${Q} is already registered`);let{title:Y,description:$,inputSchema:J,outputSchema:G,annotations:H,_meta:z}=X;return this._createRegisteredTool(Q,Y,$,J,G,H,{taskSupport:"forbidden"},z,W)}prompt(Q,...X){if(this._registeredPrompts[Q])throw Error(`Prompt ${Q} is already registered`);let W;if(typeof X[0]==="string")W=X.shift();let Y;if(X.length>1)Y=X.shift();let $=X[0],J=this._createRegisteredPrompt(Q,void 0,W,Y,$);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),J}registerPrompt(Q,X,W){if(this._registeredPrompts[Q])throw Error(`Prompt ${Q} is already registered`);let{title:Y,description:$,argsSchema:J}=X,G=this._createRegisteredPrompt(Q,Y,$,J,W);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),G}isConnected(){return this.server.transport!==void 0}async sendLoggingMessage(Q,X){return this.server.sendLoggingMessage(Q,X)}sendResourceListChanged(){if(this.isConnected())this.server.sendResourceListChanged()}sendToolListChanged(){if(this.isConnected())this.server.sendToolListChanged()}sendPromptListChanged(){if(this.isConnected())this.server.sendPromptListChanged()}}var HE={type:"object",properties:{}};function DB(Q){return Q!==null&&typeof Q==="object"&&"parse"in Q&&typeof Q.parse==="function"&&"safeParse"in Q&&typeof Q.safeParse==="function"}function zE(Q){return"_def"in Q||"_zod"in Q||DB(Q)}function cY(Q){if(typeof Q!=="object"||Q===null)return!1;if(zE(Q))return!1;if(Object.keys(Q).length===0)return!0;return Object.values(Q).some(DB)}function KB(Q){if(!Q)return;if(cY(Q))return d1(Q);return Q}function BE(Q){let X=S1(Q);if(!X)return[];return Object.entries(X).map(([W,Y])=>{let $=eJ(Y),J=QG(Y);return{name:W,description:$,required:!J}})}function g1(Q){let W=S1(Q)?.method;if(!W)throw Error("Schema is missing a method literal");let Y=V9(W);if(typeof Y==="string")return Y;throw Error("Schema method literal must be a string")}function qB(Q){return{completion:{values:Q.slice(0,100),total:Q.length,hasMore:Q.length>100}}}var f4={completion:{values:[],hasMore:!1}};import VB from"node:process";class dY{append(Q){this._buffer=this._buffer?Buffer.concat([this._buffer,Q]):Q}readMessage(){if(!this._buffer)return null;let Q=this._buffer.indexOf(`
`);if(Q===-1)return null;let X=this._buffer.toString("utf8",0,Q).replace(/\r$/,"");return this._buffer=this._buffer.subarray(Q+1),AE(X)}clear(){this._buffer=void 0}}function AE(Q){return yG.parse(JSON.parse(Q))}function LB(Q){return JSON.stringify(Q)+`
`}class iY{constructor(Q=VB.stdin,X=VB.stdout){this._stdin=Q,this._stdout=X,this._readBuffer=new dY,this._started=!1,this._ondata=(W)=>{this._readBuffer.append(W),this.processReadBuffer()},this._onerror=(W)=>{this.onerror?.(W)}}async start(){if(this._started)throw Error("StdioServerTransport already started! If using Server class, note that connect() calls start() automatically.");this._started=!0,this._stdin.on("data",this._ondata),this._stdin.on("error",this._onerror)}processReadBuffer(){while(!0)try{let Q=this._readBuffer.readMessage();if(Q===null)break;this.onmessage?.(Q)}catch(Q){this.onerror?.(Q)}}async close(){if(this._stdin.off("data",this._ondata),this._stdin.off("error",this._onerror),this._stdin.listenerCount("data")===0)this._stdin.pause();this._readBuffer.clear(),this.onclose?.()}send(Q){return new Promise((X)=>{let W=LB(Q);if(this._stdout.write(W))X();else this._stdout.once("drain",X)})}}var UB=new pY({name:"neo-tools",version:"1.0.0"});UB.registerPrompt("git_commit",{description:"\u5C07\u76EE\u524D\u6240\u6709\u8B8A\u66F4 (Staged) \u8F49\u5316\u70BA\u9AD8\u54C1\u8CEA\u7684 Conventional Commits \u8A0A\u606F"},async()=>{Bun.spawnSync(["git","add","."],{cwd:process.cwd()});let{stdout:Q}=Bun.spawnSync(["git","diff","--staged"],{cwd:process.cwd()}),X=new TextDecoder().decode(Q),W=`${import.meta.dir}/prompts.toml`,Y=await Bun.file(W).text();return{messages:[{role:"user",content:{type:"text",text:Bun.TOML.parse(Y).git_commit.template.replace("{{args}}",X)}}]}});async function KE(){let Q=new iY;await UB.connect(Q),console.error("Neo Tools MCP Server running on stdio")}KE();
